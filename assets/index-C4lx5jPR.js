var vm=e=>{throw TypeError(e)};var Uc=(e,t,r)=>t.has(e)||vm("Cannot "+r);var P=(e,t,r)=>(Uc(e,t,"read from private field"),r?r.call(e):t.get(e)),le=(e,t,r)=>t.has(e)?vm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Z=(e,t,r,n)=>(Uc(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),qe=(e,t,r)=>(Uc(e,t,"access private method"),r);var ii=(e,t,r,n)=>({set _(s){Z(e,t,s,r)},get _(){return P(e,t,n)}});function Av(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Pv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hj(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Ov={exports:{}},Gl={},Iv={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=Symbol.for("react.element"),fj=Symbol.for("react.portal"),mj=Symbol.for("react.fragment"),pj=Symbol.for("react.strict_mode"),gj=Symbol.for("react.profiler"),vj=Symbol.for("react.provider"),yj=Symbol.for("react.context"),xj=Symbol.for("react.forward_ref"),wj=Symbol.for("react.suspense"),bj=Symbol.for("react.memo"),_j=Symbol.for("react.lazy"),ym=Symbol.iterator;function jj(e){return e===null||typeof e!="object"?null:(e=ym&&e[ym]||e["@@iterator"],typeof e=="function"?e:null)}var Dv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lv=Object.assign,$v={};function jo(e,t,r){this.props=e,this.context=t,this.refs=$v,this.updater=r||Dv}jo.prototype.isReactComponent={};jo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mv(){}Mv.prototype=jo.prototype;function gh(e,t,r){this.props=e,this.context=t,this.refs=$v,this.updater=r||Dv}var vh=gh.prototype=new Mv;vh.constructor=gh;Lv(vh,jo.prototype);vh.isPureReactComponent=!0;var xm=Array.isArray,Uv=Object.prototype.hasOwnProperty,yh={current:null},Fv={key:!0,ref:!0,__self:!0,__source:!0};function zv(e,t,r){var n,s={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Uv.call(t,n)&&!Fv.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:qa,type:e,key:o,ref:a,props:s,_owner:yh.current}}function Sj(e,t){return{$$typeof:qa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xh(e){return typeof e=="object"&&e!==null&&e.$$typeof===qa}function Nj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wm=/\/+/g;function Fc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nj(""+e.key):t.toString(36)}function Vi(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case qa:case fj:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Fc(a,0):n,xm(s)?(r="",e!=null&&(r=e.replace(wm,"$&/")+"/"),Vi(s,t,r,"",function(u){return u})):s!=null&&(xh(s)&&(s=Sj(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(wm,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",xm(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Fc(o,l);a+=Vi(o,t,r,c,s)}else if(c=jj(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Fc(o,l++),a+=Vi(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function li(e,t,r){if(e==null)return e;var n=[],s=0;return Vi(e,n,"","",function(o){return t.call(r,o,s++)}),n}function Ej(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},Hi={transition:null},kj={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Hi,ReactCurrentOwner:yh};function Bv(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:li,forEach:function(e,t,r){li(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return li(e,function(){t++}),t},toArray:function(e){return li(e,function(t){return t})||[]},only:function(e){if(!xh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=jo;oe.Fragment=mj;oe.Profiler=gj;oe.PureComponent=gh;oe.StrictMode=pj;oe.Suspense=wj;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kj;oe.act=Bv;oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Lv({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=yh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Uv.call(t,c)&&!Fv.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:qa,type:e.type,key:s,ref:o,props:n,_owner:a}};oe.createContext=function(e){return e={$$typeof:yj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vj,_context:e},e.Consumer=e};oe.createElement=zv;oe.createFactory=function(e){var t=zv.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:xj,render:e}};oe.isValidElement=xh;oe.lazy=function(e){return{$$typeof:_j,_payload:{_status:-1,_result:e},_init:Ej}};oe.memo=function(e,t){return{$$typeof:bj,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Hi.transition;Hi.transition={};try{e()}finally{Hi.transition=t}};oe.unstable_act=Bv;oe.useCallback=function(e,t){return st.current.useCallback(e,t)};oe.useContext=function(e){return st.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return st.current.useDeferredValue(e)};oe.useEffect=function(e,t){return st.current.useEffect(e,t)};oe.useId=function(){return st.current.useId()};oe.useImperativeHandle=function(e,t,r){return st.current.useImperativeHandle(e,t,r)};oe.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return st.current.useMemo(e,t)};oe.useReducer=function(e,t,r){return st.current.useReducer(e,t,r)};oe.useRef=function(e){return st.current.useRef(e)};oe.useState=function(e){return st.current.useState(e)};oe.useSyncExternalStore=function(e,t,r){return st.current.useSyncExternalStore(e,t,r)};oe.useTransition=function(){return st.current.useTransition()};oe.version="18.3.1";Iv.exports=oe;var v=Iv.exports;const M=Pv(v),wh=Av({__proto__:null,default:M},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cj=v,Tj=Symbol.for("react.element"),Rj=Symbol.for("react.fragment"),Aj=Object.prototype.hasOwnProperty,Pj=Cj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Oj={key:!0,ref:!0,__self:!0,__source:!0};function Vv(e,t,r){var n,s={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Aj.call(t,n)&&!Oj.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Tj,type:e,key:o,ref:a,props:s,_owner:Pj.current}}Gl.Fragment=Rj;Gl.jsx=Vv;Gl.jsxs=Vv;Ov.exports=Gl;var i=Ov.exports,Hv={exports:{}},_t={},qv={exports:{}},Gv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,O){var F=A.length;A.push(O);e:for(;0<F;){var W=F-1>>>1,G=A[W];if(0<s(G,O))A[W]=O,A[F]=G,F=W;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var O=A[0],F=A.pop();if(F!==O){A[0]=F;e:for(var W=0,G=A.length,re=G>>>1;W<re;){var ae=2*(W+1)-1,Te=A[ae],He=ae+1,ce=A[He];if(0>s(Te,F))He<G&&0>s(ce,Te)?(A[W]=ce,A[He]=F,W=He):(A[W]=Te,A[ae]=F,W=ae);else if(He<G&&0>s(ce,F))A[W]=ce,A[He]=F,W=He;else break e}}return O}function s(A,O){var F=A.sortIndex-O.sortIndex;return F!==0?F:A.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,m=3,f=!1,x=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=A)n(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(u)}}function _(A){if(p=!1,b(A),!x)if(r(c)!==null)x=!0,$(N);else{var O=r(u);O!==null&&V(_,O.startTime-A)}}function N(A,O){x=!1,p&&(p=!1,w(E),E=-1),f=!0;var F=m;try{for(b(O),h=r(c);h!==null&&(!(h.expirationTime>O)||A&&!k());){var W=h.callback;if(typeof W=="function"){h.callback=null,m=h.priorityLevel;var G=W(h.expirationTime<=O);O=e.unstable_now(),typeof G=="function"?h.callback=G:h===r(c)&&n(c),b(O)}else n(c);h=r(c)}if(h!==null)var re=!0;else{var ae=r(u);ae!==null&&V(_,ae.startTime-O),re=!1}return re}finally{h=null,m=F,f=!1}}var j=!1,S=null,E=-1,C=5,R=-1;function k(){return!(e.unstable_now()-R<C)}function T(){if(S!==null){var A=e.unstable_now();R=A;var O=!0;try{O=S(!0,A)}finally{O?U():(j=!1,S=null)}}else j=!1}var U;if(typeof g=="function")U=function(){g(T)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,J=I.port2;I.port1.onmessage=T,U=function(){J.postMessage(null)}}else U=function(){y(T,0)};function $(A){S=A,j||(j=!0,U())}function V(A,O){E=y(function(){A(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){x||f||(x=!0,$(N))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var F=m;m=O;try{return A()}finally{m=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=m;m=A;try{return O()}finally{m=F}},e.unstable_scheduleCallback=function(A,O,F){var W=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,A){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,A={id:d++,callback:O,priorityLevel:A,startTime:F,expirationTime:G,sortIndex:-1},F>W?(A.sortIndex=F,t(u,A),r(c)===null&&A===r(u)&&(p?(w(E),E=-1):p=!0,V(_,F-W))):(A.sortIndex=G,t(c,A),x||f||(x=!0,$(N))),A},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(A){var O=m;return function(){var F=m;m=O;try{return A.apply(this,arguments)}finally{m=F}}}})(Gv);qv.exports=Gv;var Ij=qv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dj=v,bt=Ij;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wv=new Set,ha={};function ds(e,t){uo(e,t),uo(e+"Capture",t)}function uo(e,t){for(ha[e]=t,e=0;e<t.length;e++)Wv.add(t[e])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=Object.prototype.hasOwnProperty,Lj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bm={},_m={};function $j(e){return Mu.call(_m,e)?!0:Mu.call(bm,e)?!1:Lj.test(e)?_m[e]=!0:(bm[e]=!0,!1)}function Mj(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Uj(e,t,r,n){if(t===null||typeof t>"u"||Mj(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,r,n,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var bh=/[\-:]([a-z])/g;function _h(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bh,_h);Ve[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bh,_h);Ve[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bh,_h);Ve[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function jh(e,t,r,n){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Uj(t,r,s,n)&&(r=null),n||s===null?$j(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ir=Dj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ci=Symbol.for("react.element"),Ps=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),Sh=Symbol.for("react.strict_mode"),Uu=Symbol.for("react.profiler"),Kv=Symbol.for("react.provider"),Qv=Symbol.for("react.context"),Nh=Symbol.for("react.forward_ref"),Fu=Symbol.for("react.suspense"),zu=Symbol.for("react.suspense_list"),Eh=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),Jv=Symbol.for("react.offscreen"),jm=Symbol.iterator;function Lo(e){return e===null||typeof e!="object"?null:(e=jm&&e[jm]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,zc;function Go(e){if(zc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zc=t&&t[1]||""}return`
`+zc+e}var Bc=!1;function Vc(e,t){if(!e||Bc)return"";Bc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Bc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Go(e):""}function Fj(e){switch(e.tag){case 5:return Go(e.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return e=Vc(e.type,!1),e;case 11:return e=Vc(e.type.render,!1),e;case 1:return e=Vc(e.type,!0),e;default:return""}}function Bu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Os:return"Fragment";case Ps:return"Portal";case Uu:return"Profiler";case Sh:return"StrictMode";case Fu:return"Suspense";case zu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qv:return(e.displayName||"Context")+".Consumer";case Kv:return(e._context.displayName||"Context")+".Provider";case Nh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eh:return t=e.displayName||null,t!==null?t:Bu(e.type)||"Memo";case Qr:t=e._payload,e=e._init;try{return Bu(e(t))}catch{}}return null}function zj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bu(t);case 8:return t===Sh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bj(e){var t=Yv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ui(e){e._valueTracker||(e._valueTracker=Bj(e))}function Xv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Yv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function il(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vu(e,t){var r=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_n(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zv(e,t){t=t.checked,t!=null&&jh(e,"checked",t,!1)}function Hu(e,t){Zv(e,t);var r=_n(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qu(e,t.type,r):t.hasOwnProperty("defaultValue")&&qu(e,t.type,_n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function qu(e,t,r){(t!=="number"||il(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Wo=Array.isArray;function Hs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_n(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Em(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(Wo(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_n(r)}}function ey(e,t){var r=_n(t.value),n=_n(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function km(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ty(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ty(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var di,ry=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(di=di||document.createElement("div"),di.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=di.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vj=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(e){Vj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yo[t]=Yo[e]})});function ny(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Yo.hasOwnProperty(e)&&Yo[e]?(""+t).trim():t+"px"}function sy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ny(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Hj=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ku(e,t){if(t){if(Hj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Qu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ju=null;function kh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yu=null,qs=null,Gs=null;function Cm(e){if(e=Ka(e)){if(typeof Yu!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Yl(t),Yu(e.stateNode,e.type,t))}}function oy(e){qs?Gs?Gs.push(e):Gs=[e]:qs=e}function ay(){if(qs){var e=qs,t=Gs;if(Gs=qs=null,Cm(e),t)for(e=0;e<t.length;e++)Cm(t[e])}}function iy(e,t){return e(t)}function ly(){}var Hc=!1;function cy(e,t,r){if(Hc)return e(t,r);Hc=!0;try{return iy(e,t,r)}finally{Hc=!1,(qs!==null||Gs!==null)&&(ly(),ay())}}function ma(e,t){var r=e.stateNode;if(r===null)return null;var n=Yl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Xu=!1;if(kr)try{var $o={};Object.defineProperty($o,"passive",{get:function(){Xu=!0}}),window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{Xu=!1}function qj(e,t,r,n,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Xo=!1,ll=null,cl=!1,Zu=null,Gj={onError:function(e){Xo=!0,ll=e}};function Wj(e,t,r,n,s,o,a,l,c){Xo=!1,ll=null,qj.apply(Gj,arguments)}function Kj(e,t,r,n,s,o,a,l,c){if(Wj.apply(this,arguments),Xo){if(Xo){var u=ll;Xo=!1,ll=null}else throw Error(L(198));cl||(cl=!0,Zu=u)}}function hs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function uy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tm(e){if(hs(e)!==e)throw Error(L(188))}function Qj(e){var t=e.alternate;if(!t){if(t=hs(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Tm(s),e;if(o===n)return Tm(s),t;o=o.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=o;break}if(l===n){a=!0,n=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=s;break}if(l===n){a=!0,n=o,r=s;break}l=l.sibling}if(!a)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function dy(e){return e=Qj(e),e!==null?hy(e):null}function hy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hy(e);if(t!==null)return t;e=e.sibling}return null}var fy=bt.unstable_scheduleCallback,Rm=bt.unstable_cancelCallback,Jj=bt.unstable_shouldYield,Yj=bt.unstable_requestPaint,Ce=bt.unstable_now,Xj=bt.unstable_getCurrentPriorityLevel,Ch=bt.unstable_ImmediatePriority,my=bt.unstable_UserBlockingPriority,ul=bt.unstable_NormalPriority,Zj=bt.unstable_LowPriority,py=bt.unstable_IdlePriority,Wl=null,dr=null;function eS(e){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Wl,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:nS,tS=Math.log,rS=Math.LN2;function nS(e){return e>>>=0,e===0?32:31-(tS(e)/rS|0)|0}var hi=64,fi=4194304;function Ko(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Ko(l):(o&=a,o!==0&&(n=Ko(o)))}else a=r&~s,a!==0?n=Ko(a):o!==0&&(n=Ko(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Xt(t),s=1<<r,n|=e[r],t&=~s;return n}function sS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oS(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Xt(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=sS(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function ed(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gy(){var e=hi;return hi<<=1,!(hi&4194240)&&(hi=64),e}function qc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ga(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=r}function aS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Xt(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Th(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Xt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ue=0;function vy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yy,Rh,xy,wy,by,td=!1,mi=[],un=null,dn=null,hn=null,pa=new Map,ga=new Map,Xr=[],iS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Am(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(t.pointerId)}}function Mo(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ka(t),t!==null&&Rh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function lS(e,t,r,n,s){switch(t){case"focusin":return un=Mo(un,e,t,r,n,s),!0;case"dragenter":return dn=Mo(dn,e,t,r,n,s),!0;case"mouseover":return hn=Mo(hn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return pa.set(o,Mo(pa.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,ga.set(o,Mo(ga.get(o)||null,e,t,r,n,s)),!0}return!1}function _y(e){var t=Bn(e.target);if(t!==null){var r=hs(t);if(r!==null){if(t=r.tag,t===13){if(t=uy(r),t!==null){e.blockedOn=t,by(e.priority,function(){xy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ju=n,r.target.dispatchEvent(n),Ju=null}else return t=Ka(r),t!==null&&Rh(t),e.blockedOn=r,!1;t.shift()}return!0}function Pm(e,t,r){qi(e)&&r.delete(t)}function cS(){td=!1,un!==null&&qi(un)&&(un=null),dn!==null&&qi(dn)&&(dn=null),hn!==null&&qi(hn)&&(hn=null),pa.forEach(Pm),ga.forEach(Pm)}function Uo(e,t){e.blockedOn===t&&(e.blockedOn=null,td||(td=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,cS)))}function va(e){function t(s){return Uo(s,e)}if(0<mi.length){Uo(mi[0],e);for(var r=1;r<mi.length;r++){var n=mi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(un!==null&&Uo(un,e),dn!==null&&Uo(dn,e),hn!==null&&Uo(hn,e),pa.forEach(t),ga.forEach(t),r=0;r<Xr.length;r++)n=Xr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xr.length&&(r=Xr[0],r.blockedOn===null);)_y(r),r.blockedOn===null&&Xr.shift()}var Ws=Ir.ReactCurrentBatchConfig,hl=!0;function uS(e,t,r,n){var s=ue,o=Ws.transition;Ws.transition=null;try{ue=1,Ah(e,t,r,n)}finally{ue=s,Ws.transition=o}}function dS(e,t,r,n){var s=ue,o=Ws.transition;Ws.transition=null;try{ue=4,Ah(e,t,r,n)}finally{ue=s,Ws.transition=o}}function Ah(e,t,r,n){if(hl){var s=rd(e,t,r,n);if(s===null)tu(e,t,n,fl,r),Am(e,n);else if(lS(s,e,t,r,n))n.stopPropagation();else if(Am(e,n),t&4&&-1<iS.indexOf(e)){for(;s!==null;){var o=Ka(s);if(o!==null&&yy(o),o=rd(e,t,r,n),o===null&&tu(e,t,n,fl,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else tu(e,t,n,null,r)}}var fl=null;function rd(e,t,r,n){if(fl=null,e=kh(n),e=Bn(e),e!==null)if(t=hs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=uy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fl=e,null}function jy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xj()){case Ch:return 1;case my:return 4;case ul:case Zj:return 16;case py:return 536870912;default:return 16}default:return 16}}var an=null,Ph=null,Gi=null;function Sy(){if(Gi)return Gi;var e,t=Ph,r=t.length,n,s="value"in an?an.value:an.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[o-n];n++);return Gi=s.slice(e,1<n?1-n:void 0)}function Wi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pi(){return!0}function Om(){return!1}function jt(e){function t(r,n,s,o,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pi:Om,this.isPropagationStopped=Om,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),t}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oh=jt(So),Wa=Ne({},So,{view:0,detail:0}),hS=jt(Wa),Gc,Wc,Fo,Kl=Ne({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ih,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fo&&(Fo&&e.type==="mousemove"?(Gc=e.screenX-Fo.screenX,Wc=e.screenY-Fo.screenY):Wc=Gc=0,Fo=e),Gc)},movementY:function(e){return"movementY"in e?e.movementY:Wc}}),Im=jt(Kl),fS=Ne({},Kl,{dataTransfer:0}),mS=jt(fS),pS=Ne({},Wa,{relatedTarget:0}),Kc=jt(pS),gS=Ne({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),vS=jt(gS),yS=Ne({},So,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xS=jt(yS),wS=Ne({},So,{data:0}),Dm=jt(wS),bS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_S={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jS[e])?!!t[e]:!1}function Ih(){return SS}var NS=Ne({},Wa,{key:function(e){if(e.key){var t=bS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_S[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ih,charCode:function(e){return e.type==="keypress"?Wi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ES=jt(NS),kS=Ne({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lm=jt(kS),CS=Ne({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ih}),TS=jt(CS),RS=Ne({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),AS=jt(RS),PS=Ne({},Kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=jt(PS),IS=[9,13,27,32],Dh=kr&&"CompositionEvent"in window,Zo=null;kr&&"documentMode"in document&&(Zo=document.documentMode);var DS=kr&&"TextEvent"in window&&!Zo,Ny=kr&&(!Dh||Zo&&8<Zo&&11>=Zo),$m=" ",Mm=!1;function Ey(e,t){switch(e){case"keyup":return IS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ky(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Is=!1;function LS(e,t){switch(e){case"compositionend":return ky(t);case"keypress":return t.which!==32?null:(Mm=!0,$m);case"textInput":return e=t.data,e===$m&&Mm?null:e;default:return null}}function $S(e,t){if(Is)return e==="compositionend"||!Dh&&Ey(e,t)?(e=Sy(),Gi=Ph=an=null,Is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ny&&t.locale!=="ko"?null:t.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MS[e.type]:t==="textarea"}function Cy(e,t,r,n){oy(n),t=ml(t,"onChange"),0<t.length&&(r=new Oh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ea=null,ya=null;function US(e){Uy(e,0)}function Ql(e){var t=$s(e);if(Xv(t))return e}function FS(e,t){if(e==="change")return t}var Ty=!1;if(kr){var Qc;if(kr){var Jc="oninput"in document;if(!Jc){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),Jc=typeof Fm.oninput=="function"}Qc=Jc}else Qc=!1;Ty=Qc&&(!document.documentMode||9<document.documentMode)}function zm(){ea&&(ea.detachEvent("onpropertychange",Ry),ya=ea=null)}function Ry(e){if(e.propertyName==="value"&&Ql(ya)){var t=[];Cy(t,ya,e,kh(e)),cy(US,t)}}function zS(e,t,r){e==="focusin"?(zm(),ea=t,ya=r,ea.attachEvent("onpropertychange",Ry)):e==="focusout"&&zm()}function BS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ql(ya)}function VS(e,t){if(e==="click")return Ql(t)}function HS(e,t){if(e==="input"||e==="change")return Ql(t)}function qS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var er=typeof Object.is=="function"?Object.is:qS;function xa(e,t){if(er(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Mu.call(t,s)||!er(e[s],t[s]))return!1}return!0}function Bm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vm(e,t){var r=Bm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bm(r)}}function Ay(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ay(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Py(){for(var e=window,t=il();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=il(e.document)}return t}function Lh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GS(e){var t=Py(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ay(r.ownerDocument.documentElement,r)){if(n!==null&&Lh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Vm(r,o);var a=Vm(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WS=kr&&"documentMode"in document&&11>=document.documentMode,Ds=null,nd=null,ta=null,sd=!1;function Hm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sd||Ds==null||Ds!==il(n)||(n=Ds,"selectionStart"in n&&Lh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ta&&xa(ta,n)||(ta=n,n=ml(nd,"onSelect"),0<n.length&&(t=new Oh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ds)))}function gi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ls={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionend:gi("Transition","TransitionEnd")},Yc={},Oy={};kr&&(Oy=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Jl(e){if(Yc[e])return Yc[e];if(!Ls[e])return e;var t=Ls[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Oy)return Yc[e]=t[r];return e}var Iy=Jl("animationend"),Dy=Jl("animationiteration"),Ly=Jl("animationstart"),$y=Jl("transitionend"),My=new Map,qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){My.set(e,t),ds(t,[e])}for(var Xc=0;Xc<qm.length;Xc++){var Zc=qm[Xc],KS=Zc.toLowerCase(),QS=Zc[0].toUpperCase()+Zc.slice(1);En(KS,"on"+QS)}En(Iy,"onAnimationEnd");En(Dy,"onAnimationIteration");En(Ly,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En($y,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function Gm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Kj(n,t,void 0,e),e.currentTarget=null}function Uy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Gm(s,l,u),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Gm(s,l,u),o=c}}}if(cl)throw e=Zu,cl=!1,Zu=null,e}function ve(e,t){var r=t[cd];r===void 0&&(r=t[cd]=new Set);var n=e+"__bubble";r.has(n)||(Fy(t,e,2,!1),r.add(n))}function eu(e,t,r){var n=0;t&&(n|=4),Fy(r,e,n,t)}var vi="_reactListening"+Math.random().toString(36).slice(2);function wa(e){if(!e[vi]){e[vi]=!0,Wv.forEach(function(r){r!=="selectionchange"&&(JS.has(r)||eu(r,!1,e),eu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vi]||(t[vi]=!0,eu("selectionchange",!1,t))}}function Fy(e,t,r,n){switch(jy(t)){case 1:var s=uS;break;case 4:s=dS;break;default:s=Ah}r=s.bind(null,t,r,e),s=void 0,!Xu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function tu(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Bn(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}cy(function(){var u=o,d=kh(r),h=[];e:{var m=My.get(e);if(m!==void 0){var f=Oh,x=e;switch(e){case"keypress":if(Wi(r)===0)break e;case"keydown":case"keyup":f=ES;break;case"focusin":x="focus",f=Kc;break;case"focusout":x="blur",f=Kc;break;case"beforeblur":case"afterblur":f=Kc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Im;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=mS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=TS;break;case Iy:case Dy:case Ly:f=vS;break;case $y:f=AS;break;case"scroll":f=hS;break;case"wheel":f=OS;break;case"copy":case"cut":case"paste":f=xS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Lm}var p=(t&4)!==0,y=!p&&e==="scroll",w=p?m!==null?m+"Capture":null:m;p=[];for(var g=u,b;g!==null;){b=g;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,w!==null&&(_=ma(g,w),_!=null&&p.push(ba(g,_,b)))),y)break;g=g.return}0<p.length&&(m=new f(m,x,null,r,d),h.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&r!==Ju&&(x=r.relatedTarget||r.fromElement)&&(Bn(x)||x[Cr]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(x=r.relatedTarget||r.toElement,f=u,x=x?Bn(x):null,x!==null&&(y=hs(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(f=null,x=u),f!==x)){if(p=Im,_="onMouseLeave",w="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(p=Lm,_="onPointerLeave",w="onPointerEnter",g="pointer"),y=f==null?m:$s(f),b=x==null?m:$s(x),m=new p(_,g+"leave",f,r,d),m.target=y,m.relatedTarget=b,_=null,Bn(d)===u&&(p=new p(w,g+"enter",x,r,d),p.target=b,p.relatedTarget=y,_=p),y=_,f&&x)t:{for(p=f,w=x,g=0,b=p;b;b=ws(b))g++;for(b=0,_=w;_;_=ws(_))b++;for(;0<g-b;)p=ws(p),g--;for(;0<b-g;)w=ws(w),b--;for(;g--;){if(p===w||w!==null&&p===w.alternate)break t;p=ws(p),w=ws(w)}p=null}else p=null;f!==null&&Wm(h,m,f,p,!1),x!==null&&y!==null&&Wm(h,y,x,p,!0)}}e:{if(m=u?$s(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var N=FS;else if(Um(m))if(Ty)N=HS;else{N=BS;var j=zS}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=VS);if(N&&(N=N(e,u))){Cy(h,N,r,d);break e}j&&j(e,m,u),e==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&qu(m,"number",m.value)}switch(j=u?$s(u):window,e){case"focusin":(Um(j)||j.contentEditable==="true")&&(Ds=j,nd=u,ta=null);break;case"focusout":ta=nd=Ds=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Hm(h,r,d);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":Hm(h,r,d)}var S;if(Dh)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Is?Ey(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Ny&&r.locale!=="ko"&&(Is||E!=="onCompositionStart"?E==="onCompositionEnd"&&Is&&(S=Sy()):(an=d,Ph="value"in an?an.value:an.textContent,Is=!0)),j=ml(u,E),0<j.length&&(E=new Dm(E,e,null,r,d),h.push({event:E,listeners:j}),S?E.data=S:(S=ky(r),S!==null&&(E.data=S)))),(S=DS?LS(e,r):$S(e,r))&&(u=ml(u,"onBeforeInput"),0<u.length&&(d=new Dm("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=S))}Uy(h,t)})}function ba(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ml(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ma(e,r),o!=null&&n.unshift(ba(e,o,s)),o=ma(e,t),o!=null&&n.push(ba(e,o,s))),e=e.return}return n}function ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wm(e,t,r,n,s){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ma(r,o),c!=null&&a.unshift(ba(r,c,l))):s||(c=ma(r,o),c!=null&&a.push(ba(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var YS=/\r\n?/g,XS=/\u0000|\uFFFD/g;function Km(e){return(typeof e=="string"?e:""+e).replace(YS,`
`).replace(XS,"")}function yi(e,t,r){if(t=Km(t),Km(e)!==t&&r)throw Error(L(425))}function pl(){}var od=null,ad=null;function id(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ld=typeof setTimeout=="function"?setTimeout:void 0,ZS=typeof clearTimeout=="function"?clearTimeout:void 0,Qm=typeof Promise=="function"?Promise:void 0,eN=typeof queueMicrotask=="function"?queueMicrotask:typeof Qm<"u"?function(e){return Qm.resolve(null).then(e).catch(tN)}:ld;function tN(e){setTimeout(function(){throw e})}function ru(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),va(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);va(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var No=Math.random().toString(36).slice(2),cr="__reactFiber$"+No,_a="__reactProps$"+No,Cr="__reactContainer$"+No,cd="__reactEvents$"+No,rN="__reactListeners$"+No,nN="__reactHandles$"+No;function Bn(e){var t=e[cr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Cr]||r[cr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Jm(e);e!==null;){if(r=e[cr])return r;e=Jm(e)}return t}e=r,r=e.parentNode}return null}function Ka(e){return e=e[cr]||e[Cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Yl(e){return e[_a]||null}var ud=[],Ms=-1;function kn(e){return{current:e}}function ye(e){0>Ms||(e.current=ud[Ms],ud[Ms]=null,Ms--)}function me(e,t){Ms++,ud[Ms]=e.current,e.current=t}var jn={},Ye=kn(jn),ut=kn(!1),ts=jn;function ho(e,t){var r=e.type.contextTypes;if(!r)return jn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function dt(e){return e=e.childContextTypes,e!=null}function gl(){ye(ut),ye(Ye)}function Ym(e,t,r){if(Ye.current!==jn)throw Error(L(168));me(Ye,t),me(ut,r)}function zy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,zj(e)||"Unknown",s));return Ne({},r,n)}function vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,ts=Ye.current,me(Ye,e),me(ut,ut.current),!0}function Xm(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=zy(e,t,ts),n.__reactInternalMemoizedMergedChildContext=e,ye(ut),ye(Ye),me(Ye,e)):ye(ut),me(ut,r)}var _r=null,Xl=!1,nu=!1;function By(e){_r===null?_r=[e]:_r.push(e)}function sN(e){Xl=!0,By(e)}function Cn(){if(!nu&&_r!==null){nu=!0;var e=0,t=ue;try{var r=_r;for(ue=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_r=null,Xl=!1}catch(s){throw _r!==null&&(_r=_r.slice(e+1)),fy(Ch,Cn),s}finally{ue=t,nu=!1}}return null}var Us=[],Fs=0,yl=null,xl=0,Ct=[],Tt=0,rs=null,Sr=1,Nr="";function Ln(e,t){Us[Fs++]=xl,Us[Fs++]=yl,yl=e,xl=t}function Vy(e,t,r){Ct[Tt++]=Sr,Ct[Tt++]=Nr,Ct[Tt++]=rs,rs=e;var n=Sr;e=Nr;var s=32-Xt(n)-1;n&=~(1<<s),r+=1;var o=32-Xt(t)+s;if(30<o){var a=s-s%5;o=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Sr=1<<32-Xt(t)+s|r<<s|n,Nr=o+e}else Sr=1<<o|r<<s|n,Nr=e}function $h(e){e.return!==null&&(Ln(e,1),Vy(e,1,0))}function Mh(e){for(;e===yl;)yl=Us[--Fs],Us[Fs]=null,xl=Us[--Fs],Us[Fs]=null;for(;e===rs;)rs=Ct[--Tt],Ct[Tt]=null,Nr=Ct[--Tt],Ct[Tt]=null,Sr=Ct[--Tt],Ct[Tt]=null}var xt=null,yt=null,be=!1,Jt=null;function Hy(e,t){var r=At(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,yt=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=rs!==null?{id:Sr,overflow:Nr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=At(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xt=e,yt=null,!0):!1;default:return!1}}function dd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hd(e){if(be){var t=yt;if(t){var r=t;if(!Zm(e,t)){if(dd(e))throw Error(L(418));t=fn(r.nextSibling);var n=xt;t&&Zm(e,t)?Hy(n,r):(e.flags=e.flags&-4097|2,be=!1,xt=e)}}else{if(dd(e))throw Error(L(418));e.flags=e.flags&-4097|2,be=!1,xt=e}}}function ep(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function xi(e){if(e!==xt)return!1;if(!be)return ep(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!id(e.type,e.memoizedProps)),t&&(t=yt)){if(dd(e))throw qy(),Error(L(418));for(;t;)Hy(e,t),t=fn(t.nextSibling)}if(ep(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yt=fn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=xt?fn(e.stateNode.nextSibling):null;return!0}function qy(){for(var e=yt;e;)e=fn(e.nextSibling)}function fo(){yt=xt=null,be=!1}function Uh(e){Jt===null?Jt=[e]:Jt.push(e)}var oN=Ir.ReactCurrentBatchConfig;function zo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function wi(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tp(e){var t=e._init;return t(e._payload)}function Gy(e){function t(w,g){if(e){var b=w.deletions;b===null?(w.deletions=[g],w.flags|=16):b.push(g)}}function r(w,g){if(!e)return null;for(;g!==null;)t(w,g),g=g.sibling;return null}function n(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function s(w,g){return w=vn(w,g),w.index=0,w.sibling=null,w}function o(w,g,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<g?(w.flags|=2,g):b):(w.flags|=2,g)):(w.flags|=1048576,g)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,g,b,_){return g===null||g.tag!==6?(g=uu(b,w.mode,_),g.return=w,g):(g=s(g,b),g.return=w,g)}function c(w,g,b,_){var N=b.type;return N===Os?d(w,g,b.props.children,_,b.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qr&&tp(N)===g.type)?(_=s(g,b.props),_.ref=zo(w,g,b),_.return=w,_):(_=el(b.type,b.key,b.props,null,w.mode,_),_.ref=zo(w,g,b),_.return=w,_)}function u(w,g,b,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=du(b,w.mode,_),g.return=w,g):(g=s(g,b.children||[]),g.return=w,g)}function d(w,g,b,_,N){return g===null||g.tag!==7?(g=Zn(b,w.mode,_,N),g.return=w,g):(g=s(g,b),g.return=w,g)}function h(w,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=uu(""+g,w.mode,b),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ci:return b=el(g.type,g.key,g.props,null,w.mode,b),b.ref=zo(w,null,g),b.return=w,b;case Ps:return g=du(g,w.mode,b),g.return=w,g;case Qr:var _=g._init;return h(w,_(g._payload),b)}if(Wo(g)||Lo(g))return g=Zn(g,w.mode,b,null),g.return=w,g;wi(w,g)}return null}function m(w,g,b,_){var N=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(w,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ci:return b.key===N?c(w,g,b,_):null;case Ps:return b.key===N?u(w,g,b,_):null;case Qr:return N=b._init,m(w,g,N(b._payload),_)}if(Wo(b)||Lo(b))return N!==null?null:d(w,g,b,_,null);wi(w,b)}return null}function f(w,g,b,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(b)||null,l(g,w,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ci:return w=w.get(_.key===null?b:_.key)||null,c(g,w,_,N);case Ps:return w=w.get(_.key===null?b:_.key)||null,u(g,w,_,N);case Qr:var j=_._init;return f(w,g,b,j(_._payload),N)}if(Wo(_)||Lo(_))return w=w.get(b)||null,d(g,w,_,N,null);wi(g,_)}return null}function x(w,g,b,_){for(var N=null,j=null,S=g,E=g=0,C=null;S!==null&&E<b.length;E++){S.index>E?(C=S,S=null):C=S.sibling;var R=m(w,S,b[E],_);if(R===null){S===null&&(S=C);break}e&&S&&R.alternate===null&&t(w,S),g=o(R,g,E),j===null?N=R:j.sibling=R,j=R,S=C}if(E===b.length)return r(w,S),be&&Ln(w,E),N;if(S===null){for(;E<b.length;E++)S=h(w,b[E],_),S!==null&&(g=o(S,g,E),j===null?N=S:j.sibling=S,j=S);return be&&Ln(w,E),N}for(S=n(w,S);E<b.length;E++)C=f(S,w,E,b[E],_),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?E:C.key),g=o(C,g,E),j===null?N=C:j.sibling=C,j=C);return e&&S.forEach(function(k){return t(w,k)}),be&&Ln(w,E),N}function p(w,g,b,_){var N=Lo(b);if(typeof N!="function")throw Error(L(150));if(b=N.call(b),b==null)throw Error(L(151));for(var j=N=null,S=g,E=g=0,C=null,R=b.next();S!==null&&!R.done;E++,R=b.next()){S.index>E?(C=S,S=null):C=S.sibling;var k=m(w,S,R.value,_);if(k===null){S===null&&(S=C);break}e&&S&&k.alternate===null&&t(w,S),g=o(k,g,E),j===null?N=k:j.sibling=k,j=k,S=C}if(R.done)return r(w,S),be&&Ln(w,E),N;if(S===null){for(;!R.done;E++,R=b.next())R=h(w,R.value,_),R!==null&&(g=o(R,g,E),j===null?N=R:j.sibling=R,j=R);return be&&Ln(w,E),N}for(S=n(w,S);!R.done;E++,R=b.next())R=f(S,w,E,R.value,_),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?E:R.key),g=o(R,g,E),j===null?N=R:j.sibling=R,j=R);return e&&S.forEach(function(T){return t(w,T)}),be&&Ln(w,E),N}function y(w,g,b,_){if(typeof b=="object"&&b!==null&&b.type===Os&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ci:e:{for(var N=b.key,j=g;j!==null;){if(j.key===N){if(N=b.type,N===Os){if(j.tag===7){r(w,j.sibling),g=s(j,b.props.children),g.return=w,w=g;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qr&&tp(N)===j.type){r(w,j.sibling),g=s(j,b.props),g.ref=zo(w,j,b),g.return=w,w=g;break e}r(w,j);break}else t(w,j);j=j.sibling}b.type===Os?(g=Zn(b.props.children,w.mode,_,b.key),g.return=w,w=g):(_=el(b.type,b.key,b.props,null,w.mode,_),_.ref=zo(w,g,b),_.return=w,w=_)}return a(w);case Ps:e:{for(j=b.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(w,g.sibling),g=s(g,b.children||[]),g.return=w,w=g;break e}else{r(w,g);break}else t(w,g);g=g.sibling}g=du(b,w.mode,_),g.return=w,w=g}return a(w);case Qr:return j=b._init,y(w,g,j(b._payload),_)}if(Wo(b))return x(w,g,b,_);if(Lo(b))return p(w,g,b,_);wi(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(w,g.sibling),g=s(g,b),g.return=w,w=g):(r(w,g),g=uu(b,w.mode,_),g.return=w,w=g),a(w)):r(w,g)}return y}var mo=Gy(!0),Wy=Gy(!1),wl=kn(null),bl=null,zs=null,Fh=null;function zh(){Fh=zs=bl=null}function Bh(e){var t=wl.current;ye(wl),e._currentValue=t}function fd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ks(e,t){bl=e,Fh=zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Fh!==e)if(e={context:e,memoizedValue:t,next:null},zs===null){if(bl===null)throw Error(L(308));zs=e,bl.dependencies={lanes:0,firstContext:e}}else zs=zs.next=e;return t}var Vn=null;function Vh(e){Vn===null?Vn=[e]:Vn.push(e)}function Ky(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Vh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Tr(e,n)}function Tr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Jr=!1;function Hh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Er(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ie&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Tr(e,r)}return s=n.interleaved,s===null?(t.next=t,Vh(n)):(t.next=s.next,s.next=t),n.interleaved=t,Tr(e,r)}function Ki(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Th(e,r)}}function rp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _l(e,t,r,n){var s=e.updateQueue;Jr=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;a=0,d=u=c=null,l=o;do{var m=l.lane,f=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(m=t,f=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){h=x.call(f,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,m=typeof x=="function"?x.call(f,h,m):x,m==null)break e;h=Ne({},h,m);break e;case 2:Jr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ss|=a,e.lanes=a,e.memoizedState=h}}function np(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Qa={},hr=kn(Qa),ja=kn(Qa),Sa=kn(Qa);function Hn(e){if(e===Qa)throw Error(L(174));return e}function qh(e,t){switch(me(Sa,t),me(ja,e),me(hr,Qa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wu(t,e)}ye(hr),me(hr,t)}function po(){ye(hr),ye(ja),ye(Sa)}function Jy(e){Hn(Sa.current);var t=Hn(hr.current),r=Wu(t,e.type);t!==r&&(me(ja,e),me(hr,r))}function Gh(e){ja.current===e&&(ye(hr),ye(ja))}var je=kn(0);function jl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var su=[];function Wh(){for(var e=0;e<su.length;e++)su[e]._workInProgressVersionPrimary=null;su.length=0}var Qi=Ir.ReactCurrentDispatcher,ou=Ir.ReactCurrentBatchConfig,ns=0,Se=null,Ie=null,$e=null,Sl=!1,ra=!1,Na=0,aN=0;function Ge(){throw Error(L(321))}function Kh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!er(e[r],t[r]))return!1;return!0}function Qh(e,t,r,n,s,o){if(ns=o,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qi.current=e===null||e.memoizedState===null?uN:dN,e=r(n,s),ra){o=0;do{if(ra=!1,Na=0,25<=o)throw Error(L(301));o+=1,$e=Ie=null,t.updateQueue=null,Qi.current=hN,e=r(n,s)}while(ra)}if(Qi.current=Nl,t=Ie!==null&&Ie.next!==null,ns=0,$e=Ie=Se=null,Sl=!1,t)throw Error(L(300));return e}function Jh(){var e=Na!==0;return Na=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Se.memoizedState=$e=e:$e=$e.next=e,$e}function Dt(){if(Ie===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=$e===null?Se.memoizedState:$e.next;if(t!==null)$e=t,Ie=e;else{if(e===null)throw Error(L(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},$e===null?Se.memoizedState=$e=e:$e=$e.next=e}return $e}function Ea(e,t){return typeof t=="function"?t(e):t}function au(e){var t=Dt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Ie,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((ns&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,Se.lanes|=d,ss|=d}u=u.next}while(u!==null&&u!==o);c===null?a=n:c.next=l,er(n,t.memoizedState)||(ct=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Se.lanes|=o,ss|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function iu(e){var t=Dt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);er(o,t.memoizedState)||(ct=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Yy(){}function Xy(e,t){var r=Se,n=Dt(),s=t(),o=!er(n.memoizedState,s);if(o&&(n.memoizedState=s,ct=!0),n=n.queue,Yh(t0.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||$e!==null&&$e.memoizedState.tag&1){if(r.flags|=2048,ka(9,e0.bind(null,r,n,s,t),void 0,null),Me===null)throw Error(L(349));ns&30||Zy(r,t,s)}return s}function Zy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function e0(e,t,r,n){t.value=r,t.getSnapshot=n,r0(t)&&n0(e)}function t0(e,t,r){return r(function(){r0(t)&&n0(e)})}function r0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!er(e,r)}catch{return!0}}function n0(e){var t=Tr(e,1);t!==null&&Zt(t,e,1,-1)}function sp(e){var t=or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=cN.bind(null,Se,e),[t.memoizedState,e]}function ka(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function s0(){return Dt().memoizedState}function Ji(e,t,r,n){var s=or();Se.flags|=e,s.memoizedState=ka(1|t,r,void 0,n===void 0?null:n)}function Zl(e,t,r,n){var s=Dt();n=n===void 0?null:n;var o=void 0;if(Ie!==null){var a=Ie.memoizedState;if(o=a.destroy,n!==null&&Kh(n,a.deps)){s.memoizedState=ka(t,r,o,n);return}}Se.flags|=e,s.memoizedState=ka(1|t,r,o,n)}function op(e,t){return Ji(8390656,8,e,t)}function Yh(e,t){return Zl(2048,8,e,t)}function o0(e,t){return Zl(4,2,e,t)}function a0(e,t){return Zl(4,4,e,t)}function i0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function l0(e,t,r){return r=r!=null?r.concat([e]):null,Zl(4,4,i0.bind(null,t,e),r)}function Xh(){}function c0(e,t){var r=Dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function u0(e,t){var r=Dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function d0(e,t,r){return ns&21?(er(r,t)||(r=gy(),Se.lanes|=r,ss|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=r)}function iN(e,t){var r=ue;ue=r!==0&&4>r?r:4,e(!0);var n=ou.transition;ou.transition={};try{e(!1),t()}finally{ue=r,ou.transition=n}}function h0(){return Dt().memoizedState}function lN(e,t,r){var n=gn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},f0(e))m0(t,r);else if(r=Ky(e,t,r,n),r!==null){var s=rt();Zt(r,e,n,s),p0(r,t,n)}}function cN(e,t,r){var n=gn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(f0(e))m0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,er(l,a)){var c=t.interleaved;c===null?(s.next=s,Vh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Ky(e,t,s,n),r!==null&&(s=rt(),Zt(r,e,n,s),p0(r,t,n))}}function f0(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function m0(e,t){ra=Sl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function p0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Th(e,r)}}var Nl={readContext:It,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},uN={readContext:It,useCallback:function(e,t){return or().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:op,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ji(4194308,4,i0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ji(4,2,e,t)},useMemo:function(e,t){var r=or();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=or();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=lN.bind(null,Se,e),[n.memoizedState,e]},useRef:function(e){var t=or();return e={current:e},t.memoizedState=e},useState:sp,useDebugValue:Xh,useDeferredValue:function(e){return or().memoizedState=e},useTransition:function(){var e=sp(!1),t=e[0];return e=iN.bind(null,e[1]),or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Se,s=or();if(be){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Me===null)throw Error(L(349));ns&30||Zy(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,op(t0.bind(null,n,o,e),[e]),n.flags|=2048,ka(9,e0.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=or(),t=Me.identifierPrefix;if(be){var r=Nr,n=Sr;r=(n&~(1<<32-Xt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Na++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dN={readContext:It,useCallback:c0,useContext:It,useEffect:Yh,useImperativeHandle:l0,useInsertionEffect:o0,useLayoutEffect:a0,useMemo:u0,useReducer:au,useRef:s0,useState:function(){return au(Ea)},useDebugValue:Xh,useDeferredValue:function(e){var t=Dt();return d0(t,Ie.memoizedState,e)},useTransition:function(){var e=au(Ea)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Yy,useSyncExternalStore:Xy,useId:h0,unstable_isNewReconciler:!1},hN={readContext:It,useCallback:c0,useContext:It,useEffect:Yh,useImperativeHandle:l0,useInsertionEffect:o0,useLayoutEffect:a0,useMemo:u0,useReducer:iu,useRef:s0,useState:function(){return iu(Ea)},useDebugValue:Xh,useDeferredValue:function(e){var t=Dt();return Ie===null?t.memoizedState=e:d0(t,Ie.memoizedState,e)},useTransition:function(){var e=iu(Ea)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Yy,useSyncExternalStore:Xy,useId:h0,unstable_isNewReconciler:!1};function Ht(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function md(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ne({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ec={isMounted:function(e){return(e=e._reactInternals)?hs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rt(),s=gn(e),o=Er(n,s);o.payload=t,r!=null&&(o.callback=r),t=mn(e,o,s),t!==null&&(Zt(t,e,s,n),Ki(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rt(),s=gn(e),o=Er(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=mn(e,o,s),t!==null&&(Zt(t,e,s,n),Ki(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rt(),n=gn(e),s=Er(r,n);s.tag=2,t!=null&&(s.callback=t),t=mn(e,s,n),t!==null&&(Zt(t,e,n,r),Ki(t,e,n))}};function ap(e,t,r,n,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!xa(r,n)||!xa(s,o):!0}function g0(e,t,r){var n=!1,s=jn,o=t.contextType;return typeof o=="object"&&o!==null?o=It(o):(s=dt(t)?ts:Ye.current,n=t.contextTypes,o=(n=n!=null)?ho(e,s):jn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ec,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function ip(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ec.enqueueReplaceState(t,t.state,null)}function pd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Hh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=It(o):(o=dt(t)?ts:Ye.current,s.context=ho(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(md(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ec.enqueueReplaceState(s,s.state,null),_l(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function go(e,t){try{var r="",n=t;do r+=Fj(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function lu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fN=typeof WeakMap=="function"?WeakMap:Map;function v0(e,t,r){r=Er(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){kl||(kl=!0,Ed=n),gd(e,t)},r}function y0(e,t,r){r=Er(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){gd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){gd(e,t),typeof n!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function lp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fN;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=kN.bind(null,e,t,r),t.then(e,e))}function cp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function up(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Er(-1,1),t.tag=2,mn(r,t,1))),r.lanes|=1),e)}var mN=Ir.ReactCurrentOwner,ct=!1;function Ze(e,t,r,n){t.child=e===null?Wy(t,null,r,n):mo(t,e.child,r,n)}function dp(e,t,r,n,s){r=r.render;var o=t.ref;return Ks(t,s),n=Qh(e,t,r,n,o,s),r=Jh(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rr(e,t,s)):(be&&r&&$h(t),t.flags|=1,Ze(e,t,n,s),t.child)}function hp(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!af(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,x0(e,t,o,n,s)):(e=el(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:xa,r(a,n)&&e.ref===t.ref)return Rr(e,t,s)}return t.flags|=1,e=vn(o,n),e.ref=t.ref,e.return=t,t.child=e}function x0(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(xa(o,n)&&e.ref===t.ref)if(ct=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,Rr(e,t,s)}return vd(e,t,r,n,s)}function w0(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Vs,mt),mt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(Vs,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,me(Vs,mt),mt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,me(Vs,mt),mt|=n;return Ze(e,t,s,r),t.child}function b0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function vd(e,t,r,n,s){var o=dt(r)?ts:Ye.current;return o=ho(t,o),Ks(t,s),r=Qh(e,t,r,n,o,s),n=Jh(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rr(e,t,s)):(be&&n&&$h(t),t.flags|=1,Ze(e,t,r,s),t.child)}function fp(e,t,r,n,s){if(dt(r)){var o=!0;vl(t)}else o=!1;if(Ks(t,s),t.stateNode===null)Yi(e,t),g0(t,r,n),pd(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=It(u):(u=dt(r)?ts:Ye.current,u=ho(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ip(t,a,n,u),Jr=!1;var m=t.memoizedState;a.state=m,_l(t,n,a,s),c=t.memoizedState,l!==n||m!==c||ut.current||Jr?(typeof d=="function"&&(md(t,r,d,n),c=t.memoizedState),(l=Jr||ap(t,r,l,n,m,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Qy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ht(t.type,l),a.props=u,h=t.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=It(c):(c=dt(r)?ts:Ye.current,c=ho(t,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||m!==c)&&ip(t,a,n,c),Jr=!1,m=t.memoizedState,a.state=m,_l(t,n,a,s);var x=t.memoizedState;l!==h||m!==x||ut.current||Jr?(typeof f=="function"&&(md(t,r,f,n),x=t.memoizedState),(u=Jr||ap(t,r,u,n,m,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),a.props=n,a.state=x,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return yd(e,t,r,n,o,s)}function yd(e,t,r,n,s,o){b0(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Xm(t,r,!1),Rr(e,t,o);n=t.stateNode,mN.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=mo(t,e.child,null,o),t.child=mo(t,null,l,o)):Ze(e,t,l,o),t.memoizedState=n.state,s&&Xm(t,r,!0),t.child}function _0(e){var t=e.stateNode;t.pendingContext?Ym(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ym(e,t.context,!1),qh(e,t.containerInfo)}function mp(e,t,r,n,s){return fo(),Uh(s),t.flags|=256,Ze(e,t,r,n),t.child}var xd={dehydrated:null,treeContext:null,retryLane:0};function wd(e){return{baseLanes:e,cachePool:null,transitions:null}}function j0(e,t,r){var n=t.pendingProps,s=je.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),me(je,s&1),e===null)return hd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=nc(a,n,0,null),e=Zn(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=wd(r),t.memoizedState=xd,e):Zh(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return pN(e,t,a,n,l,s,r);if(o){o=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=vn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=vn(l,o):(o=Zn(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?wd(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=xd,n}return o=e.child,e=o.sibling,n=vn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Zh(e,t){return t=nc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bi(e,t,r,n){return n!==null&&Uh(n),mo(t,e.child,null,r),e=Zh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pN(e,t,r,n,s,o,a){if(r)return t.flags&256?(t.flags&=-257,n=lu(Error(L(422))),bi(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=nc({mode:"visible",children:n.children},s,0,null),o=Zn(o,s,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&mo(t,e.child,null,a),t.child.memoizedState=wd(a),t.memoizedState=xd,o);if(!(t.mode&1))return bi(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(L(419)),n=lu(o,n,void 0),bi(e,t,a,n)}if(l=(a&e.childLanes)!==0,ct||l){if(n=Me,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Tr(e,s),Zt(n,e,s,-1))}return of(),n=lu(Error(L(421))),bi(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=CN.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,yt=fn(s.nextSibling),xt=t,be=!0,Jt=null,e!==null&&(Ct[Tt++]=Sr,Ct[Tt++]=Nr,Ct[Tt++]=rs,Sr=e.id,Nr=e.overflow,rs=t),t=Zh(t,n.children),t.flags|=4096,t)}function pp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fd(e.return,t,r)}function cu(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function S0(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Ze(e,t,n.children,r),n=je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pp(e,r,t);else if(e.tag===19)pp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(me(je,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&jl(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),cu(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&jl(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}cu(t,!0,r,null,o);break;case"together":cu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ss|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=vn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gN(e,t,r){switch(t.tag){case 3:_0(t),fo();break;case 5:Jy(t);break;case 1:dt(t.type)&&vl(t);break;case 4:qh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;me(wl,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(me(je,je.current&1),t.flags|=128,null):r&t.child.childLanes?j0(e,t,r):(me(je,je.current&1),e=Rr(e,t,r),e!==null?e.sibling:null);me(je,je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return S0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(je,je.current),n)break;return null;case 22:case 23:return t.lanes=0,w0(e,t,r)}return Rr(e,t,r)}var N0,bd,E0,k0;N0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bd=function(){};E0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Hn(hr.current);var o=null;switch(r){case"input":s=Vu(e,s),n=Vu(e,n),o=[];break;case"select":s=Ne({},s,{value:void 0}),n=Ne({},n,{value:void 0}),o=[];break;case"textarea":s=Gu(e,s),n=Gu(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pl)}Ku(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ha.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ha.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ve("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};k0=function(e,t,r,n){r!==n&&(t.flags|=4)};function Bo(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vN(e,t,r){var n=t.pendingProps;switch(Mh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return dt(t.type)&&gl(),We(t),null;case 3:return n=t.stateNode,po(),ye(ut),ye(Ye),Wh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jt!==null&&(Td(Jt),Jt=null))),bd(e,t),We(t),null;case 5:Gh(t);var s=Hn(Sa.current);if(r=t.type,e!==null&&t.stateNode!=null)E0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return We(t),null}if(e=Hn(hr.current),xi(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[cr]=t,n[_a]=o,e=(t.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(s=0;s<Qo.length;s++)ve(Qo[s],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":Sm(n,o),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ve("invalid",n);break;case"textarea":Em(n,o),ve("invalid",n)}Ku(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&yi(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&yi(n.textContent,l,e),s=["children",""+l]):ha.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ve("scroll",n)}switch(r){case"input":ui(n),Nm(n,o,!0);break;case"textarea":ui(n),km(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=pl)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ty(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[cr]=t,e[_a]=n,N0(e,t,!1,!1),t.stateNode=e;e:{switch(a=Qu(r,n),r){case"dialog":ve("cancel",e),ve("close",e),s=n;break;case"iframe":case"object":case"embed":ve("load",e),s=n;break;case"video":case"audio":for(s=0;s<Qo.length;s++)ve(Qo[s],e);s=n;break;case"source":ve("error",e),s=n;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=n;break;case"details":ve("toggle",e),s=n;break;case"input":Sm(e,n),s=Vu(e,n),ve("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ne({},n,{value:void 0}),ve("invalid",e);break;case"textarea":Em(e,n),s=Gu(e,n),ve("invalid",e);break;default:s=n}Ku(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?sy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ry(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&fa(e,c):typeof c=="number"&&fa(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ha.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ve("scroll",e):c!=null&&jh(e,o,c,a))}switch(r){case"input":ui(e),Nm(e,n,!1);break;case"textarea":ui(e),km(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_n(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Hs(e,!!n.multiple,o,!1):n.defaultValue!=null&&Hs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=pl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)k0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Hn(Sa.current),Hn(hr.current),xi(t)){if(n=t.stateNode,r=t.memoizedProps,n[cr]=t,(o=n.nodeValue!==r)&&(e=xt,e!==null))switch(e.tag){case 3:yi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yi(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cr]=t,t.stateNode=n}return We(t),null;case 13:if(ye(je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&yt!==null&&t.mode&1&&!(t.flags&128))qy(),fo(),t.flags|=98560,o=!1;else if(o=xi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[cr]=t}else fo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),o=!1}else Jt!==null&&(Td(Jt),Jt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?De===0&&(De=3):of())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return po(),bd(e,t),e===null&&wa(t.stateNode.containerInfo),We(t),null;case 10:return Bh(t.type._context),We(t),null;case 17:return dt(t.type)&&gl(),We(t),null;case 19:if(ye(je),o=t.memoizedState,o===null)return We(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Bo(o,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=jl(e),a!==null){for(t.flags|=128,Bo(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return me(je,je.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ce()>vo&&(t.flags|=128,n=!0,Bo(o,!1),t.lanes=4194304)}else{if(!n)if(e=jl(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!be)return We(t),null}else 2*Ce()-o.renderingStartTime>vo&&r!==1073741824&&(t.flags|=128,n=!0,Bo(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ce(),t.sibling=null,r=je.current,me(je,n?r&1|2:r&1),t):(We(t),null);case 22:case 23:return sf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?mt&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function yN(e,t){switch(Mh(t),t.tag){case 1:return dt(t.type)&&gl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return po(),ye(ut),ye(Ye),Wh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gh(t),null;case 13:if(ye(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));fo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(je),null;case 4:return po(),null;case 10:return Bh(t.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var _i=!1,Qe=!1,xN=typeof WeakSet=="function"?WeakSet:Set,B=null;function Bs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ke(e,t,n)}else r.current=null}function _d(e,t,r){try{r()}catch(n){ke(e,t,n)}}var gp=!1;function wN(e,t){if(od=hl,e=Py(),Lh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==o||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===r&&++u===s&&(l=a),m===o&&++d===n&&(c=a),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ad={focusedElem:e,selectionRange:r},hl=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,y=x.memoizedState,w=t.stateNode,g=w.getSnapshotBeforeUpdate(t.elementType===t.type?p:Ht(t.type,p),y);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(_){ke(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return x=gp,gp=!1,x}function na(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&_d(t,r,o)}s=s.next}while(s!==n)}}function tc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function jd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function C0(e){var t=e.alternate;t!==null&&(e.alternate=null,C0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cr],delete t[_a],delete t[cd],delete t[rN],delete t[nN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function T0(e){return e.tag===5||e.tag===3||e.tag===4}function vp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||T0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pl));else if(n!==4&&(e=e.child,e!==null))for(Sd(e,t,r),e=e.sibling;e!==null;)Sd(e,t,r),e=e.sibling}function Nd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Nd(e,t,r),e=e.sibling;e!==null;)Nd(e,t,r),e=e.sibling}var ze=null,Qt=!1;function Vr(e,t,r){for(r=r.child;r!==null;)R0(e,t,r),r=r.sibling}function R0(e,t,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Wl,r)}catch{}switch(r.tag){case 5:Qe||Bs(r,t);case 6:var n=ze,s=Qt;ze=null,Vr(e,t,r),ze=n,Qt=s,ze!==null&&(Qt?(e=ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ze.removeChild(r.stateNode));break;case 18:ze!==null&&(Qt?(e=ze,r=r.stateNode,e.nodeType===8?ru(e.parentNode,r):e.nodeType===1&&ru(e,r),va(e)):ru(ze,r.stateNode));break;case 4:n=ze,s=Qt,ze=r.stateNode.containerInfo,Qt=!0,Vr(e,t,r),ze=n,Qt=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&_d(r,t,a),s=s.next}while(s!==n)}Vr(e,t,r);break;case 1:if(!Qe&&(Bs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ke(r,t,l)}Vr(e,t,r);break;case 21:Vr(e,t,r);break;case 22:r.mode&1?(Qe=(n=Qe)||r.memoizedState!==null,Vr(e,t,r),Qe=n):Vr(e,t,r);break;default:Vr(e,t,r)}}function yp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xN),t.forEach(function(n){var s=TN.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function zt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,Qt=!1;break e;case 3:ze=l.stateNode.containerInfo,Qt=!0;break e;case 4:ze=l.stateNode.containerInfo,Qt=!0;break e}l=l.return}if(ze===null)throw Error(L(160));R0(o,a,s),ze=null,Qt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ke(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)A0(t,e),t=t.sibling}function A0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),sr(e),n&4){try{na(3,e,e.return),tc(3,e)}catch(p){ke(e,e.return,p)}try{na(5,e,e.return)}catch(p){ke(e,e.return,p)}}break;case 1:zt(t,e),sr(e),n&512&&r!==null&&Bs(r,r.return);break;case 5:if(zt(t,e),sr(e),n&512&&r!==null&&Bs(r,r.return),e.flags&32){var s=e.stateNode;try{fa(s,"")}catch(p){ke(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Zv(s,o),Qu(l,a);var u=Qu(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?sy(s,h):d==="dangerouslySetInnerHTML"?ry(s,h):d==="children"?fa(s,h):jh(s,d,h,u)}switch(l){case"input":Hu(s,o);break;case"textarea":ey(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Hs(s,!!o.multiple,f,!1):m!==!!o.multiple&&(o.defaultValue!=null?Hs(s,!!o.multiple,o.defaultValue,!0):Hs(s,!!o.multiple,o.multiple?[]:"",!1))}s[_a]=o}catch(p){ke(e,e.return,p)}}break;case 6:if(zt(t,e),sr(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(p){ke(e,e.return,p)}}break;case 3:if(zt(t,e),sr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{va(t.containerInfo)}catch(p){ke(e,e.return,p)}break;case 4:zt(t,e),sr(e);break;case 13:zt(t,e),sr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(rf=Ce())),n&4&&yp(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||d,zt(t,e),Qe=u):zt(t,e),sr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(B=e,d=e.child;d!==null;){for(h=B=d;B!==null;){switch(m=B,f=m.child,m.tag){case 0:case 11:case 14:case 15:na(4,m,m.return);break;case 1:Bs(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){ke(n,r,p)}}break;case 5:Bs(m,m.return);break;case 22:if(m.memoizedState!==null){wp(h);continue}}f!==null?(f.return=m,B=f):wp(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ny("display",a))}catch(p){ke(e,e.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){ke(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zt(t,e),sr(e),n&4&&yp(e);break;case 21:break;default:zt(t,e),sr(e)}}function sr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(T0(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(fa(s,""),n.flags&=-33);var o=vp(e);Nd(e,o,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=vp(e);Sd(e,l,a);break;default:throw Error(L(161))}}catch(c){ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bN(e,t,r){B=e,P0(e)}function P0(e,t,r){for(var n=(e.mode&1)!==0;B!==null;){var s=B,o=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||_i;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Qe;l=_i;var u=Qe;if(_i=a,(Qe=c)&&!u)for(B=s;B!==null;)a=B,c=a.child,a.tag===22&&a.memoizedState!==null?bp(s):c!==null?(c.return=a,B=c):bp(s);for(;o!==null;)B=o,P0(o),o=o.sibling;B=s,_i=l,Qe=u}xp(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,B=o):xp(e)}}function xp(e){for(;B!==null;){var t=B;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||tc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ht(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&np(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}np(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&va(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Qe||t.flags&512&&jd(t)}catch(m){ke(t,t.return,m)}}if(t===e){B=null;break}if(r=t.sibling,r!==null){r.return=t.return,B=r;break}B=t.return}}function wp(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var r=t.sibling;if(r!==null){r.return=t.return,B=r;break}B=t.return}}function bp(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{tc(4,t)}catch(c){ke(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ke(t,s,c)}}var o=t.return;try{jd(t)}catch(c){ke(t,o,c)}break;case 5:var a=t.return;try{jd(t)}catch(c){ke(t,a,c)}}}catch(c){ke(t,t.return,c)}if(t===e){B=null;break}var l=t.sibling;if(l!==null){l.return=t.return,B=l;break}B=t.return}}var _N=Math.ceil,El=Ir.ReactCurrentDispatcher,ef=Ir.ReactCurrentOwner,Ot=Ir.ReactCurrentBatchConfig,ie=0,Me=null,Pe=null,Be=0,mt=0,Vs=kn(0),De=0,Ca=null,ss=0,rc=0,tf=0,sa=null,lt=null,rf=0,vo=1/0,wr=null,kl=!1,Ed=null,pn=null,ji=!1,ln=null,Cl=0,oa=0,kd=null,Xi=-1,Zi=0;function rt(){return ie&6?Ce():Xi!==-1?Xi:Xi=Ce()}function gn(e){return e.mode&1?ie&2&&Be!==0?Be&-Be:oN.transition!==null?(Zi===0&&(Zi=gy()),Zi):(e=ue,e!==0||(e=window.event,e=e===void 0?16:jy(e.type)),e):1}function Zt(e,t,r,n){if(50<oa)throw oa=0,kd=null,Error(L(185));Ga(e,r,n),(!(ie&2)||e!==Me)&&(e===Me&&(!(ie&2)&&(rc|=r),De===4&&Zr(e,Be)),ht(e,n),r===1&&ie===0&&!(t.mode&1)&&(vo=Ce()+500,Xl&&Cn()))}function ht(e,t){var r=e.callbackNode;oS(e,t);var n=dl(e,e===Me?Be:0);if(n===0)r!==null&&Rm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Rm(r),t===1)e.tag===0?sN(_p.bind(null,e)):By(_p.bind(null,e)),eN(function(){!(ie&6)&&Cn()}),r=null;else{switch(vy(n)){case 1:r=Ch;break;case 4:r=my;break;case 16:r=ul;break;case 536870912:r=py;break;default:r=ul}r=F0(r,O0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function O0(e,t){if(Xi=-1,Zi=0,ie&6)throw Error(L(327));var r=e.callbackNode;if(Qs()&&e.callbackNode!==r)return null;var n=dl(e,e===Me?Be:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Tl(e,n);else{t=n;var s=ie;ie|=2;var o=D0();(Me!==e||Be!==t)&&(wr=null,vo=Ce()+500,Xn(e,t));do try{NN();break}catch(l){I0(e,l)}while(!0);zh(),El.current=o,ie=s,Pe!==null?t=0:(Me=null,Be=0,t=De)}if(t!==0){if(t===2&&(s=ed(e),s!==0&&(n=s,t=Cd(e,s))),t===1)throw r=Ca,Xn(e,0),Zr(e,n),ht(e,Ce()),r;if(t===6)Zr(e,n);else{if(s=e.current.alternate,!(n&30)&&!jN(s)&&(t=Tl(e,n),t===2&&(o=ed(e),o!==0&&(n=o,t=Cd(e,o))),t===1))throw r=Ca,Xn(e,0),Zr(e,n),ht(e,Ce()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:$n(e,lt,wr);break;case 3:if(Zr(e,n),(n&130023424)===n&&(t=rf+500-Ce(),10<t)){if(dl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ld($n.bind(null,e,lt,wr),t);break}$n(e,lt,wr);break;case 4:if(Zr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Xt(n);o=1<<a,a=t[a],a>s&&(s=a),n&=~o}if(n=s,n=Ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_N(n/1960))-n,10<n){e.timeoutHandle=ld($n.bind(null,e,lt,wr),n);break}$n(e,lt,wr);break;case 5:$n(e,lt,wr);break;default:throw Error(L(329))}}}return ht(e,Ce()),e.callbackNode===r?O0.bind(null,e):null}function Cd(e,t){var r=sa;return e.current.memoizedState.isDehydrated&&(Xn(e,t).flags|=256),e=Tl(e,t),e!==2&&(t=lt,lt=r,t!==null&&Td(t)),e}function Td(e){lt===null?lt=e:lt.push.apply(lt,e)}function jN(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!er(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zr(e,t){for(t&=~tf,t&=~rc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xt(t),n=1<<r;e[r]=-1,t&=~n}}function _p(e){if(ie&6)throw Error(L(327));Qs();var t=dl(e,0);if(!(t&1))return ht(e,Ce()),null;var r=Tl(e,t);if(e.tag!==0&&r===2){var n=ed(e);n!==0&&(t=n,r=Cd(e,n))}if(r===1)throw r=Ca,Xn(e,0),Zr(e,t),ht(e,Ce()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,lt,wr),ht(e,Ce()),null}function nf(e,t){var r=ie;ie|=1;try{return e(t)}finally{ie=r,ie===0&&(vo=Ce()+500,Xl&&Cn())}}function os(e){ln!==null&&ln.tag===0&&!(ie&6)&&Qs();var t=ie;ie|=1;var r=Ot.transition,n=ue;try{if(Ot.transition=null,ue=1,e)return e()}finally{ue=n,Ot.transition=r,ie=t,!(ie&6)&&Cn()}}function sf(){mt=Vs.current,ye(Vs)}function Xn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ZS(r)),Pe!==null)for(r=Pe.return;r!==null;){var n=r;switch(Mh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gl();break;case 3:po(),ye(ut),ye(Ye),Wh();break;case 5:Gh(n);break;case 4:po();break;case 13:ye(je);break;case 19:ye(je);break;case 10:Bh(n.type._context);break;case 22:case 23:sf()}r=r.return}if(Me=e,Pe=e=vn(e.current,null),Be=mt=t,De=0,Ca=null,tf=rc=ss=0,lt=sa=null,Vn!==null){for(t=0;t<Vn.length;t++)if(r=Vn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,n.next=a}r.pending=n}Vn=null}return e}function I0(e,t){do{var r=Pe;try{if(zh(),Qi.current=Nl,Sl){for(var n=Se.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Sl=!1}if(ns=0,$e=Ie=Se=null,ra=!1,Na=0,ef.current=null,r===null||r.return===null){De=1,Ca=t,Pe=null;break}e:{var o=e,a=r.return,l=r,c=t;if(t=Be,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=cp(a);if(f!==null){f.flags&=-257,up(f,a,l,o,t),f.mode&1&&lp(o,u,t),t=f,c=u;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){lp(o,u,t),of();break e}c=Error(L(426))}}else if(be&&l.mode&1){var y=cp(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),up(y,a,l,o,t),Uh(go(c,l));break e}}o=c=go(c,l),De!==4&&(De=2),sa===null?sa=[o]:sa.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=v0(o,c,t);rp(o,w);break e;case 1:l=c;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(pn===null||!pn.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=y0(o,l,t);rp(o,_);break e}}o=o.return}while(o!==null)}$0(r)}catch(N){t=N,Pe===r&&r!==null&&(Pe=r=r.return);continue}break}while(!0)}function D0(){var e=El.current;return El.current=Nl,e===null?Nl:e}function of(){(De===0||De===3||De===2)&&(De=4),Me===null||!(ss&268435455)&&!(rc&268435455)||Zr(Me,Be)}function Tl(e,t){var r=ie;ie|=2;var n=D0();(Me!==e||Be!==t)&&(wr=null,Xn(e,t));do try{SN();break}catch(s){I0(e,s)}while(!0);if(zh(),ie=r,El.current=n,Pe!==null)throw Error(L(261));return Me=null,Be=0,De}function SN(){for(;Pe!==null;)L0(Pe)}function NN(){for(;Pe!==null&&!Jj();)L0(Pe)}function L0(e){var t=U0(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?$0(e):Pe=t,ef.current=null}function $0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=yN(r,t),r!==null){r.flags&=32767,Pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Pe=null;return}}else if(r=vN(r,t,mt),r!==null){Pe=r;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);De===0&&(De=5)}function $n(e,t,r){var n=ue,s=Ot.transition;try{Ot.transition=null,ue=1,EN(e,t,r,n)}finally{Ot.transition=s,ue=n}return null}function EN(e,t,r,n){do Qs();while(ln!==null);if(ie&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(aS(e,o),e===Me&&(Pe=Me=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ji||(ji=!0,F0(ul,function(){return Qs(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Ot.transition,Ot.transition=null;var a=ue;ue=1;var l=ie;ie|=4,ef.current=null,wN(e,r),A0(r,e),GS(ad),hl=!!od,ad=od=null,e.current=r,bN(r),Yj(),ie=l,ue=a,Ot.transition=o}else e.current=r;if(ji&&(ji=!1,ln=e,Cl=s),o=e.pendingLanes,o===0&&(pn=null),eS(r.stateNode),ht(e,Ce()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(kl)throw kl=!1,e=Ed,Ed=null,e;return Cl&1&&e.tag!==0&&Qs(),o=e.pendingLanes,o&1?e===kd?oa++:(oa=0,kd=e):oa=0,Cn(),null}function Qs(){if(ln!==null){var e=vy(Cl),t=Ot.transition,r=ue;try{if(Ot.transition=null,ue=16>e?16:e,ln===null)var n=!1;else{if(e=ln,ln=null,Cl=0,ie&6)throw Error(L(331));var s=ie;for(ie|=4,B=e.current;B!==null;){var o=B,a=o.child;if(B.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(B=u;B!==null;){var d=B;switch(d.tag){case 0:case 11:case 15:na(8,d,o)}var h=d.child;if(h!==null)h.return=d,B=h;else for(;B!==null;){d=B;var m=d.sibling,f=d.return;if(C0(d),d===u){B=null;break}if(m!==null){m.return=f,B=m;break}B=f}}}var x=o.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}B=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,B=a;else e:for(;B!==null;){if(o=B,o.flags&2048)switch(o.tag){case 0:case 11:case 15:na(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,B=w;break e}B=o.return}}var g=e.current;for(B=g;B!==null;){a=B;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,B=b;else e:for(a=g;B!==null;){if(l=B,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:tc(9,l)}}catch(N){ke(l,l.return,N)}if(l===a){B=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,B=_;break e}B=l.return}}if(ie=s,Cn(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Wl,e)}catch{}n=!0}return n}finally{ue=r,Ot.transition=t}}return!1}function jp(e,t,r){t=go(r,t),t=v0(e,t,1),e=mn(e,t,1),t=rt(),e!==null&&(Ga(e,1,t),ht(e,t))}function ke(e,t,r){if(e.tag===3)jp(e,e,r);else for(;t!==null;){if(t.tag===3){jp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pn===null||!pn.has(n))){e=go(r,e),e=y0(t,e,1),t=mn(t,e,1),e=rt(),t!==null&&(Ga(t,1,e),ht(t,e));break}}t=t.return}}function kN(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&r,Me===e&&(Be&r)===r&&(De===4||De===3&&(Be&130023424)===Be&&500>Ce()-rf?Xn(e,0):tf|=r),ht(e,t)}function M0(e,t){t===0&&(e.mode&1?(t=fi,fi<<=1,!(fi&130023424)&&(fi=4194304)):t=1);var r=rt();e=Tr(e,t),e!==null&&(Ga(e,t,r),ht(e,r))}function CN(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),M0(e,r)}function TN(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),M0(e,r)}var U0;U0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)ct=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ct=!1,gN(e,t,r);ct=!!(e.flags&131072)}else ct=!1,be&&t.flags&1048576&&Vy(t,xl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Yi(e,t),e=t.pendingProps;var s=ho(t,Ye.current);Ks(t,r),s=Qh(null,t,n,e,s,r);var o=Jh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(n)?(o=!0,vl(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hh(t),s.updater=ec,t.stateNode=s,s._reactInternals=t,pd(t,n,e,r),t=yd(null,t,n,!0,o,r)):(t.tag=0,be&&o&&$h(t),Ze(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Yi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=AN(n),e=Ht(n,e),s){case 0:t=vd(null,t,n,e,r);break e;case 1:t=fp(null,t,n,e,r);break e;case 11:t=dp(null,t,n,e,r);break e;case 14:t=hp(null,t,n,Ht(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),vd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),fp(e,t,n,s,r);case 3:e:{if(_0(t),e===null)throw Error(L(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Qy(e,t),_l(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=go(Error(L(423)),t),t=mp(e,t,n,r,s);break e}else if(n!==s){s=go(Error(L(424)),t),t=mp(e,t,n,r,s);break e}else for(yt=fn(t.stateNode.containerInfo.firstChild),xt=t,be=!0,Jt=null,r=Wy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fo(),n===s){t=Rr(e,t,r);break e}Ze(e,t,n,r)}t=t.child}return t;case 5:return Jy(t),e===null&&hd(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,id(n,s)?a=null:o!==null&&id(n,o)&&(t.flags|=32),b0(e,t),Ze(e,t,a,r),t.child;case 6:return e===null&&hd(t),null;case 13:return j0(e,t,r);case 4:return qh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=mo(t,null,n,r):Ze(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),dp(e,t,n,s,r);case 7:return Ze(e,t,t.pendingProps,r),t.child;case 8:return Ze(e,t,t.pendingProps.children,r),t.child;case 12:return Ze(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,me(wl,n._currentValue),n._currentValue=a,o!==null)if(er(o.value,a)){if(o.children===s.children&&!ut.current){t=Rr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Er(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),fd(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(L(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),fd(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ze(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ks(t,r),s=It(s),n=n(s),t.flags|=1,Ze(e,t,n,r),t.child;case 14:return n=t.type,s=Ht(n,t.pendingProps),s=Ht(n.type,s),hp(e,t,n,s,r);case 15:return x0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),Yi(e,t),t.tag=1,dt(n)?(e=!0,vl(t)):e=!1,Ks(t,r),g0(t,n,s),pd(t,n,s,r),yd(null,t,n,!0,e,r);case 19:return S0(e,t,r);case 22:return w0(e,t,r)}throw Error(L(156,t.tag))};function F0(e,t){return fy(e,t)}function RN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,r,n){return new RN(e,t,r,n)}function af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AN(e){if(typeof e=="function")return af(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nh)return 11;if(e===Eh)return 14}return 2}function vn(e,t){var r=e.alternate;return r===null?(r=At(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function el(e,t,r,n,s,o){var a=2;if(n=e,typeof e=="function")af(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Os:return Zn(r.children,s,o,t);case Sh:a=8,s|=8;break;case Uu:return e=At(12,r,t,s|2),e.elementType=Uu,e.lanes=o,e;case Fu:return e=At(13,r,t,s),e.elementType=Fu,e.lanes=o,e;case zu:return e=At(19,r,t,s),e.elementType=zu,e.lanes=o,e;case Jv:return nc(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kv:a=10;break e;case Qv:a=9;break e;case Nh:a=11;break e;case Eh:a=14;break e;case Qr:a=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=At(a,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Zn(e,t,r,n){return e=At(7,e,n,t),e.lanes=r,e}function nc(e,t,r,n){return e=At(22,e,n,t),e.elementType=Jv,e.lanes=r,e.stateNode={isHidden:!1},e}function uu(e,t,r){return e=At(6,e,null,t),e.lanes=r,e}function du(e,t,r){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PN(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qc(0),this.expirationTimes=qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lf(e,t,r,n,s,o,a,l,c){return e=new PN(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=At(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hh(o),e}function ON(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ps,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function z0(e){if(!e)return jn;e=e._reactInternals;e:{if(hs(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(dt(r))return zy(e,r,t)}return t}function B0(e,t,r,n,s,o,a,l,c){return e=lf(r,n,!0,e,s,o,a,l,c),e.context=z0(null),r=e.current,n=rt(),s=gn(r),o=Er(n,s),o.callback=t??null,mn(r,o,s),e.current.lanes=s,Ga(e,s,n),ht(e,n),e}function sc(e,t,r,n){var s=t.current,o=rt(),a=gn(s);return r=z0(r),t.context===null?t.context=r:t.pendingContext=r,t=Er(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=mn(s,t,a),e!==null&&(Zt(e,s,a,o),Ki(e,s,a)),a}function Rl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cf(e,t){Sp(e,t),(e=e.alternate)&&Sp(e,t)}function IN(){return null}var V0=typeof reportError=="function"?reportError:function(e){console.error(e)};function uf(e){this._internalRoot=e}oc.prototype.render=uf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));sc(e,t,null,null)};oc.prototype.unmount=uf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;os(function(){sc(null,e,null,null)}),t[Cr]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=wy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xr.length&&t!==0&&t<Xr[r].priority;r++);Xr.splice(r,0,e),r===0&&_y(e)}};function df(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Np(){}function DN(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Rl(a);o.call(u)}}var a=B0(t,n,e,0,null,!1,!1,"",Np);return e._reactRootContainer=a,e[Cr]=a.current,wa(e.nodeType===8?e.parentNode:e),os(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Rl(c);l.call(u)}}var c=lf(e,0,!1,null,null,!1,!1,"",Np);return e._reactRootContainer=c,e[Cr]=c.current,wa(e.nodeType===8?e.parentNode:e),os(function(){sc(t,c,r,n)}),c}function ic(e,t,r,n,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Rl(a);l.call(c)}}sc(t,a,e,s)}else a=DN(r,t,e,s,n);return Rl(a)}yy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ko(t.pendingLanes);r!==0&&(Th(t,r|1),ht(t,Ce()),!(ie&6)&&(vo=Ce()+500,Cn()))}break;case 13:os(function(){var n=Tr(e,1);if(n!==null){var s=rt();Zt(n,e,1,s)}}),cf(e,1)}};Rh=function(e){if(e.tag===13){var t=Tr(e,134217728);if(t!==null){var r=rt();Zt(t,e,134217728,r)}cf(e,134217728)}};xy=function(e){if(e.tag===13){var t=gn(e),r=Tr(e,t);if(r!==null){var n=rt();Zt(r,e,t,n)}cf(e,t)}};wy=function(){return ue};by=function(e,t){var r=ue;try{return ue=e,t()}finally{ue=r}};Yu=function(e,t,r){switch(t){case"input":if(Hu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Yl(n);if(!s)throw Error(L(90));Xv(n),Hu(n,s)}}}break;case"textarea":ey(e,r);break;case"select":t=r.value,t!=null&&Hs(e,!!r.multiple,t,!1)}};iy=nf;ly=os;var LN={usingClientEntryPoint:!1,Events:[Ka,$s,Yl,oy,ay,nf]},Vo={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$N={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dy(e),e===null?null:e.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||IN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Si=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Si.isDisabled&&Si.supportsFiber)try{Wl=Si.inject($N),dr=Si}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LN;_t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!df(t))throw Error(L(200));return ON(e,t,null,r)};_t.createRoot=function(e,t){if(!df(e))throw Error(L(299));var r=!1,n="",s=V0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=lf(e,1,!1,null,null,r,!1,n,s),e[Cr]=t.current,wa(e.nodeType===8?e.parentNode:e),new uf(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=dy(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return os(e)};_t.hydrate=function(e,t,r){if(!ac(t))throw Error(L(200));return ic(null,e,t,!0,r)};_t.hydrateRoot=function(e,t,r){if(!df(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",a=V0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=B0(t,null,e,1,r??null,s,!1,o,a),e[Cr]=t.current,wa(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new oc(t)};_t.render=function(e,t,r){if(!ac(t))throw Error(L(200));return ic(null,e,t,!1,r)};_t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(L(40));return e._reactRootContainer?(os(function(){ic(null,null,e,!1,function(){e._reactRootContainer=null,e[Cr]=null})}),!0):!1};_t.unstable_batchedUpdates=nf;_t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ac(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return ic(e,t,r,!1,n)};_t.version="18.3.1-next-f1338f8080-20240426";function H0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H0)}catch(e){console.error(e)}}H0(),Hv.exports=_t;var Ja=Hv.exports;const q0=Pv(Ja);var G0,Ep=Ja;G0=Ep.createRoot,Ep.hydrateRoot;const MN=1,UN=1e6;let hu=0;function FN(){return hu=(hu+1)%Number.MAX_SAFE_INTEGER,hu.toString()}const fu=new Map,kp=e=>{if(fu.has(e))return;const t=setTimeout(()=>{fu.delete(e),aa({type:"REMOVE_TOAST",toastId:e})},UN);fu.set(e,t)},zN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,MN)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?kp(r):e.toasts.forEach(n=>{kp(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},tl=[];let rl={toasts:[]};function aa(e){rl=zN(rl,e),tl.forEach(t=>{t(rl)})}function BN({...e}){const t=FN(),r=s=>aa({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>aa({type:"DISMISS_TOAST",toastId:t});return aa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function at(){const[e,t]=v.useState(rl);return v.useEffect(()=>(tl.push(t),()=>{const r=tl.indexOf(t);r>-1&&tl.splice(r,1)}),[e]),{...e,toast:BN,dismiss:r=>aa({type:"DISMISS_TOAST",toastId:r})}}function ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Cp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function W0(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Cp(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Cp(e[s],null)}}}}function xe(...e){return v.useCallback(W0(...e),e)}function VN(e,t){const r=v.createContext(t),n=o=>{const{children:a,...l}=o,c=v.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(o){const a=v.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function St(e,t=[]){let r=[];function n(o,a){const l=v.createContext(a),c=r.length;r=[...r,a];const u=h=>{var w;const{scope:m,children:f,...x}=h,p=((w=m==null?void 0:m[e])==null?void 0:w[c])||l,y=v.useMemo(()=>x,Object.values(x));return i.jsx(p.Provider,{value:y,children:f})};u.displayName=o+"Provider";function d(h,m){var p;const f=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,x=v.useContext(f);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(a=>v.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,HN(s,...t)]}function HN(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function Ta(e){const t=GN(e),r=v.forwardRef((n,s)=>{const{children:o,...a}=n,l=v.Children.toArray(o),c=l.find(WN);if(c){const u=c.props.children,d=l.map(h=>h===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...a,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return i.jsx(t,{...a,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var qN=Ta("Slot");function GN(e){const t=v.forwardRef((r,n)=>{const{children:s,...o}=r;if(v.isValidElement(s)){const a=QN(s),l=KN(o,s.props);return s.type!==v.Fragment&&(l.ref=n?W0(n,a):a),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var K0=Symbol("radix.slottable");function Q0(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=K0,t}function WN(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===K0}function KN(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function QN(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function J0(e){const t=e+"CollectionProvider",[r,n]=St(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:y,children:w}=p,g=M.useRef(null),b=M.useRef(new Map).current;return i.jsx(s,{scope:y,itemMap:b,collectionRef:g,children:w})};a.displayName=t;const l=e+"CollectionSlot",c=Ta(l),u=M.forwardRef((p,y)=>{const{scope:w,children:g}=p,b=o(l,w),_=xe(y,b.collectionRef);return i.jsx(c,{ref:_,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=Ta(d),f=M.forwardRef((p,y)=>{const{scope:w,children:g,...b}=p,_=M.useRef(null),N=xe(y,_),j=o(d,w);return M.useEffect(()=>(j.itemMap.set(_,{ref:_,...b}),()=>void j.itemMap.delete(_))),i.jsx(m,{[h]:"",ref:N,children:g})});f.displayName=d;function x(p){const y=o(e+"CollectionConsumer",p);return M.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((j,S)=>b.indexOf(j.ref.current)-b.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:u,ItemSlot:f},x,n]}var JN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=JN.reduce((e,t)=>{const r=Ta(`Primitive.${t}`),n=v.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Y0(e,t){e&&Ja.flushSync(()=>e.dispatchEvent(t))}function Lt(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function YN(e,t=globalThis==null?void 0:globalThis.document){const r=Lt(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var XN="DismissableLayer",Rd="dismissableLayer.update",ZN="dismissableLayer.pointerDownOutside",eE="dismissableLayer.focusOutside",Tp,X0=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,u=v.useContext(X0),[d,h]=v.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=v.useState({}),x=xe(t,S=>h(S)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=p.indexOf(y),g=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=w,N=rE(S=>{const E=S.target,C=[...u.branches].some(R=>R.contains(E));!_||C||(s==null||s(S),a==null||a(S),S.defaultPrevented||l==null||l())},m),j=nE(S=>{const E=S.target;[...u.branches].some(R=>R.contains(E))||(o==null||o(S),a==null||a(S),S.defaultPrevented||l==null||l())},m);return YN(S=>{g===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Tp=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Rp(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Tp)}},[d,m,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Rp())},[d,u]),v.useEffect(()=>{const S=()=>f({});return document.addEventListener(Rd,S),()=>document.removeEventListener(Rd,S)},[]),i.jsx(se.div,{...c,ref:x,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,j.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,N.onPointerDownCapture)})});lc.displayName=XN;var tE="DismissableLayerBranch",Z0=v.forwardRef((e,t)=>{const r=v.useContext(X0),n=v.useRef(null),s=xe(t,n);return v.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),i.jsx(se.div,{...e,ref:s})});Z0.displayName=tE;function rE(e,t=globalThis==null?void 0:globalThis.document){const r=Lt(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){ex(ZN,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function nE(e,t=globalThis==null?void 0:globalThis.document){const r=Lt(e),n=v.useRef(!1);return v.useEffect(()=>{const s=o=>{o.target&&!n.current&&ex(eE,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Rp(){const e=new CustomEvent(Rd);document.dispatchEvent(e)}function ex(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Y0(s,o):s.dispatchEvent(o)}var sE=lc,oE=Z0,$t=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},aE="Portal",hf=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=v.useState(!1);$t(()=>o(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?q0.createPortal(i.jsx(se.div,{...n,ref:t}),a):null});hf.displayName=aE;function iE(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Dr=e=>{const{present:t,children:r}=e,n=lE(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),o=xe(n.ref,cE(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:o}):null};Dr.displayName="Presence";function lE(e){const[t,r]=v.useState(),n=v.useRef(null),s=v.useRef(e),o=v.useRef("none"),a=e?"mounted":"unmounted",[l,c]=iE(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Ni(n.current);o.current=l==="mounted"?u:"none"},[l]),$t(()=>{const u=n.current,d=s.current;if(d!==e){const m=o.current,f=Ni(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),$t(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const p=Ni(n.current).includes(f.animationName);if(f.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=f=>{f.target===t&&(o.current=Ni(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ni(e){return(e==null?void 0:e.animationName)||"none"}function cE(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var uE=wh[" useInsertionEffect ".trim().toString()]||$t;function fs({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,a]=dE({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=v.useCallback(d=>{var h;if(l){const m=hE(d)?d(e):d;m!==e&&((h=a.current)==null||h.call(a,m))}else o(d)},[l,e,o,a]);return[c,u]}function dE({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),o=v.useRef(t);return uE(()=>{o.current=t},[t]),v.useEffect(()=>{var a;s.current!==r&&((a=o.current)==null||a.call(o,r),s.current=r)},[r,s]),[r,n,o]}function hE(e){return typeof e=="function"}var fE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mE="VisuallyHidden",cc=v.forwardRef((e,t)=>i.jsx(se.span,{...e,ref:t,style:{...fE,...e.style}}));cc.displayName=mE;var pE=cc,ff="ToastProvider",[mf,gE,vE]=J0("Toast"),[tx,JD]=St("Toast",[vE]),[yE,uc]=tx(ff),rx=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=e,[l,c]=v.useState(null),[u,d]=v.useState(0),h=v.useRef(!1),m=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ff}\`. Expected non-empty \`string\`.`),i.jsx(mf.Provider,{scope:t,children:i.jsx(yE,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>d(f=>f+1),[]),onToastRemove:v.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:a})})};rx.displayName=ff;var nx="ToastViewport",xE=["F8"],Ad="toast.viewportPause",Pd="toast.viewportResume",sx=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=xE,label:s="Notifications ({hotkey})",...o}=e,a=uc(nx,r),l=gE(r),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),m=xe(t,h,a.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=a.toastCount>0;v.useEffect(()=>{const y=w=>{var b;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),v.useEffect(()=>{const y=c.current,w=h.current;if(x&&y&&w){const g=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(Ad);w.dispatchEvent(j),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(Pd);w.dispatchEvent(j),a.isClosePausedRef.current=!1}},_=j=>{!y.contains(j.relatedTarget)&&b()},N=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",g),y.addEventListener("focusout",_),y.addEventListener("pointermove",g),y.addEventListener("pointerleave",N),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",g),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",g),y.removeEventListener("pointerleave",N),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[x,a.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:y})=>{const g=l().map(b=>{const _=b.ref.current,N=[_,...PE(_)];return y==="forwards"?N:N.reverse()});return(y==="forwards"?g.reverse():g).flat()},[l]);return v.useEffect(()=>{const y=h.current;if(y){const w=g=>{var N,j,S;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const E=document.activeElement,C=g.shiftKey;if(g.target===y&&C){(N=u.current)==null||N.focus();return}const T=p({tabbingDirection:C?"backwards":"forwards"}),U=T.findIndex(I=>I===E);mu(T.slice(U+1))?g.preventDefault():C?(j=u.current)==null||j.focus():(S=d.current)==null||S.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[l,p]),i.jsxs(oE,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&i.jsx(Od,{ref:u,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"forwards"});mu(y)}}),i.jsx(mf.Slot,{scope:r,children:i.jsx(se.ol,{tabIndex:-1,...o,ref:m})}),x&&i.jsx(Od,{ref:d,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"backwards"});mu(y)}})]})});sx.displayName=nx;var ox="ToastFocusProxy",Od=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=uc(ox,r);return i.jsx(cc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});Od.displayName=ox;var Ya="Toast",wE="toast.swipeStart",bE="toast.swipeMove",_E="toast.swipeCancel",jE="toast.swipeEnd",ax=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...a}=e,[l,c]=fs({prop:n,defaultProp:s??!0,onChange:o,caller:Ya});return i.jsx(Dr,{present:r||l,children:i.jsx(EE,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Lt(e.onPause),onResume:Lt(e.onResume),onSwipeStart:ne(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ne(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});ax.displayName=Ya;var[SE,NE]=tx(Ya,{onClose(){}}),EE=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:f,...x}=e,p=uc(Ya,r),[y,w]=v.useState(null),g=xe(t,I=>w(I)),b=v.useRef(null),_=v.useRef(null),N=s||p.duration,j=v.useRef(0),S=v.useRef(N),E=v.useRef(0),{onToastAdd:C,onToastRemove:R}=p,k=Lt(()=>{var J;(y==null?void 0:y.contains(document.activeElement))&&((J=p.viewport)==null||J.focus()),a()}),T=v.useCallback(I=>{!I||I===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(k,I))},[k]);v.useEffect(()=>{const I=p.viewport;if(I){const J=()=>{T(S.current),u==null||u()},$=()=>{const V=new Date().getTime()-j.current;S.current=S.current-V,window.clearTimeout(E.current),c==null||c()};return I.addEventListener(Ad,$),I.addEventListener(Pd,J),()=>{I.removeEventListener(Ad,$),I.removeEventListener(Pd,J)}}},[p.viewport,N,c,u,T]),v.useEffect(()=>{o&&!p.isClosePausedRef.current&&T(N)},[o,N,p.isClosePausedRef,T]),v.useEffect(()=>(C(),()=>R()),[C,R]);const U=v.useMemo(()=>y?fx(y):null,[y]);return p.viewport?i.jsxs(i.Fragment,{children:[U&&i.jsx(kE,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),i.jsx(SE,{scope:r,onClose:k,children:Ja.createPortal(i.jsx(mf.ItemSlot,{scope:r,children:i.jsx(sE,{asChild:!0,onEscapeKeyDown:ne(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||k(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ne(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ne(e.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:ne(e.onPointerMove,I=>{if(!b.current)return;const J=I.clientX-b.current.x,$=I.clientY-b.current.y,V=!!_.current,A=["left","right"].includes(p.swipeDirection),O=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,F=A?O(0,J):0,W=A?0:O(0,$),G=I.pointerType==="touch"?10:2,re={x:F,y:W},ae={originalEvent:I,delta:re};V?(_.current=re,Ei(bE,h,ae,{discrete:!1})):Ap(re,p.swipeDirection,G)?(_.current=re,Ei(wE,d,ae,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(J)>G||Math.abs($)>G)&&(b.current=null)}),onPointerUp:ne(e.onPointerUp,I=>{const J=_.current,$=I.target;if($.hasPointerCapture(I.pointerId)&&$.releasePointerCapture(I.pointerId),_.current=null,b.current=null,J){const V=I.currentTarget,A={originalEvent:I,delta:J};Ap(J,p.swipeDirection,p.swipeThreshold)?Ei(jE,f,A,{discrete:!0}):Ei(_E,m,A,{discrete:!0}),V.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),kE=e=>{const{__scopeToast:t,children:r,...n}=e,s=uc(Ya,t),[o,a]=v.useState(!1),[l,c]=v.useState(!1);return RE(()=>a(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(hf,{asChild:!0,children:i.jsx(cc,{...n,children:o&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},CE="ToastTitle",ix=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(se.div,{...n,ref:t})});ix.displayName=CE;var TE="ToastDescription",lx=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(se.div,{...n,ref:t})});lx.displayName=TE;var cx="ToastAction",ux=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(hx,{altText:r,asChild:!0,children:i.jsx(pf,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${cx}\`. Expected non-empty \`string\`.`),null)});ux.displayName=cx;var dx="ToastClose",pf=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=NE(dx,r);return i.jsx(hx,{asChild:!0,children:i.jsx(se.button,{type:"button",...n,ref:t,onClick:ne(e.onClick,s.onClose)})})});pf.displayName=dx;var hx=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function fx(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),AE(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...fx(n))}}),t}function Ei(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Y0(s,o):s.dispatchEvent(o)}var Ap=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function RE(e=()=>{}){const t=Lt(e);$t(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function AE(e){return e.nodeType===e.ELEMENT_NODE}function PE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function mu(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var OE=rx,mx=sx,px=ax,gx=ix,vx=lx,yx=ux,xx=pf;function wx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=wx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function bx(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=wx(e))&&(n&&(n+=" "),n+=t);return n}const Pp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Op=bx,dc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Op(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=o==null?void 0:o[u];if(d===null)return null;const m=Pp(d)||Pp(h);return s[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:m,...f}=d;return Object.entries(f).every(x=>{let[p,y]=x;return Array.isArray(y)?y.includes({...o,...l}[p]):{...o,...l}[p]===y})?[...u,h,m]:u},[]);return Op(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_x=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:a,...l},c)=>v.createElement("svg",{ref:c,...DE,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:_x("lucide",s),...l},[...a.map(([u,d])=>v.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(e,t)=>{const r=v.forwardRef(({className:n,...s},o)=>v.createElement(LE,{ref:o,iconNode:t,className:_x(`lucide-${IE(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=Q("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=Q("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=Q("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Q("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Q("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=Q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=Q("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Q("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=Q("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Q("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=Q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=Q("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Q("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Q("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=Q("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=Q("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=Q("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=Q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Q("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=Q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=Q("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yf="-",rk=e=>{const t=sk(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(yf);return l[0]===""&&l.length!==1&&l.shift(),Px(l,t)||nk(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},Px=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Px(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(yf);return(a=t.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},Dp=/^\[(.+)\]$/,nk=e=>{if(Dp.test(e)){const t=Dp.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},sk=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return ak(Object.entries(e.classGroups),r).forEach(([o,a])=>{Md(a,n,o,t)}),n},Md=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Lp(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(ok(s)){Md(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,a])=>{Md(a,Lp(t,o),r,n)})})},Lp=(e,t)=>{let r=e;return t.split(yf).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ok=e=>e.isThemeGetter,ak=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[t+a,l])):o);return[r,s]}):e,ik=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,a)=>{r.set(o,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set(o,a){r.has(o)?r.set(o,a):s(o,a)}}},Ox="!",lk=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let y=0;y<l.length;y++){let w=l[y];if(u===0){if(w===s&&(n||l.slice(y,y+o)===t)){c.push(l.slice(d,y)),d=y+o;continue}if(w==="/"){h=y;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?l:l.substring(d),f=m.startsWith(Ox),x=f?m.substring(1):m,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:a}):a},ck=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},uk=e=>({cache:ik(e.cacheSize),parseClassName:lk(e),...rk(e)}),dk=/\s+/,hk=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],a=e.trim().split(dk);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=r(u);let x=!!f,p=n(x?m.substring(0,f):m);if(!p){if(!x){l=u+(l.length>0?" "+l:l);continue}if(p=n(m),!p){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=ck(d).join(":"),w=h?y+Ox:y,g=w+p;if(o.includes(g))continue;o.push(g);const b=s(p,x);for(let _=0;_<b.length;++_){const N=b[_];o.push(w+N)}l=u+(l.length>0?" "+l:l)}return l};function fk(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Ix(t))&&(n&&(n+=" "),n+=r);return n}const Ix=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Ix(e[n]))&&(r&&(r+=" "),r+=t);return r};function mk(e,...t){let r,n,s,o=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return r=uk(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=hk(c,r);return s(c,d),d}return function(){return o(fk.apply(null,arguments))}}const ge=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Dx=/^\[(?:([a-z-]+):)?(.+)\]$/i,pk=/^\d+\/\d+$/,gk=new Set(["px","full","screen"]),vk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yr=e=>Ys(e)||gk.has(e)||pk.test(e),Hr=e=>Eo(e,"length",Tk),Ys=e=>!!e&&!Number.isNaN(Number(e)),pu=e=>Eo(e,"number",Ys),Ho=e=>!!e&&Number.isInteger(Number(e)),_k=e=>e.endsWith("%")&&Ys(e.slice(0,-1)),te=e=>Dx.test(e),qr=e=>vk.test(e),jk=new Set(["length","size","percentage"]),Sk=e=>Eo(e,jk,Lx),Nk=e=>Eo(e,"position",Lx),Ek=new Set(["image","url"]),kk=e=>Eo(e,Ek,Ak),Ck=e=>Eo(e,"",Rk),qo=()=>!0,Eo=(e,t,r)=>{const n=Dx.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Tk=e=>yk.test(e)&&!xk.test(e),Lx=()=>!1,Rk=e=>wk.test(e),Ak=e=>bk.test(e),Pk=()=>{const e=ge("colors"),t=ge("spacing"),r=ge("blur"),n=ge("brightness"),s=ge("borderColor"),o=ge("borderRadius"),a=ge("borderSpacing"),l=ge("borderWidth"),c=ge("contrast"),u=ge("grayscale"),d=ge("hueRotate"),h=ge("invert"),m=ge("gap"),f=ge("gradientColorStops"),x=ge("gradientColorStopPositions"),p=ge("inset"),y=ge("margin"),w=ge("opacity"),g=ge("padding"),b=ge("saturate"),_=ge("scale"),N=ge("sepia"),j=ge("skew"),S=ge("space"),E=ge("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",te,t],T=()=>[te,t],U=()=>["",yr,Hr],I=()=>["auto",Ys,te],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",te],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Ys,te];return{cacheSize:500,separator:":",theme:{colors:[qo],spacing:[yr,Hr],blur:["none","",qr,te],brightness:W(),borderColor:[e],borderRadius:["none","","full",qr,te],borderSpacing:T(),borderWidth:U(),contrast:W(),grayscale:O(),hueRotate:W(),invert:O(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[_k,Hr],inset:k(),margin:k(),opacity:W(),padding:T(),saturate:W(),scale:W(),sepia:O(),skew:W(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",te]}],container:["container"],columns:[{columns:[qr]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),te]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ho,te]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",te]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Ho,te]}],"grid-cols":[{"grid-cols":[qo]}],"col-start-end":[{col:["auto",{span:["full",Ho,te]},te]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[qo]}],"row-start-end":[{row:["auto",{span:[Ho,te]},te]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",te]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",te,t]}],"min-w":[{"min-w":[te,t,"min","max","fit"]}],"max-w":[{"max-w":[te,t,"none","full","min","max","fit","prose",{screen:[qr]},qr]}],h:[{h:[te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qr,Hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pu]}],"font-family":[{font:[qo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",te]}],"line-clamp":[{"line-clamp":["none",Ys,pu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yr,te]}],"list-image":[{"list-image":["none",te]}],"list-style-type":[{list:["none","disc","decimal",te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yr,Hr]}],"underline-offset":[{"underline-offset":["auto",yr,te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),Nk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Sk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[yr,te]}],"outline-w":[{outline:[yr,Hr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[yr,Hr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qr,Ck]}],"shadow-color":[{shadow:[qo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qr,te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",te]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",te]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ho,te]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",te]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[yr,Hr,pu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ok=mk(Pk);function ee(...e){return Ok(bx(e))}const Ik=OE,$x=v.forwardRef(({className:e,...t},r)=>i.jsx(mx,{ref:r,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));$x.displayName=mx.displayName;const Dk=dc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Mx=v.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(px,{ref:n,className:ee(Dk({variant:t}),e),...r}));Mx.displayName=px.displayName;const Lk=v.forwardRef(({className:e,...t},r)=>i.jsx(yx,{ref:r,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Lk.displayName=yx.displayName;const Ux=v.forwardRef(({className:e,...t},r)=>i.jsx(xx,{ref:r,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(vf,{className:"h-4 w-4"})}));Ux.displayName=xx.displayName;const Fx=v.forwardRef(({className:e,...t},r)=>i.jsx(gx,{ref:r,className:ee("text-sm font-semibold",e),...t}));Fx.displayName=gx.displayName;const zx=v.forwardRef(({className:e,...t},r)=>i.jsx(vx,{ref:r,className:ee("text-sm opacity-90",e),...t}));zx.displayName=vx.displayName;function $k(){const{toasts:e}=at();return i.jsxs(Ik,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return i.jsxs(Mx,{...o,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(Fx,{children:r}),n&&i.jsx(zx,{children:n})]}),s,i.jsx(Ux,{})]},t)}),i.jsx($x,{})]})}var Ol=["light","dark"],xf="(prefers-color-scheme: dark)",Mk=typeof window>"u",wf=v.createContext(void 0),Uk={setTheme:e=>{},themes:[]},Bx=()=>{var e;return(e=v.useContext(wf))!=null?e:Uk},Fk=e=>v.useContext(wf)?e.children:v.createElement(Bk,{...e}),zk=["light","dark"],Bk=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:o=zk,defaultTheme:a=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[h,m]=v.useState(()=>$p(s,a)),[f,x]=v.useState(()=>$p(s)),p=c?Object.values(c):o,y=v.useCallback(_=>{let N=_;if(!N)return;_==="system"&&r&&(N=Mp());let j=c?c[N]:N,S=t?Hk():null,E=document.documentElement;if(l==="class"?(E.classList.remove(...p),j&&E.classList.add(j)):j?E.setAttribute(l,j):E.removeAttribute(l),n){let C=Ol.includes(a)?a:null,R=Ol.includes(N)?N:C;E.style.colorScheme=R}S==null||S()},[]),w=v.useCallback(_=>{let N=typeof _=="function"?_(_):_;m(N);try{localStorage.setItem(s,N)}catch{}},[e]),g=v.useCallback(_=>{let N=Mp(_);x(N),h==="system"&&r&&!e&&y("system")},[h,e]);v.useEffect(()=>{let _=window.matchMedia(xf);return _.addListener(g),g(_),()=>_.removeListener(g)},[g]),v.useEffect(()=>{let _=N=>{if(N.key!==s)return;let j=N.newValue||a;w(j)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[w]),v.useEffect(()=>{y(e??h)},[e,h]);let b=v.useMemo(()=>({theme:h,setTheme:w,forcedTheme:e,resolvedTheme:h==="system"?f:h,themes:r?[...o,"system"]:o,systemTheme:r?f:void 0}),[h,w,e,f,r,o]);return v.createElement(wf.Provider,{value:b},v.createElement(Vk,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:s,themes:o,defaultTheme:a,attribute:l,value:c,children:u,attrs:p,nonce:d}),u)},Vk=v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:a,attrs:l,nonce:c})=>{let u=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?Ol.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,p=!1,y=!0)=>{let w=a?a[x]:x,g=p?x+"|| ''":`'${w}'`,b="";return s&&y&&!p&&Ol.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),r==="class"?p||w?b+=`c.add(${g})`:b+="null":w&&(b+=`d[s](n,${g})`),b},f=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${xf}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})}),$p=(e,t)=>{if(Mk)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Hk=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Mp=e=>(e||(e=window.matchMedia(xf)),e.matches?"dark":"light"),qk=e=>{switch(e){case"success":return Kk;case"info":return Jk;case"warning":return Qk;case"error":return Yk;default:return null}},Gk=Array(12).fill(0),Wk=({visible:e,className:t})=>M.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},M.createElement("div",{className:"sonner-spinner"},Gk.map((r,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Kk=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Qk=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Jk=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Yk=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Xk=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Zk=()=>{let[e,t]=M.useState(document.hidden);return M.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Ud=1,eC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ud++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...n,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,a=n.then(async c=>{if(o=["resolve",c],M.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(rC(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Ud++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},it=new eC,tC=(e,t)=>{let r=(t==null?void 0:t.id)||Ud++;return it.addToast({title:e,...t,id:r}),r},rC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",nC=tC,sC=()=>it.toasts,oC=()=>it.getActiveToasts();Object.assign(nC,{success:it.success,info:it.info,warning:it.warning,error:it.error,custom:it.custom,message:it.message,promise:it.promise,dismiss:it.dismiss,loading:it.loading},{getHistory:sC,getToasts:oC});function aC(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}aC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ki(e){return e.label!==void 0}var iC=3,lC="32px",cC="16px",Up=4e3,uC=356,dC=14,hC=20,fC=200;function Bt(...e){return e.filter(Boolean).join(" ")}function mC(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var pC=e=>{var t,r,n,s,o,a,l,c,u,d,h;let{invert:m,toast:f,unstyled:x,interacting:p,setHeights:y,visibleToasts:w,heights:g,index:b,toasts:_,expanded:N,removeToast:j,defaultRichColors:S,closeButton:E,style:C,cancelButtonStyle:R,actionButtonStyle:k,className:T="",descriptionClassName:U="",duration:I,position:J,gap:$,loadingIcon:V,expandByDefault:A,classNames:O,icons:F,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:G}=e,[re,ae]=M.useState(null),[Te,He]=M.useState(null),[ce,ms]=M.useState(!1),[$r,An]=M.useState(!1),[Mr,ps]=M.useState(!1),[Ur,si]=M.useState(!1),[Dc,oi]=M.useState(!1),[Lc,Io]=M.useState(0),[gs,dm]=M.useState(0),Do=M.useRef(f.duration||I||Up),hm=M.useRef(null),Pn=M.useRef(null),nj=b===0,sj=b+1<=w,Nt=f.type,vs=f.dismissible!==!1,oj=f.className||"",aj=f.descriptionClassName||"",ai=M.useMemo(()=>g.findIndex(X=>X.toastId===f.id)||0,[g,f.id]),ij=M.useMemo(()=>{var X;return(X=f.closeButton)!=null?X:E},[f.closeButton,E]),fm=M.useMemo(()=>f.duration||I||Up,[f.duration,I]),$c=M.useRef(0),ys=M.useRef(0),mm=M.useRef(0),xs=M.useRef(null),[lj,cj]=J.split("-"),pm=M.useMemo(()=>g.reduce((X,de,we)=>we>=ai?X:X+de.height,0),[g,ai]),gm=Zk(),uj=f.invert||m,Mc=Nt==="loading";ys.current=M.useMemo(()=>ai*$+pm,[ai,pm]),M.useEffect(()=>{Do.current=fm},[fm]),M.useEffect(()=>{ms(!0)},[]),M.useEffect(()=>{let X=Pn.current;if(X){let de=X.getBoundingClientRect().height;return dm(de),y(we=>[{toastId:f.id,height:de,position:f.position},...we]),()=>y(we=>we.filter(Mt=>Mt.toastId!==f.id))}},[y,f.id]),M.useLayoutEffect(()=>{if(!ce)return;let X=Pn.current,de=X.style.height;X.style.height="auto";let we=X.getBoundingClientRect().height;X.style.height=de,dm(we),y(Mt=>Mt.find(Ut=>Ut.toastId===f.id)?Mt.map(Ut=>Ut.toastId===f.id?{...Ut,height:we}:Ut):[{toastId:f.id,height:we,position:f.position},...Mt])},[ce,f.title,f.description,y,f.id]);let Fr=M.useCallback(()=>{An(!0),Io(ys.current),y(X=>X.filter(de=>de.toastId!==f.id)),setTimeout(()=>{j(f)},fC)},[f,j,y,ys]);M.useEffect(()=>{if(f.promise&&Nt==="loading"||f.duration===1/0||f.type==="loading")return;let X;return N||p||G&&gm?(()=>{if(mm.current<$c.current){let de=new Date().getTime()-$c.current;Do.current=Do.current-de}mm.current=new Date().getTime()})():Do.current!==1/0&&($c.current=new Date().getTime(),X=setTimeout(()=>{var de;(de=f.onAutoClose)==null||de.call(f,f),Fr()},Do.current)),()=>clearTimeout(X)},[N,p,f,Nt,G,gm,Fr]),M.useEffect(()=>{f.delete&&Fr()},[Fr,f.delete]);function dj(){var X,de,we;return F!=null&&F.loading?M.createElement("div",{className:Bt(O==null?void 0:O.loader,(X=f==null?void 0:f.classNames)==null?void 0:X.loader,"sonner-loader"),"data-visible":Nt==="loading"},F.loading):V?M.createElement("div",{className:Bt(O==null?void 0:O.loader,(de=f==null?void 0:f.classNames)==null?void 0:de.loader,"sonner-loader"),"data-visible":Nt==="loading"},V):M.createElement(Wk,{className:Bt(O==null?void 0:O.loader,(we=f==null?void 0:f.classNames)==null?void 0:we.loader),visible:Nt==="loading"})}return M.createElement("li",{tabIndex:0,ref:Pn,className:Bt(T,oj,O==null?void 0:O.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[Nt],(r=f==null?void 0:f.classNames)==null?void 0:r[Nt]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:S,"data-styled":!(f.jsx||f.unstyled||x),"data-mounted":ce,"data-promise":!!f.promise,"data-swiped":Dc,"data-removed":$r,"data-visible":sj,"data-y-position":lj,"data-x-position":cj,"data-index":b,"data-front":nj,"data-swiping":Mr,"data-dismissible":vs,"data-type":Nt,"data-invert":uj,"data-swipe-out":Ur,"data-swipe-direction":Te,"data-expanded":!!(N||A&&ce),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${$r?Lc:ys.current}px`,"--initial-height":A?"auto":`${gs}px`,...C,...f.style},onDragEnd:()=>{ps(!1),ae(null),xs.current=null},onPointerDown:X=>{Mc||!vs||(hm.current=new Date,Io(ys.current),X.target.setPointerCapture(X.pointerId),X.target.tagName!=="BUTTON"&&(ps(!0),xs.current={x:X.clientX,y:X.clientY}))},onPointerUp:()=>{var X,de,we,Mt;if(Ur||!vs)return;xs.current=null;let Ut=Number(((X=Pn.current)==null?void 0:X.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),zr=Number(((de=Pn.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),On=new Date().getTime()-((we=hm.current)==null?void 0:we.getTime()),Ft=re==="x"?Ut:zr,Br=Math.abs(Ft)/On;if(Math.abs(Ft)>=hC||Br>.11){Io(ys.current),(Mt=f.onDismiss)==null||Mt.call(f,f),He(re==="x"?Ut>0?"right":"left":zr>0?"down":"up"),Fr(),si(!0),oi(!1);return}ps(!1),ae(null)},onPointerMove:X=>{var de,we,Mt,Ut;if(!xs.current||!vs||((de=window.getSelection())==null?void 0:de.toString().length)>0)return;let zr=X.clientY-xs.current.y,On=X.clientX-xs.current.x,Ft=(we=e.swipeDirections)!=null?we:mC(J);!re&&(Math.abs(On)>1||Math.abs(zr)>1)&&ae(Math.abs(On)>Math.abs(zr)?"x":"y");let Br={x:0,y:0};re==="y"?(Ft.includes("top")||Ft.includes("bottom"))&&(Ft.includes("top")&&zr<0||Ft.includes("bottom")&&zr>0)&&(Br.y=zr):re==="x"&&(Ft.includes("left")||Ft.includes("right"))&&(Ft.includes("left")&&On<0||Ft.includes("right")&&On>0)&&(Br.x=On),(Math.abs(Br.x)>0||Math.abs(Br.y)>0)&&oi(!0),(Mt=Pn.current)==null||Mt.style.setProperty("--swipe-amount-x",`${Br.x}px`),(Ut=Pn.current)==null||Ut.style.setProperty("--swipe-amount-y",`${Br.y}px`)}},ij&&!f.jsx?M.createElement("button",{"aria-label":W,"data-disabled":Mc,"data-close-button":!0,onClick:Mc||!vs?()=>{}:()=>{var X;Fr(),(X=f.onDismiss)==null||X.call(f,f)},className:Bt(O==null?void 0:O.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(o=F==null?void 0:F.close)!=null?o:Xk):null,f.jsx||v.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:M.createElement(M.Fragment,null,Nt||f.icon||f.promise?M.createElement("div",{"data-icon":"",className:Bt(O==null?void 0:O.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||dj():null,f.type!=="loading"?f.icon||(F==null?void 0:F[Nt])||qk(Nt):null):null,M.createElement("div",{"data-content":"",className:Bt(O==null?void 0:O.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},M.createElement("div",{"data-title":"",className:Bt(O==null?void 0:O.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?M.createElement("div",{"data-description":"",className:Bt(U,aj,O==null?void 0:O.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),v.isValidElement(f.cancel)?f.cancel:f.cancel&&ki(f.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||R,onClick:X=>{var de,we;ki(f.cancel)&&vs&&((we=(de=f.cancel).onClick)==null||we.call(de,X),Fr())},className:Bt(O==null?void 0:O.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,v.isValidElement(f.action)?f.action:f.action&&ki(f.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||k,onClick:X=>{var de,we;ki(f.action)&&((we=(de=f.action).onClick)==null||we.call(de,X),!X.defaultPrevented&&Fr())},className:Bt(O==null?void 0:O.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function Fp(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function gC(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,a=o?"--mobile-offset":"--offset",l=o?cC:lC;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var vC=v.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:m,style:f,visibleToasts:x=iC,toastOptions:p,dir:y=Fp(),gap:w=dC,loadingIcon:g,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:N}=e,[j,S]=M.useState([]),E=M.useMemo(()=>Array.from(new Set([n].concat(j.filter(G=>G.position).map(G=>G.position)))),[j,n]),[C,R]=M.useState([]),[k,T]=M.useState(!1),[U,I]=M.useState(!1),[J,$]=M.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=M.useRef(null),A=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=M.useRef(null),F=M.useRef(!1),W=M.useCallback(G=>{S(re=>{var ae;return(ae=re.find(Te=>Te.id===G.id))!=null&&ae.delete||it.dismiss(G.id),re.filter(({id:Te})=>Te!==G.id)})},[]);return M.useEffect(()=>it.subscribe(G=>{if(G.dismiss){S(re=>re.map(ae=>ae.id===G.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{q0.flushSync(()=>{S(re=>{let ae=re.findIndex(Te=>Te.id===G.id);return ae!==-1?[...re.slice(0,ae),{...re[ae],...G},...re.slice(ae+1)]:[G,...re]})})})}),[]),M.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:re})=>{$(re?"dark":"light")})}catch{G.addListener(({matches:ae})=>{try{$(ae?"dark":"light")}catch(Te){console.error(Te)}})}},[d]),M.useEffect(()=>{j.length<=1&&T(!1)},[j]),M.useEffect(()=>{let G=re=>{var ae,Te;s.every(He=>re[He]||re.code===He)&&(T(!0),(ae=V.current)==null||ae.focus()),re.code==="Escape"&&(document.activeElement===V.current||(Te=V.current)!=null&&Te.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[s]),M.useEffect(()=>{if(V.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,F.current=!1)}},[V.current]),M.createElement("section",{ref:t,"aria-label":`${_} ${A}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((G,re)=>{var ae;let[Te,He]=G.split("-");return j.length?M.createElement("ol",{key:G,dir:y==="auto"?Fp():y,tabIndex:-1,ref:V,className:l,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":Te,"data-lifted":k&&j.length>1&&!o,"data-x-position":He,style:{"--front-toast-height":`${((ae=C[0])==null?void 0:ae.height)||0}px`,"--width":`${uC}px`,"--gap":`${w}px`,...f,...gC(c,u)},onBlur:ce=>{F.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(F.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||F.current||(F.current=!0,O.current=ce.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{U||T(!1)},onDragEnd:()=>T(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},j.filter(ce=>!ce.position&&re===0||ce.position===G).map((ce,ms)=>{var $r,An;return M.createElement(pC,{key:ce.id,icons:b,index:ms,toast:ce,defaultRichColors:h,duration:($r=p==null?void 0:p.duration)!=null?$r:m,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:x,closeButton:(An=p==null?void 0:p.closeButton)!=null?An:a,interacting:U,position:G,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:W,toasts:j.filter(Mr=>Mr.position==ce.position),heights:C.filter(Mr=>Mr.position==ce.position),setHeights:R,expandByDefault:o,gap:w,loadingIcon:g,expanded:k,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const yC=({...e})=>{const{theme:t="system"}=Bx();return i.jsx(vC,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var xC=wh[" useId ".trim().toString()]||(()=>{}),wC=0;function ia(e){const[t,r]=v.useState(xC());return $t(()=>{e||r(n=>n??String(wC++))},[e]),e||(t?`radix-${t}`:"")}const bC=["top","right","bottom","left"],Sn=Math.min,pt=Math.max,Il=Math.round,Ci=Math.floor,fr=e=>({x:e,y:e}),_C={left:"right",right:"left",bottom:"top",top:"bottom"},jC={start:"end",end:"start"};function Fd(e,t,r){return pt(e,Sn(t,r))}function Ar(e,t){return typeof e=="function"?e(t):e}function Pr(e){return e.split("-")[0]}function ko(e){return e.split("-")[1]}function bf(e){return e==="x"?"y":"x"}function _f(e){return e==="y"?"height":"width"}const SC=new Set(["top","bottom"]);function ur(e){return SC.has(Pr(e))?"y":"x"}function jf(e){return bf(ur(e))}function NC(e,t,r){r===void 0&&(r=!1);const n=ko(e),s=jf(e),o=_f(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Dl(a)),[a,Dl(a)]}function EC(e){const t=Dl(e);return[zd(e),t,zd(t)]}function zd(e){return e.replace(/start|end/g,t=>jC[t])}const zp=["left","right"],Bp=["right","left"],kC=["top","bottom"],CC=["bottom","top"];function TC(e,t,r){switch(e){case"top":case"bottom":return r?t?Bp:zp:t?zp:Bp;case"left":case"right":return t?kC:CC;default:return[]}}function RC(e,t,r,n){const s=ko(e);let o=TC(Pr(e),r==="start",n);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(zd)))),o}function Dl(e){return e.replace(/left|right|bottom|top/g,t=>_C[t])}function AC(e){return{top:0,right:0,bottom:0,left:0,...e}}function Vx(e){return typeof e!="number"?AC(e):{top:e,right:e,bottom:e,left:e}}function Ll(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Vp(e,t,r){let{reference:n,floating:s}=e;const o=ur(t),a=jf(t),l=_f(a),c=Pr(t),u=o==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let f;switch(c){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-s.width,y:h};break;default:f={x:n.x,y:n.y}}switch(ko(t)){case"start":f[a]-=m*(r&&u?-1:1);break;case"end":f[a]+=m*(r&&u?-1:1);break}return f}const PC=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Vp(u,n,c),m=n,f={},x=0;for(let p=0;p<l.length;p++){const{name:y,fn:w}=l[p],{x:g,y:b,data:_,reset:N}=await w({x:d,y:h,initialPlacement:n,placement:m,strategy:s,middlewareData:f,rects:u,platform:a,elements:{reference:e,floating:t}});d=g??d,h=b??h,f={...f,[y]:{...f[y],..._}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:h}=Vp(u,m,c)),p=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:f}};async function Pa(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=Ar(t,e),x=Vx(f),y=l[m?h==="floating"?"reference":"floating":h],w=Ll(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=h==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Ll(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:c}):g);return{top:(w.top-N.top+x.top)/_.y,bottom:(N.bottom-w.bottom+x.bottom)/_.y,left:(w.left-N.left+x.left)/_.x,right:(N.right-w.right+x.right)/_.x}}const OC=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ar(e,t)||{};if(u==null)return{};const h=Vx(d),m={x:r,y:n},f=jf(s),x=_f(f),p=await a.getDimensions(u),y=f==="y",w=y?"top":"left",g=y?"bottom":"right",b=y?"clientHeight":"clientWidth",_=o.reference[x]+o.reference[f]-m[f]-o.floating[x],N=m[f]-o.reference[f],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=j?j[b]:0;(!S||!await(a.isElement==null?void 0:a.isElement(j)))&&(S=l.floating[b]||o.floating[x]);const E=_/2-N/2,C=S/2-p[x]/2-1,R=Sn(h[w],C),k=Sn(h[g],C),T=R,U=S-p[x]-k,I=S/2-p[x]/2+E,J=Fd(T,I,U),$=!c.arrow&&ko(s)!=null&&I!==J&&o.reference[x]/2-(I<T?R:k)-p[x]/2<0,V=$?I<T?I-T:I-U:0;return{[f]:m[f]+V,data:{[f]:J,centerOffset:I-J-V,...$&&{alignmentOffset:V}},reset:$}}}),IC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...y}=Ar(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=Pr(s),g=ur(l),b=Pr(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(b||!p?[Dl(l)]:EC(l)),j=x!=="none";!m&&j&&N.push(...RC(l,p,x,_));const S=[l,...N],E=await Pa(t,y),C=[];let R=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&C.push(E[w]),h){const I=NC(s,a,_);C.push(E[I[0]],E[I[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every(I=>I<=0)){var k,T;const I=(((k=o.flip)==null?void 0:k.index)||0)+1,J=S[I];if(J&&(!(h==="alignment"?g!==ur(J):!1)||R.every(A=>A.overflows[0]>0&&ur(A.placement)===g)))return{data:{index:I,overflows:R},reset:{placement:J}};let $=(T=R.filter(V=>V.overflows[0]<=0).sort((V,A)=>V.overflows[1]-A.overflows[1])[0])==null?void 0:T.placement;if(!$)switch(f){case"bestFit":{var U;const V=(U=R.filter(A=>{if(j){const O=ur(A.placement);return O===g||O==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(O=>O>0).reduce((O,F)=>O+F,0)]).sort((A,O)=>A[1]-O[1])[0])==null?void 0:U[0];V&&($=V);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function Hp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qp(e){return bC.some(t=>e[t]>=0)}const DC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Ar(e,t);switch(n){case"referenceHidden":{const o=await Pa(t,{...s,elementContext:"reference"}),a=Hp(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:qp(a)}}}case"escaped":{const o=await Pa(t,{...s,altBoundary:!0}),a=Hp(o,r.floating);return{data:{escapedOffsets:a,escaped:qp(a)}}}default:return{}}}}},Hx=new Set(["left","top"]);async function LC(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Pr(r),l=ko(r),c=ur(r)==="y",u=Hx.has(a)?-1:1,d=o&&c?-1:1,h=Ar(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(f=l==="end"?x*-1:x),c?{x:f*d,y:m*u}:{x:m*u,y:f*d}}const $C=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:a,middlewareData:l}=t,c=await LC(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},MC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:y=>{let{x:w,y:g}=y;return{x:w,y:g}}},...c}=Ar(e,t),u={x:r,y:n},d=await Pa(t,c),h=ur(Pr(s)),m=bf(h);let f=u[m],x=u[h];if(o){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",g=f+d[y],b=f-d[w];f=Fd(g,f,b)}if(a){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",g=x+d[y],b=x-d[w];x=Fd(g,x,b)}const p=l.fn({...t,[m]:f,[h]:x});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[m]:o,[h]:a}}}}}},UC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ar(e,t),d={x:r,y:n},h=ur(s),m=bf(h);let f=d[m],x=d[h];const p=Ar(l,t),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=m==="y"?"height":"width",_=o.reference[m]-o.floating[b]+y.mainAxis,N=o.reference[m]+o.reference[b]-y.mainAxis;f<_?f=_:f>N&&(f=N)}if(u){var w,g;const b=m==="y"?"width":"height",_=Hx.has(Pr(s)),N=o.reference[h]-o.floating[b]+(_&&((w=a.offset)==null?void 0:w[h])||0)+(_?0:y.crossAxis),j=o.reference[h]+o.reference[b]+(_?0:((g=a.offset)==null?void 0:g[h])||0)-(_?y.crossAxis:0);x<N?x=N:x>j&&(x=j)}return{[m]:f,[h]:x}}}},FC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Ar(e,t),d=await Pa(t,u),h=Pr(s),m=ko(s),f=ur(s)==="y",{width:x,height:p}=o.floating;let y,w;h==="top"||h==="bottom"?(y=h,w=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(w=h,y=m==="end"?"top":"bottom");const g=p-d.top-d.bottom,b=x-d.left-d.right,_=Sn(p-d[y],g),N=Sn(x-d[w],b),j=!t.middlewareData.shift;let S=_,E=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=g),j&&!m){const R=pt(d.left,0),k=pt(d.right,0),T=pt(d.top,0),U=pt(d.bottom,0);f?E=x-2*(R!==0||k!==0?R+k:pt(d.left,d.right)):S=p-2*(T!==0||U!==0?T+U:pt(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:S});const C=await a.getDimensions(l.floating);return x!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function fc(){return typeof window<"u"}function Co(e){return qx(e)?(e.nodeName||"").toLowerCase():"#document"}function wt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gr(e){var t;return(t=(qx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qx(e){return fc()?e instanceof Node||e instanceof wt(e).Node:!1}function tr(e){return fc()?e instanceof Element||e instanceof wt(e).Element:!1}function pr(e){return fc()?e instanceof HTMLElement||e instanceof wt(e).HTMLElement:!1}function Gp(e){return!fc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wt(e).ShadowRoot}const zC=new Set(["inline","contents"]);function Za(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=rr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!zC.has(s)}const BC=new Set(["table","td","th"]);function VC(e){return BC.has(Co(e))}const HC=[":popover-open",":modal"];function mc(e){return HC.some(t=>{try{return e.matches(t)}catch{return!1}})}const qC=["transform","translate","scale","rotate","perspective"],GC=["transform","translate","scale","rotate","perspective","filter"],WC=["paint","layout","strict","content"];function Sf(e){const t=Nf(),r=tr(e)?rr(e):e;return qC.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||GC.some(n=>(r.willChange||"").includes(n))||WC.some(n=>(r.contain||"").includes(n))}function KC(e){let t=Nn(e);for(;pr(t)&&!xo(t);){if(Sf(t))return t;if(mc(t))return null;t=Nn(t)}return null}function Nf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const QC=new Set(["html","body","#document"]);function xo(e){return QC.has(Co(e))}function rr(e){return wt(e).getComputedStyle(e)}function pc(e){return tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Nn(e){if(Co(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Gp(e)&&e.host||gr(e);return Gp(t)?t.host:t}function Gx(e){const t=Nn(e);return xo(t)?e.ownerDocument?e.ownerDocument.body:e.body:pr(t)&&Za(t)?t:Gx(t)}function Oa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Gx(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),a=wt(s);if(o){const l=Bd(a);return t.concat(a,a.visualViewport||[],Za(s)?s:[],l&&r?Oa(l):[])}return t.concat(s,Oa(s,[],r))}function Bd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Wx(e){const t=rr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=pr(e),o=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=Il(r)!==o||Il(n)!==a;return l&&(r=o,n=a),{width:r,height:n,$:l}}function Ef(e){return tr(e)?e:e.contextElement}function Xs(e){const t=Ef(e);if(!pr(t))return fr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=Wx(t);let a=(o?Il(r.width):r.width)/n,l=(o?Il(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const JC=fr(0);function Kx(e){const t=wt(e);return!Nf()||!t.visualViewport?JC:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YC(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==wt(e)?!1:t}function is(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Ef(e);let a=fr(1);t&&(n?tr(n)&&(a=Xs(n)):a=Xs(e));const l=YC(o,r,n)?Kx(o):fr(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(o){const m=wt(o),f=n&&tr(n)?wt(n):n;let x=m,p=Bd(x);for(;p&&n&&f!==x;){const y=Xs(p),w=p.getBoundingClientRect(),g=rr(p),b=w.left+(p.clientLeft+parseFloat(g.paddingLeft))*y.x,_=w.top+(p.clientTop+parseFloat(g.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=b,u+=_,x=wt(p),p=Bd(x)}}return Ll({width:d,height:h,x:c,y:u})}function kf(e,t){const r=pc(e).scrollLeft;return t?t.left+r:is(gr(e)).left+r}function Qx(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:kf(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function XC(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",a=gr(n),l=t?mc(t.floating):!1;if(n===a||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=fr(1);const d=fr(0),h=pr(n);if((h||!h&&!o)&&((Co(n)!=="body"||Za(a))&&(c=pc(n)),pr(n))){const f=is(n);u=Xs(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const m=a&&!h&&!o?Qx(a,c,!0):fr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function ZC(e){return Array.from(e.getClientRects())}function e2(e){const t=gr(e),r=pc(e),n=e.ownerDocument.body,s=pt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=pt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+kf(e);const l=-r.scrollTop;return rr(n).direction==="rtl"&&(a+=pt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:a,y:l}}function t2(e,t){const r=wt(e),n=gr(e),s=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const u=Nf();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l,y:c}}const r2=new Set(["absolute","fixed"]);function n2(e,t){const r=is(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=pr(e)?Xs(e):fr(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:a,height:l,x:c,y:u}}function Wp(e,t,r){let n;if(t==="viewport")n=t2(e,r);else if(t==="document")n=e2(gr(e));else if(tr(t))n=n2(t,r);else{const s=Kx(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ll(n)}function Jx(e,t){const r=Nn(e);return r===t||!tr(r)||xo(r)?!1:rr(r).position==="fixed"||Jx(r,t)}function s2(e,t){const r=t.get(e);if(r)return r;let n=Oa(e,[],!1).filter(l=>tr(l)&&Co(l)!=="body"),s=null;const o=rr(e).position==="fixed";let a=o?Nn(e):e;for(;tr(a)&&!xo(a);){const l=rr(a),c=Sf(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&r2.has(s.position)||Za(a)&&!c&&Jx(e,a))?n=n.filter(d=>d!==a):s=l,a=Nn(a)}return t.set(e,n),n}function o2(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?mc(t)?[]:s2(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const h=Wp(t,d,s);return u.top=pt(h.top,u.top),u.right=Sn(h.right,u.right),u.bottom=Sn(h.bottom,u.bottom),u.left=pt(h.left,u.left),u},Wp(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function a2(e){const{width:t,height:r}=Wx(e);return{width:t,height:r}}function i2(e,t,r){const n=pr(t),s=gr(t),o=r==="fixed",a=is(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=fr(0);function u(){c.x=kf(s)}if(n||!n&&!o)if((Co(t)!=="body"||Za(s))&&(l=pc(t)),n){const f=is(t,!0,o,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&u();o&&!n&&s&&u();const d=s&&!n&&!o?Qx(s,l):fr(0),h=a.left+l.scrollLeft-c.x-d.x,m=a.top+l.scrollTop-c.y-d.y;return{x:h,y:m,width:a.width,height:a.height}}function gu(e){return rr(e).position==="static"}function Kp(e,t){if(!pr(e)||rr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return gr(e)===r&&(r=r.ownerDocument.body),r}function Yx(e,t){const r=wt(e);if(mc(e))return r;if(!pr(e)){let s=Nn(e);for(;s&&!xo(s);){if(tr(s)&&!gu(s))return s;s=Nn(s)}return r}let n=Kp(e,t);for(;n&&VC(n)&&gu(n);)n=Kp(n,t);return n&&xo(n)&&gu(n)&&!Sf(n)?r:n||KC(e)||r}const l2=async function(e){const t=this.getOffsetParent||Yx,r=this.getDimensions,n=await r(e.floating);return{reference:i2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function c2(e){return rr(e).direction==="rtl"}const u2={convertOffsetParentRelativeRectToViewportRelativeRect:XC,getDocumentElement:gr,getClippingRect:o2,getOffsetParent:Yx,getElementRects:l2,getClientRects:ZC,getDimensions:a2,getScale:Xs,isElement:tr,isRTL:c2};function Xx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function d2(e,t){let r=null,n;const s=gr(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:h,width:m,height:f}=u;if(l||t(),!m||!f)return;const x=Ci(h),p=Ci(s.clientWidth-(d+m)),y=Ci(s.clientHeight-(h+f)),w=Ci(d),b={rootMargin:-x+"px "+-p+"px "+-y+"px "+-w+"px",threshold:pt(0,Sn(1,c))||1};let _=!0;function N(j){const S=j[0].intersectionRatio;if(S!==c){if(!_)return a();S?a(!1,S):n=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!Xx(u,e.getBoundingClientRect())&&a(),_=!1}try{r=new IntersectionObserver(N,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(e)}return a(!0),o}function h2(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Ef(e),d=s||o?[...u?Oa(u):[],...Oa(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const h=u&&l?d2(u,r):null;let m=-1,f=null;a&&(f=new ResizeObserver(w=>{let[g]=w;g&&g.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),r()}),u&&!c&&f.observe(u),f.observe(t));let x,p=c?is(e):null;c&&y();function y(){const w=is(e);p&&!Xx(p,w)&&r(),p=w,x=requestAnimationFrame(y)}return r(),()=>{var w;d.forEach(g=>{s&&g.removeEventListener("scroll",r),o&&g.removeEventListener("resize",r)}),h==null||h(),(w=f)==null||w.disconnect(),f=null,c&&cancelAnimationFrame(x)}}const f2=$C,m2=MC,p2=IC,g2=FC,v2=DC,Qp=OC,y2=UC,x2=(e,t,r)=>{const n=new Map,s={platform:u2,...r},o={...s.platform,_c:n};return PC(e,t,{...s,platform:o})};var w2=typeof document<"u",b2=function(){},nl=w2?v.useLayoutEffect:b2;function $l(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!$l(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!$l(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Zx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Jp(e,t){const r=Zx(e);return Math.round(t*r)/r}function vu(e){const t=v.useRef(e);return nl(()=>{t.current=e}),t}function _2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=v.useState(n);$l(m,n)||f(n);const[x,p]=v.useState(null),[y,w]=v.useState(null),g=v.useCallback(A=>{A!==j.current&&(j.current=A,p(A))},[]),b=v.useCallback(A=>{A!==S.current&&(S.current=A,w(A))},[]),_=o||x,N=a||y,j=v.useRef(null),S=v.useRef(null),E=v.useRef(d),C=c!=null,R=vu(c),k=vu(s),T=vu(u),U=v.useCallback(()=>{if(!j.current||!S.current)return;const A={placement:t,strategy:r,middleware:m};k.current&&(A.platform=k.current),x2(j.current,S.current,A).then(O=>{const F={...O,isPositioned:T.current!==!1};I.current&&!$l(E.current,F)&&(E.current=F,Ja.flushSync(()=>{h(F)}))})},[m,t,r,k,T]);nl(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(A=>({...A,isPositioned:!1})))},[u]);const I=v.useRef(!1);nl(()=>(I.current=!0,()=>{I.current=!1}),[]),nl(()=>{if(_&&(j.current=_),N&&(S.current=N),_&&N){if(R.current)return R.current(_,N,U);U()}},[_,N,U,R,C]);const J=v.useMemo(()=>({reference:j,floating:S,setReference:g,setFloating:b}),[g,b]),$=v.useMemo(()=>({reference:_,floating:N}),[_,N]),V=v.useMemo(()=>{const A={position:r,left:0,top:0};if(!$.floating)return A;const O=Jp($.floating,d.x),F=Jp($.floating,d.y);return l?{...A,transform:"translate("+O+"px, "+F+"px)",...Zx($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:F}},[r,l,$.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:U,refs:J,elements:$,floatingStyles:V}),[d,U,J,$,V])}const j2=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Qp({element:n.current,padding:s}).fn(r):{}:n?Qp({element:n,padding:s}).fn(r):{}}}},S2=(e,t)=>({...f2(e),options:[e,t]}),N2=(e,t)=>({...m2(e),options:[e,t]}),E2=(e,t)=>({...y2(e),options:[e,t]}),k2=(e,t)=>({...p2(e),options:[e,t]}),C2=(e,t)=>({...g2(e),options:[e,t]}),T2=(e,t)=>({...v2(e),options:[e,t]}),R2=(e,t)=>({...j2(e),options:[e,t]});var A2="Arrow",ew=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return i.jsx(se.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});ew.displayName=A2;var P2=ew;function gc(e){const[t,r]=v.useState(void 0);return $t(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var tw="Popper",[rw,nw]=St(tw),[YD,sw]=rw(tw),ow="PopperAnchor",aw=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=sw(ow,r),a=v.useRef(null),l=xe(t,a);return v.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:i.jsx(se.div,{...s,ref:l})});aw.displayName=ow;var Cf="PopperContent",[O2,I2]=rw(Cf),iw=v.forwardRef((e,t)=>{var ce,ms,$r,An,Mr,ps;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:x,...p}=e,y=sw(Cf,r),[w,g]=v.useState(null),b=xe(t,Ur=>g(Ur)),[_,N]=v.useState(null),j=gc(_),S=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,C=n+(o!=="center"?"-"+o:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],T=k.length>0,U={padding:R,boundary:k.filter(L2),altBoundary:T},{refs:I,floatingStyles:J,placement:$,isPositioned:V,middlewareData:A}=_2({strategy:"fixed",placement:C,whileElementsMounted:(...Ur)=>h2(...Ur,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[S2({mainAxis:s+E,alignmentAxis:a}),c&&N2({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?E2():void 0,...U}),c&&k2({...U}),C2({...U,apply:({elements:Ur,rects:si,availableWidth:Dc,availableHeight:oi})=>{const{width:Lc,height:Io}=si.reference,gs=Ur.floating.style;gs.setProperty("--radix-popper-available-width",`${Dc}px`),gs.setProperty("--radix-popper-available-height",`${oi}px`),gs.setProperty("--radix-popper-anchor-width",`${Lc}px`),gs.setProperty("--radix-popper-anchor-height",`${Io}px`)}}),_&&R2({element:_,padding:l}),$2({arrowWidth:S,arrowHeight:E}),m&&T2({strategy:"referenceHidden",...U})]}),[O,F]=uw($),W=Lt(x);$t(()=>{V&&(W==null||W())},[V,W]);const G=(ce=A.arrow)==null?void 0:ce.x,re=(ms=A.arrow)==null?void 0:ms.y,ae=(($r=A.arrow)==null?void 0:$r.centerOffset)!==0,[Te,He]=v.useState();return $t(()=>{w&&He(window.getComputedStyle(w).zIndex)},[w]),i.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:V?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(An=A.transformOrigin)==null?void 0:An.x,(Mr=A.transformOrigin)==null?void 0:Mr.y].join(" "),...((ps=A.hide)==null?void 0:ps.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(O2,{scope:r,placedSide:O,onArrowChange:N,arrowX:G,arrowY:re,shouldHideArrow:ae,children:i.jsx(se.div,{"data-side":O,"data-align":F,...p,ref:b,style:{...p.style,animation:V?void 0:"none"}})})})});iw.displayName=Cf;var lw="PopperArrow",D2={top:"bottom",right:"left",bottom:"top",left:"right"},cw=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=I2(lw,n),a=D2[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(P2,{...s,ref:r,style:{...s.style,display:"block"}})})});cw.displayName=lw;function L2(e){return e!==null}var $2=e=>({name:"transformOrigin",options:e,fn(t){var y,w,g;const{placement:r,rects:n,middlewareData:s}=t,a=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=uw(r),h={start:"0%",center:"50%",end:"100%"}[d],m=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,f=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let x="",p="";return u==="bottom"?(x=a?h:`${m}px`,p=`${-c}px`):u==="top"?(x=a?h:`${m}px`,p=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,p=a?h:`${f}px`):u==="left"&&(x=`${n.floating.width+c}px`,p=a?h:`${f}px`),{data:{x,y:p}}}});function uw(e){const[t,r="center"]=e.split("-");return[t,r]}var M2=aw,U2=iw,F2=cw,[vc,XD]=St("Tooltip",[nw]),Tf=nw(),dw="TooltipProvider",z2=700,Yp="tooltip.open",[B2,hw]=vc(dw),fw=e=>{const{__scopeTooltip:t,delayDuration:r=z2,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,a=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(B2,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:o})};fw.displayName=dw;var mw="Tooltip",[ZD,yc]=vc(mw),Vd="TooltipTrigger",V2=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=yc(Vd,r),o=hw(Vd,r),a=Tf(r),l=v.useRef(null),c=xe(t,l,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(M2,{asChild:!0,...a,children:i.jsx(se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ne(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ne(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ne(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ne(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ne(e.onBlur,s.onClose),onClick:ne(e.onClick,s.onClose)})})});V2.displayName=Vd;var H2="TooltipPortal",[eL,q2]=vc(H2,{forceMount:void 0}),wo="TooltipContent",pw=v.forwardRef((e,t)=>{const r=q2(wo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,a=yc(wo,e.__scopeTooltip);return i.jsx(Dr,{present:n||a.open,children:a.disableHoverableContent?i.jsx(gw,{side:s,...o,ref:t}):i.jsx(G2,{side:s,...o,ref:t})})}),G2=v.forwardRef((e,t)=>{const r=yc(wo,e.__scopeTooltip),n=hw(wo,e.__scopeTooltip),s=v.useRef(null),o=xe(t,s),[a,l]=v.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,m=v.useCallback(()=>{l(null),h(!1)},[h]),f=v.useCallback((x,p)=>{const y=x.currentTarget,w={x:x.clientX,y:x.clientY},g=Y2(w,y.getBoundingClientRect()),b=X2(w,g),_=Z2(p.getBoundingClientRect()),N=tT([...b,..._]);l(N),h(!0)},[h]);return v.useEffect(()=>()=>m(),[m]),v.useEffect(()=>{if(c&&d){const x=y=>f(y,d),p=y=>f(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",p)}}},[c,d,f,m]),v.useEffect(()=>{if(a){const x=p=>{const y=p.target,w={x:p.clientX,y:p.clientY},g=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!eT(w,a);g?m():b&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,a,u,m]),i.jsx(gw,{...e,ref:o})}),[W2,K2]=vc(mw,{isInside:!1}),Q2=Q0("TooltipContent"),gw=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=e,c=yc(wo,r),u=Tf(r),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(Yp,d),()=>document.removeEventListener(Yp,d)),[d]),v.useEffect(()=>{if(c.trigger){const h=m=>{const f=m.target;f!=null&&f.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),i.jsx(lc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:i.jsxs(U2,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Q2,{children:n}),i.jsx(W2,{scope:r,isInside:!0,children:i.jsx(pE,{id:c.contentId,role:"tooltip",children:s||n})})]})})});pw.displayName=wo;var vw="TooltipArrow",J2=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Tf(r);return K2(vw,r).isInside?null:i.jsx(F2,{...s,...n,ref:t})});J2.displayName=vw;function Y2(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function X2(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Z2(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function eT(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const l=t[o],c=t[a],u=l.x,d=l.y,h=c.x,m=c.y;d>n!=m>n&&r<(h-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function tT(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),rT(t)}function rT(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],a=r[r.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var nT=fw,yw=pw;const sT=nT,oT=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(yw,{ref:n,sideOffset:t,className:ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));oT.displayName=yw.displayName;var xc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wc=typeof window>"u"||"Deno"in globalThis;function qt(){}function aT(e,t){return typeof e=="function"?e(t):e}function iT(e){return typeof e=="number"&&e>=0&&e!==1/0}function lT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hd(e,t){return typeof e=="function"?e(t):e}function cT(e,t){return typeof e=="function"?e(t):e}function Xp(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==Rf(a,t.options))return!1}else if(!Da(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function Zp(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Ia(t.options.mutationKey)!==Ia(o))return!1}else if(!Da(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Rf(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ia)(e)}function Ia(e){return JSON.stringify(e,(t,r)=>qd(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Da(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Da(e[r],t[r])):!1}function xw(e,t){if(e===t)return e;const r=eg(e)&&eg(t);if(r||qd(e)&&qd(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),a=o.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<a;d++){const h=r?d:o[d];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=xw(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return s===a&&u===s?e:l}return t}function eg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qd(e){if(!tg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!tg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tg(e){return Object.prototype.toString.call(e)==="[object Object]"}function uT(e){return new Promise(t=>{setTimeout(t,e)})}function dT(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?xw(e,t):t}function hT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function fT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Af=Symbol();function ww(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Af?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Gn,tn,ro,jv,mT=(jv=class extends xc{constructor(){super();le(this,Gn);le(this,tn);le(this,ro);Z(this,ro,t=>{if(!wc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){P(this,tn)||this.setEventListener(P(this,ro))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,tn))==null||t.call(this),Z(this,tn,void 0))}setEventListener(t){var r;Z(this,ro,t),(r=P(this,tn))==null||r.call(this),Z(this,tn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){P(this,Gn)!==t&&(Z(this,Gn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof P(this,Gn)=="boolean"?P(this,Gn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gn=new WeakMap,tn=new WeakMap,ro=new WeakMap,jv),bw=new mT,no,rn,so,Sv,pT=(Sv=class extends xc{constructor(){super();le(this,no,!0);le(this,rn);le(this,so);Z(this,so,t=>{if(!wc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){P(this,rn)||this.setEventListener(P(this,so))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,rn))==null||t.call(this),Z(this,rn,void 0))}setEventListener(t){var r;Z(this,so,t),(r=P(this,rn))==null||r.call(this),Z(this,rn,t(this.setOnline.bind(this)))}setOnline(t){P(this,no)!==t&&(Z(this,no,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return P(this,no)}},no=new WeakMap,rn=new WeakMap,so=new WeakMap,Sv),Ml=new pT;function gT(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function vT(e){return Math.min(1e3*2**e,3e4)}function _w(e){return(e??"online")==="online"?Ml.isOnline():!0}var jw=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function yu(e){return e instanceof jw}function Sw(e){let t=!1,r=0,n=!1,s;const o=gT(),a=p=>{var y;n||(m(new jw(p)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>bw.isFocused()&&(e.networkMode==="always"||Ml.isOnline())&&e.canRun(),d=()=>_w(e.networkMode)&&e.canRun(),h=p=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,p),s==null||s(),o.resolve(p))},m=p=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,p),s==null||s(),o.reject(p))},f=()=>new Promise(p=>{var y;s=w=>{(n||u())&&p(w)},(y=e.onPause)==null||y.call(e)}).then(()=>{var p;s=void 0,n||(p=e.onContinue)==null||p.call(e)}),x=()=>{if(n)return;let p;const y=r===0?e.initialPromise:void 0;try{p=y??e.fn()}catch(w){p=Promise.reject(w)}Promise.resolve(p).then(h).catch(w=>{var j;if(n)return;const g=e.retry??(wc?0:3),b=e.retryDelay??vT,_=typeof b=="function"?b(r,w):b,N=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,w);if(t||!N){m(w);return}r++,(j=e.onFail)==null||j.call(e,r,w),uT(_).then(()=>u()?void 0:f()).then(()=>{t?m(w):x()})})};return{promise:o,cancel:a,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():f().then(x),o)}}var yT=e=>setTimeout(e,0);function xT(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=yT;const o=l=>{t?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var et=xT(),Wn,Nv,Nw=(Nv=class{constructor(){le(this,Wn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),iT(this.gcTime)&&Z(this,Wn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(wc?1/0:5*60*1e3))}clearGcTimeout(){P(this,Wn)&&(clearTimeout(P(this,Wn)),Z(this,Wn,void 0))}},Wn=new WeakMap,Nv),oo,Kn,Et,Qn,Ke,Va,Jn,Wt,xr,Ev,wT=(Ev=class extends Nw{constructor(t){super();le(this,Wt);le(this,oo);le(this,Kn);le(this,Et);le(this,Qn);le(this,Ke);le(this,Va);le(this,Jn);Z(this,Jn,!1),Z(this,Va,t.defaultOptions),this.setOptions(t.options),this.observers=[],Z(this,Qn,t.client),Z(this,Et,P(this,Qn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Z(this,oo,_T(this.options)),this.state=t.state??P(this,oo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,Ke))==null?void 0:t.promise}setOptions(t){this.options={...P(this,Va),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Et).remove(this)}setData(t,r){const n=dT(this.state.data,t,this.options);return qe(this,Wt,xr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){qe(this,Wt,xr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=P(this,Ke))==null?void 0:n.promise;return(s=P(this,Ke))==null||s.cancel(t),r?r.then(qt).catch(qt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,oo))}isActive(){return this.observers.some(t=>cT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Af||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Hd(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!lT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Ke))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Ke))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,Et).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(P(this,Ke)&&(P(this,Jn)?P(this,Ke).cancel({revert:!0}):P(this,Ke).cancelRetry()),this.scheduleGc()),P(this,Et).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,Wt,xr).call(this,{type:"invalidate"})}fetch(t,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(P(this,Ke))return P(this,Ke).continueRetry(),P(this,Ke).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(f=>f.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Z(this,Jn,!0),n.signal)})},o=()=>{const m=ww(this.options,r),x=(()=>{const p={client:P(this,Qn),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return Z(this,Jn,!1),this.options.persister?this.options.persister(m,x,this):m(x)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:P(this,Qn),state:this.state,fetchFn:o};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),Z(this,Kn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&qe(this,Wt,xr).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=m=>{var f,x,p,y;yu(m)&&m.silent||qe(this,Wt,xr).call(this,{type:"error",error:m}),yu(m)||((x=(f=P(this,Et).config).onError)==null||x.call(f,m,this),(y=(p=P(this,Et).config).onSettled)==null||y.call(p,this.state.data,m,this)),this.scheduleGc()};return Z(this,Ke,Sw({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var f,x,p,y;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){c(w);return}(x=(f=P(this,Et).config).onSuccess)==null||x.call(f,m,this),(y=(p=P(this,Et).config).onSettled)==null||y.call(p,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,f)=>{qe(this,Wt,xr).call(this,{type:"failed",failureCount:m,error:f})},onPause:()=>{qe(this,Wt,xr).call(this,{type:"pause"})},onContinue:()=>{qe(this,Wt,xr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),P(this,Ke).start()}},oo=new WeakMap,Kn=new WeakMap,Et=new WeakMap,Qn=new WeakMap,Ke=new WeakMap,Va=new WeakMap,Jn=new WeakMap,Wt=new WeakSet,xr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...bT(n.data,this.options),fetchMeta:t.meta??null};case"success":return Z(this,Kn,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return yu(s)&&s.revert&&P(this,Kn)?{...P(this,Kn),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),P(this,Et).notify({query:this,type:"updated",action:t})})},Ev);function bT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_w(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _T(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ar,kv,jT=(kv=class extends xc{constructor(t={}){super();le(this,ar);this.config=t,Z(this,ar,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??Rf(s,r);let a=this.get(o);return a||(a=new wT({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){P(this,ar).has(t.queryHash)||(P(this,ar).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=P(this,ar).get(t.queryHash);r&&(t.destroy(),r===t&&P(this,ar).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){et.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return P(this,ar).get(t)}getAll(){return[...P(this,ar).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Xp(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Xp(t,n)):r}notify(t){et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){et.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){et.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ar=new WeakMap,kv),ir,Xe,Yn,lr,Wr,Cv,ST=(Cv=class extends Nw{constructor(t){super();le(this,lr);le(this,ir);le(this,Xe);le(this,Yn);this.mutationId=t.mutationId,Z(this,Xe,t.mutationCache),Z(this,ir,[]),this.state=t.state||NT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,ir).includes(t)||(P(this,ir).push(t),this.clearGcTimeout(),P(this,Xe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Z(this,ir,P(this,ir).filter(r=>r!==t)),this.scheduleGc(),P(this,Xe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,ir).length||(this.state.status==="pending"?this.scheduleGc():P(this,Xe).remove(this))}continue(){var t;return((t=P(this,Yn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,c,u,d,h,m,f,x,p,y,w,g,b,_,N,j,S,E;const r=()=>{qe(this,lr,Wr).call(this,{type:"continue"})};Z(this,Yn,Sw({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,R)=>{qe(this,lr,Wr).call(this,{type:"failed",failureCount:C,error:R})},onPause:()=>{qe(this,lr,Wr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,Xe).canRun(this)}));const n=this.state.status==="pending",s=!P(this,Yn).canStart();try{if(n)r();else{qe(this,lr,Wr).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(o=P(this,Xe).config).onMutate)==null?void 0:a.call(o,t,this));const R=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));R!==this.state.context&&qe(this,lr,Wr).call(this,{type:"pending",context:R,variables:t,isPaused:s})}const C=await P(this,Yn).start();return await((d=(u=P(this,Xe).config).onSuccess)==null?void 0:d.call(u,C,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,C,t,this.state.context)),await((x=(f=P(this,Xe).config).onSettled)==null?void 0:x.call(f,C,null,this.state.variables,this.state.context,this)),await((y=(p=this.options).onSettled)==null?void 0:y.call(p,C,null,t,this.state.context)),qe(this,lr,Wr).call(this,{type:"success",data:C}),C}catch(C){try{throw await((g=(w=P(this,Xe).config).onError)==null?void 0:g.call(w,C,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,C,t,this.state.context)),await((j=(N=P(this,Xe).config).onSettled)==null?void 0:j.call(N,void 0,C,this.state.variables,this.state.context,this)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,C,t,this.state.context)),C}finally{qe(this,lr,Wr).call(this,{type:"error",error:C})}}finally{P(this,Xe).runNext(this)}}},ir=new WeakMap,Xe=new WeakMap,Yn=new WeakMap,lr=new WeakSet,Wr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),et.batch(()=>{P(this,ir).forEach(n=>{n.onMutationUpdate(t)}),P(this,Xe).notify({mutation:this,type:"updated",action:t})})},Cv);function NT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jr,Kt,Ha,Tv,ET=(Tv=class extends xc{constructor(t={}){super();le(this,jr);le(this,Kt);le(this,Ha);this.config=t,Z(this,jr,new Set),Z(this,Kt,new Map),Z(this,Ha,0)}build(t,r,n){const s=new ST({mutationCache:this,mutationId:++ii(this,Ha)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){P(this,jr).add(t);const r=Ti(t);if(typeof r=="string"){const n=P(this,Kt).get(r);n?n.push(t):P(this,Kt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(P(this,jr).delete(t)){const r=Ti(t);if(typeof r=="string"){const n=P(this,Kt).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&P(this,Kt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ti(t);if(typeof r=="string"){const n=P(this,Kt).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Ti(t);if(typeof r=="string"){const s=(n=P(this,Kt).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){et.batch(()=>{P(this,jr).forEach(t=>{this.notify({type:"removed",mutation:t})}),P(this,jr).clear(),P(this,Kt).clear()})}getAll(){return Array.from(P(this,jr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Zp(r,n))}findAll(t={}){return this.getAll().filter(r=>Zp(t,r))}notify(t){et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return et.batch(()=>Promise.all(t.map(r=>r.continue().catch(qt))))}},jr=new WeakMap,Kt=new WeakMap,Ha=new WeakMap,Tv);function Ti(e){var t;return(t=e.options.scope)==null?void 0:t.id}function rg(e){return{onFetch:(t,r)=>{var d,h,m,f,x;const n=t.options,s=(m=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,o=((f=t.state.data)==null?void 0:f.pages)||[],a=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},w=ww(t.options,t.fetchOptions),g=async(b,_,N)=>{if(p)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:_,direction:N?"backward":"forward",meta:t.options.meta};return y(k),k})(),E=await w(S),{maxPages:C}=t.options,R=N?fT:hT;return{pages:R(b.pages,E,C),pageParams:R(b.pageParams,_,C)}};if(s&&o.length){const b=s==="backward",_=b?kT:ng,N={pages:o,pageParams:a},j=_(n,N);l=await g(N,j,b)}else{const b=e??o.length;do{const _=c===0?a[0]??n.initialPageParam:ng(n,l);if(c>0&&_==null)break;l=await g(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,y;return(y=(p=t.options).persister)==null?void 0:y.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function ng(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function kT(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ee,nn,sn,ao,io,on,lo,co,Rv,CT=(Rv=class{constructor(e={}){le(this,Ee);le(this,nn);le(this,sn);le(this,ao);le(this,io);le(this,on);le(this,lo);le(this,co);Z(this,Ee,e.queryCache||new jT),Z(this,nn,e.mutationCache||new ET),Z(this,sn,e.defaultOptions||{}),Z(this,ao,new Map),Z(this,io,new Map),Z(this,on,0)}mount(){ii(this,on)._++,P(this,on)===1&&(Z(this,lo,bw.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,Ee).onFocus())})),Z(this,co,Ml.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,Ee).onOnline())})))}unmount(){var e,t;ii(this,on)._--,P(this,on)===0&&((e=P(this,lo))==null||e.call(this),Z(this,lo,void 0),(t=P(this,co))==null||t.call(this),Z(this,co,void 0))}isFetching(e){return P(this,Ee).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return P(this,nn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,Ee).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=P(this,Ee).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Hd(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return P(this,Ee).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=P(this,Ee).get(n.queryHash),o=s==null?void 0:s.state.data,a=aT(t,o);if(a!==void 0)return P(this,Ee).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return et.batch(()=>P(this,Ee).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,Ee).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=P(this,Ee);et.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=P(this,Ee);return et.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=et.batch(()=>P(this,Ee).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(qt).catch(qt)}invalidateQueries(e,t={}){return et.batch(()=>(P(this,Ee).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=et.batch(()=>P(this,Ee).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(qt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(qt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=P(this,Ee).build(this,t);return r.isStaleByTime(Hd(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qt).catch(qt)}fetchInfiniteQuery(e){return e.behavior=rg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qt).catch(qt)}ensureInfiniteQueryData(e){return e.behavior=rg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ml.isOnline()?P(this,nn).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,Ee)}getMutationCache(){return P(this,nn)}getDefaultOptions(){return P(this,sn)}setDefaultOptions(e){Z(this,sn,e)}setQueryDefaults(e,t){P(this,ao).set(Ia(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(this,ao).values()],r={};return t.forEach(n=>{Da(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){P(this,io).set(Ia(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(this,io).values()],r={};return t.forEach(n=>{Da(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...P(this,sn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Rf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Af&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...P(this,sn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){P(this,Ee).clear(),P(this,nn).clear()}},Ee=new WeakMap,nn=new WeakMap,sn=new WeakMap,ao=new WeakMap,io=new WeakMap,on=new WeakMap,lo=new WeakMap,co=new WeakMap,Rv),TT=v.createContext(void 0),RT=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(TT.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},La.apply(this,arguments)}var cn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cn||(cn={}));const sg="popstate";function AT(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:a,hash:l}=n.location;return Gd("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:kw(s)}return OT(t,r,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ew(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PT(){return Math.random().toString(36).substr(2,8)}function og(e,t){return{usr:e.state,key:e.key,idx:t}}function Gd(e,t,r,n){return r===void 0&&(r=null),La({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?To(t):t,{state:r,key:t&&t.key||n||PT()})}function kw(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function To(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function OT(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,a=s.history,l=cn.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(La({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=cn.Pop;let y=d(),w=y==null?null:y-u;u=y,c&&c({action:l,location:p.location,delta:w})}function m(y,w){l=cn.Push;let g=Gd(p.location,y,w);u=d()+1;let b=og(g,u),_=p.createHref(g);try{a.pushState(b,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(_)}o&&c&&c({action:l,location:p.location,delta:1})}function f(y,w){l=cn.Replace;let g=Gd(p.location,y,w);u=d();let b=og(g,u),_=p.createHref(g);a.replaceState(b,"",_),o&&c&&c({action:l,location:p.location,delta:0})}function x(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof y=="string"?y:kw(y);return g=g.replace(/ $/,"%20"),Le(w,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,w)}let p={get action(){return l},get location(){return e(s,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(sg,h),c=y,()=>{s.removeEventListener(sg,h),c=null}},createHref(y){return t(s,y)},createURL:x,encodeLocation(y){let w=x(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:f,go(y){return a.go(y)}};return p}var ag;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ag||(ag={}));function IT(e,t,r){return r===void 0&&(r="/"),DT(e,t,r,!1)}function DT(e,t,r,n){let s=typeof t=="string"?To(t):t,o=Rw(s.pathname||"/",r);if(o==null)return null;let a=Cw(e);LT(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=WT(o);l=qT(a[c],u,n)}return l}function Cw(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Le(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=es([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(Le(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Cw(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:VT(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of Tw(o.path))s(o,a,c)}),t}function Tw(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let a=Tw(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function LT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:HT(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const $T=/^:[\w-]+$/,MT=3,UT=2,FT=1,zT=10,BT=-2,ig=e=>e==="*";function VT(e,t){let r=e.split("/"),n=r.length;return r.some(ig)&&(n+=BT),t&&(n+=UT),r.filter(s=>!ig(s)).reduce((s,o)=>s+($T.test(o)?MT:o===""?FT:zT),n)}function HT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function qT(e,t,r){let{routesMeta:n}=e,s={},o="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",h=lg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=lg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:es([o,h.pathname]),pathnameBase:ZT(es([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=es([o,h.pathnameBase]))}return a}function lg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=GT(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:m,isOptional:f}=d;if(m==="*"){let p=l[h]||"";a=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[h];return f&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function GT(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ew(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function WT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ew(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function KT(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?To(e):e;return{pathname:r?r.startsWith("/")?r:QT(r,t):t,search:eR(n),hash:tR(s)}}function QT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function xu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function YT(e,t){let r=JT(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function XT(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=To(e):(s=La({},e),Le(!s.pathname||!s.pathname.includes("?"),xu("?","pathname","search",s)),Le(!s.pathname||!s.pathname.includes("#"),xu("#","pathname","hash",s)),Le(!s.search||!s.search.includes("#"),xu("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=KT(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const es=e=>e.join("/").replace(/\/\/+/g,"/"),ZT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Aw=["post","put","patch","delete"];new Set(Aw);const nR=["get",...Aw];new Set(nR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$a.apply(this,arguments)}const Pf=v.createContext(null),sR=v.createContext(null),bc=v.createContext(null),_c=v.createContext(null),Ro=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Pw=v.createContext(null);function jc(){return v.useContext(_c)!=null}function Of(){return jc()||Le(!1),v.useContext(_c).location}function Ow(e){v.useContext(bc).static||v.useLayoutEffect(e)}function Ue(){let{isDataRoute:e}=v.useContext(Ro);return e?vR():oR()}function oR(){jc()||Le(!1);let e=v.useContext(Pf),{basename:t,future:r,navigator:n}=v.useContext(bc),{matches:s}=v.useContext(Ro),{pathname:o}=Of(),a=JSON.stringify(YT(s,r.v7_relativeSplatPath)),l=v.useRef(!1);return Ow(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=XT(u,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:es([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,o,e])}function aR(e,t){return iR(e,t)}function iR(e,t,r,n){jc()||Le(!1);let{navigator:s}=v.useContext(bc),{matches:o}=v.useContext(Ro),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Of(),d;if(t){var h;let y=typeof t=="string"?To(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Le(!1),d=y}else d=u;let m=d.pathname||"/",f=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=IT(e,{pathname:f}),p=hR(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:es([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:es([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&p?v.createElement(_c.Provider,{value:{location:$a({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:cn.Pop}},p):p}function lR(){let e=gR(),t=rR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,null)}const cR=v.createElement(lR,null);class uR extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(Ro.Provider,{value:this.props.routeContext},v.createElement(Pw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dR(e){let{routeContext:t,match:r,children:n}=e,s=v.useContext(Pf);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Ro.Provider,{value:t},n)}function hR(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Le(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:f}=r,x=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,m)=>{let f,x=!1,p=null,y=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||cR,c&&(u<0&&m===0?(x=!0,y=null):u===m&&(x=!0,y=h.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,m+1)),g=()=>{let b;return f?b=p:x?b=y:h.route.Component?b=v.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,v.createElement(dR,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?v.createElement(uR,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:g(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):g()},null)}var Iw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Iw||{}),Ul=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ul||{});function fR(e){let t=v.useContext(Pf);return t||Le(!1),t}function mR(e){let t=v.useContext(sR);return t||Le(!1),t}function pR(e){let t=v.useContext(Ro);return t||Le(!1),t}function Dw(e){let t=pR(),r=t.matches[t.matches.length-1];return r.route.id||Le(!1),r.route.id}function gR(){var e;let t=v.useContext(Pw),r=mR(Ul.UseRouteError),n=Dw(Ul.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function vR(){let{router:e}=fR(Iw.UseNavigateStable),t=Dw(Ul.UseNavigateStable),r=v.useRef(!1);return Ow(()=>{r.current=!0}),v.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,$a({fromRouteId:t},o)))},[e,t])}function yR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Re(e){Le(!1)}function xR(e){let{basename:t="/",children:r=null,location:n,navigationType:s=cn.Pop,navigator:o,static:a=!1,future:l}=e;jc()&&Le(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:o,static:a,future:$a({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof n=="string"&&(n=To(n));let{pathname:d="/",search:h="",hash:m="",state:f=null,key:x="default"}=n,p=v.useMemo(()=>{let y=Rw(d,c);return y==null?null:{location:{pathname:y,search:h,hash:m,state:f,key:x},navigationType:s}},[c,d,h,m,f,x,s]);return p==null?null:v.createElement(bc.Provider,{value:u},v.createElement(_c.Provider,{children:r,value:p}))}function wR(e){let{children:t,location:r}=e;return aR(Wd(t),r)}new Promise(()=>{});function Wd(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let o=[...t,s];if(n.type===v.Fragment){r.push.apply(r,Wd(n.props.children,o));return}n.type!==Re&&Le(!1),!n.props.index||!n.props.children||Le(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Wd(n.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bR="6";try{window.__reactRouterVersion=bR}catch{}const _R="startTransition",cg=wh[_R];function jR(e){let{basename:t,children:r,future:n,window:s}=e,o=v.useRef();o.current==null&&(o.current=AT({window:s,v5Compat:!0}));let a=o.current,[l,c]=v.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=v.useCallback(h=>{u&&cg?cg(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>a.listen(d),[a,d]),v.useEffect(()=>yR(n),[n]),v.createElement(xR,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}var ug;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ug||(ug={}));var dg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dg||(dg={}));const If=dc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const a=n?qN:"button";return i.jsx(a,{className:ee(If({variant:t,size:r,className:e})),ref:o,...s})});z.displayName="Button";const hg=e=>{let t;const r=new Set,n=(u,d)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const m=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(f=>f(t,m))}},s=()=>t,l={setState:n,getState:s,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=t=e(n,s,l);return l},SR=e=>e?hg(e):hg,NR=e=>e;function ER(e,t=NR){const r=M.useSyncExternalStore(e.subscribe,M.useCallback(()=>t(e.getState()),[e,t]),M.useCallback(()=>t(e.getInitialState()),[e,t]));return M.useDebugValue(r),r}const kR=e=>{const t=SR(e),r=n=>ER(t,n);return Object.assign(r,t),r},CR=e=>kR;function TR(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var o;const a=c=>c===null?null:JSON.parse(c,void 0),l=(o=r.getItem(s))!=null?o:null;return l instanceof Promise?l.then(a):a(l)},setItem:(s,o)=>r.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>r.removeItem(s)}}const Kd=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Kd(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Kd(n)(r)}}}},RR=(e,t)=>(r,n,s)=>{let o={storage:TR(()=>localStorage),partialize:p=>p,version:0,merge:(p,y)=>({...y,...p}),...t},a=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...p)},n,s);const d=()=>{const p=o.partialize({...n()});return u.setItem(o.name,{state:p,version:o.version})},h=s.setState;s.setState=(p,y)=>(h(p,y),d());const m=e((...p)=>(r(...p),d()),n,s);s.getInitialState=()=>m;let f;const x=()=>{var p,y;if(!u)return;a=!1,l.forEach(g=>{var b;return g((b=n())!=null?b:m)});const w=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(p=n())!=null?p:m))||void 0;return Kd(u.getItem.bind(u))(o.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==o.version){if(o.migrate){const b=o.migrate(g.state,g.version);return b instanceof Promise?b.then(_=>[!0,_]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var b;const[_,N]=g;if(f=o.merge(N,(b=n())!=null?b:m),r(f,!0),_)return d()}).then(()=>{w==null||w(f,void 0),f=n(),a=!0,c.forEach(g=>g(f))}).catch(g=>{w==null||w(void 0,g)})};return s.persist={setOptions:p=>{o={...o,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},o.skipHydration||x(),f||m},AR=RR;var Qd=function(e,t){return Qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Qd(e,t)};function Lw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Qd(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Rt=function(){return Rt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Rt.apply(this,arguments)};function Tn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function $w(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(o=(s<3?a(o):s>3?a(t,r,o):a(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function Mw(e,t){return function(r,n){t(r,n,e)}}function Uw(e,t,r,n,s,o){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,m=!1,f=r.length-1;f>=0;f--){var x={};for(var p in n)x[p]=p==="access"?{}:n[p];for(var p in n.access)x.access[p]=n.access[p];x.addInitializer=function(w){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(w||null))};var y=(0,r[f])(l==="accessor"?{get:d.get,set:d.set}:d[c],x);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=a(y.get))&&(d.get=h),(h=a(y.set))&&(d.set=h),(h=a(y.init))&&s.unshift(h)}else(h=a(y))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),m=!0}function Fw(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function zw(e){return typeof e=="symbol"?e:"".concat(e)}function Bw(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Vw(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function H(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Hw(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Sc=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function qw(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Sc(t,e,r)}function Fl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Df(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function Gw(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Df(arguments[t]));return e}function Ww(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,s++)n[s]=o[a];return n}function Lf(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function bo(e){return this instanceof bo?(this.v=e,this):new bo(e)}function Kw(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(f){return function(x){return Promise.resolve(x).then(f,h)}}function l(f,x){n[f]&&(s[f]=function(p){return new Promise(function(y,w){o.push([f,p,y,w])>1||c(f,p)})},x&&(s[f]=x(s[f])))}function c(f,x){try{u(n[f](x))}catch(p){m(o[0][3],p)}}function u(f){f.value instanceof bo?Promise.resolve(f.value.v).then(d,h):m(o[0][2],f)}function d(f){c("next",f)}function h(f){c("throw",f)}function m(f,x){f(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Qw(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(a){return(r=!r)?{value:bo(e[s](a)),done:!1}:o?o(a):a}:o}}function Jw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Fl=="function"?Fl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(a){return new Promise(function(l,c){a=e[o](a),s(l,c,a.done,a.value)})}}function s(o,a,l,c){Promise.resolve(c).then(function(u){o({value:u,done:l})},a)}}function Yw(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var PR=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Jd=function(e){return Jd=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Jd(e)};function Xw(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Jd(e),n=0;n<r.length;n++)r[n]!=="default"&&Sc(t,e,r[n]);return PR(t,e),t}function Zw(e){return e&&e.__esModule?e:{default:e}}function eb(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function tb(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function rb(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function nb(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var OR=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function sb(e){function t(o){e.error=e.hasError?new OR(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(a){return t(a),s()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function ob(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,a){return n?t?".jsx":".js":s&&(!o||!a)?r:s+o+"."+a.toLowerCase()+"js"}):e}const IR={__extends:Lw,__assign:Rt,__rest:Tn,__decorate:$w,__param:Mw,__esDecorate:Uw,__runInitializers:Fw,__propKey:zw,__setFunctionName:Bw,__metadata:Vw,__awaiter:H,__generator:Hw,__createBinding:Sc,__exportStar:qw,__values:Fl,__read:Df,__spread:Gw,__spreadArrays:Ww,__spreadArray:Lf,__await:bo,__asyncGenerator:Kw,__asyncDelegator:Qw,__asyncValues:Jw,__makeTemplateObject:Yw,__importStar:Xw,__importDefault:Zw,__classPrivateFieldGet:eb,__classPrivateFieldSet:tb,__classPrivateFieldIn:rb,__addDisposableResource:nb,__disposeResources:sb,__rewriteRelativeImportExtension:ob},DR=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:nb,get __assign(){return Rt},__asyncDelegator:Qw,__asyncGenerator:Kw,__asyncValues:Jw,__await:bo,__awaiter:H,__classPrivateFieldGet:eb,__classPrivateFieldIn:rb,__classPrivateFieldSet:tb,__createBinding:Sc,__decorate:$w,__disposeResources:sb,__esDecorate:Uw,__exportStar:qw,__extends:Lw,__generator:Hw,__importDefault:Zw,__importStar:Xw,__makeTemplateObject:Yw,__metadata:Vw,__param:Mw,__propKey:zw,__read:Df,__rest:Tn,__rewriteRelativeImportExtension:ob,__runInitializers:Fw,__setFunctionName:Bw,__spread:Gw,__spreadArray:Lf,__spreadArrays:Ww,__values:Fl,default:IR},Symbol.toStringTag,{value:"Module"})),LR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class $f extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class $R extends $f{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fg extends $f{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class mg extends $f{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Yd||(Yd={}));class MR{constructor(t,{headers:r={},customFetch:n,region:s=Yd.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=LR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return H(this,arguments,void 0,function*(r,n={}){var s;let o,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let m={},{region:f}=n;f||(f=this.region);const x=new URL(`${this.url}/${r}`);f&&f!=="any"&&(m["x-region"]=f,x.searchParams.set("forceFunctionRegion",f));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(m["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(m["Content-Type"]="application/json",p=JSON.stringify(u)):p=u;let y=d;h&&(a=new AbortController,o=setTimeout(()=>a.abort(),h),d?(y=a.signal,d.addEventListener("abort",()=>a.abort())):y=a.signal);const w=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:p,signal:y}).catch(N=>{throw new $R(N)}),g=w.headers.get("x-relay-error");if(g&&g==="true")throw new fg(w);if(!w.ok)throw new mg(w);let b=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield w.json():b==="application/octet-stream"||b==="application/pdf"?_=yield w.blob():b==="text/event-stream"?_=w:b==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof mg||l instanceof fg?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var tt={};const Ao=hj(DR);var Ri={},Ai={},Pi={},Oi={},Ii={},Di={},pg;function ab(){if(pg)return Di;pg=1,Object.defineProperty(Di,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Di.default=e,Di}var gg;function ib(){if(gg)return Ii;gg=1,Object.defineProperty(Ii,"__esModule",{value:!0});const t=Ao.__importDefault(ab());class r{constructor(s){var o,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,m;let f=null,x=null,p=null,y=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const N=await c.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?x=N:x=JSON.parse(N))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");b&&_&&_.length>1&&(p=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(f={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,p=null,y=406,w="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const b=await c.text();try{f=JSON.parse(b),Array.isArray(f)&&c.status===404&&(x=[],f=null,y=200,w="OK")}catch{c.status===404&&b===""?(y=204,w="No Content"):f={message:b}}if(f&&this.isMaybeSingle&&(!((m=f==null?void 0:f.details)===null||m===void 0)&&m.includes("0 rows"))&&(f=null,y=200,w="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:x,count:p,status:y,statusText:w}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,m,f,x;let p="";const y=c==null?void 0:c.cause;if(y){const w=(u=y==null?void 0:y.message)!==null&&u!==void 0?u:"",g=(d=y==null?void 0:y.code)!==null&&d!==void 0?d:"";p=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,p+=`

Caused by: ${(m=y==null?void 0:y.name)!==null&&m!==void 0?m:"Error"}: ${w}`,g&&(p+=` (${g})`),y!=null&&y.stack&&(p+=`
${y.stack}`)}else p=(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"FetchError"}: ${c==null?void 0:c.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return Ii.default=r,Ii}var vg;function lb(){if(vg)return Oi;vg=1,Object.defineProperty(Oi,"__esModule",{value:!0});const t=Ao.__importDefault(ib());class r extends t.default{select(s){let o=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,o,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,o?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Oi.default=r,Oi}var yg;function Mf(){if(yg)return Pi;yg=1,Object.defineProperty(Pi,"__esModule",{value:!0});const t=Ao.__importDefault(lb()),r=new RegExp("[,()]");class n extends t.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${l})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(o,`${u}fts${d}.${a}`),this}match(o){return Object.entries(o).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(o,a,l){return this.url.searchParams.append(o,`not.${a}.${l}`),this}or(o,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,a,l){return this.url.searchParams.append(o,`${a}.${l}`),this}}return Pi.default=n,Pi}var xg;function cb(){if(xg)return Ai;xg=1,Object.defineProperty(Ai,"__esModule",{value:!0});const t=Ao.__importDefault(Mf());class r{constructor(s,{headers:o={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(o),this.schema=a,this.fetch=l}select(s,o){const{head:a=!1,count:l}=o??{},c=a?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:a=!0}={}){var l;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,f)=>m.concat(Object.keys(f)),[]);if(h.length>0){const m=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:o}={}){var a;const l="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var o;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Ai.default=r,Ai}var wg;function UR(){if(wg)return Ri;wg=1,Object.defineProperty(Ri,"__esModule",{value:!0});const e=Ao,t=e.__importDefault(cb()),r=e.__importDefault(Mf());class n{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const m=new URL(`${this.url}/rpc/${o}`);let f;l||c?(h=l?"HEAD":"GET",Object.entries(a).filter(([p,y])=>y!==void 0).map(([p,y])=>[p,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([p,y])=>{m.searchParams.append(p,y)})):(h="POST",f=a);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new r.default({method:h,url:m,headers:x,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Ri.default=n,Ri}Object.defineProperty(tt,"__esModule",{value:!0});var ub=tt.PostgrestError=wb=tt.PostgrestBuilder=yb=tt.PostgrestTransformBuilder=gb=tt.PostgrestFilterBuilder=mb=tt.PostgrestQueryBuilder=hb=tt.PostgrestClient=void 0;const Po=Ao,db=Po.__importDefault(UR());var hb=tt.PostgrestClient=db.default;const fb=Po.__importDefault(cb());var mb=tt.PostgrestQueryBuilder=fb.default;const pb=Po.__importDefault(Mf());var gb=tt.PostgrestFilterBuilder=pb.default;const vb=Po.__importDefault(lb());var yb=tt.PostgrestTransformBuilder=vb.default;const xb=Po.__importDefault(ib());var wb=tt.PostgrestBuilder=xb.default;const bb=Po.__importDefault(ab());ub=tt.PostgrestError=bb.default;var _b=tt.default={PostgrestClient:db.default,PostgrestQueryBuilder:fb.default,PostgrestFilterBuilder:pb.default,PostgrestTransformBuilder:vb.default,PostgrestBuilder:xb.default,PostgrestError:bb.default};const FR=Av({__proto__:null,get PostgrestBuilder(){return wb},get PostgrestClient(){return hb},get PostgrestError(){return ub},get PostgrestFilterBuilder(){return gb},get PostgrestQueryBuilder(){return mb},get PostgrestTransformBuilder(){return yb},default:_b},[tt]),{PostgrestClient:zR,PostgrestQueryBuilder:tL,PostgrestFilterBuilder:rL,PostgrestTransformBuilder:nL,PostgrestBuilder:sL,PostgrestError:oL}=_b||FR;class BR{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const VR="2.83.0",HR=`realtime-js/${VR}`,jb="1.0.0",qR="2.0.0",bg=jb,Xd=1e4,GR=1e3,WR=100;var Un;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Un||(Un={}));var Oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Oe||(Oe={}));var kt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kt||(kt={}));var Zd;(function(e){e.websocket="websocket"})(Zd||(Zd={}));var Fn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fn||(Fn={}));class KR{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){var r,n;const{event:s,topic:o,payload:a}=t,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=this.META_LENGTH+c.length+l.length+o.length+s.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let h=new DataView(d),m=0;h.setUint8(m++,this.KINDS.push),h.setUint8(m++,c.length),h.setUint8(m++,l.length),h.setUint8(m++,o.length),h.setUint8(m++,s.length),Array.from(c,x=>h.setUint8(m++,x.charCodeAt(0))),Array.from(l,x=>h.setUint8(m++,x.charCodeAt(0))),Array.from(o,x=>h.setUint8(m++,x.charCodeAt(0))),Array.from(s,x=>h.setUint8(m++,x.charCodeAt(0)));var f=new Uint8Array(d.byteLength+a.byteLength);return f.set(new Uint8Array(d),0),f.set(new Uint8Array(a),d.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,s,o;const a=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let f=new DataView(m),x=0;f.setUint8(x++,this.KINDS.userBroadcastPush),f.setUint8(x++,c.length),f.setUint8(x++,l.length),f.setUint8(x++,a.length),f.setUint8(x++,u.length),f.setUint8(x++,this.BINARY_ENCODING),Array.from(c,y=>f.setUint8(x++,y.charCodeAt(0))),Array.from(l,y=>f.setUint8(x++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(x++,y.charCodeAt(0))),Array.from(u,y=>f.setUint8(x++,y.charCodeAt(0)));var p=new Uint8Array(m.byteLength+d.byteLength);return p.set(new Uint8Array(m),0),p.set(new Uint8Array(d),m.byteLength),p.buffer}_encodeJsonUserBroadcastPush(t){var r,n,s,o;const a=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},m=new TextEncoder().encode(JSON.stringify(d)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length,x=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(x),y=0;p.setUint8(y++,this.KINDS.userBroadcastPush),p.setUint8(y++,c.length),p.setUint8(y++,l.length),p.setUint8(y++,a.length),p.setUint8(y++,u.length),p.setUint8(y++,this.JSON_ENCODING),Array.from(c,g=>p.setUint8(y++,g.charCodeAt(0))),Array.from(l,g=>p.setUint8(y++,g.charCodeAt(0))),Array.from(a,g=>p.setUint8(y++,g.charCodeAt(0))),Array.from(u,g=>p.setUint8(y++,g.charCodeAt(0)));var w=new Uint8Array(x.byteLength+m.byteLength);return w.set(new Uint8Array(x),0),w.set(new Uint8Array(m),x.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,o,a,l,c]=n;return r({join_ref:s,ref:o,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,s);case this.KINDS.reply:return this._decodeReply(t,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodePush(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),a=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(t.slice(l,l+s));l=l+s;const u=n.decode(t.slice(l,l+o));l=l+o;const d=n.decode(t.slice(l,l+a));l=l+a;const h=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{join_ref:c,ref:null,topic:u,event:d,payload:h}}_decodeReply(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+o));c=c+o;const h=n.decode(t.slice(c,c+a));c=c+a;const m=n.decode(t.slice(c,c+l));c=c+l;const f=JSON.parse(n.decode(t.slice(c,t.byteLength))),x={status:m,response:f};return{join_ref:u,ref:d,topic:h,event:kt.reply,payload:x}}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{join_ref:null,ref:null,topic:l,event:c,payload:u}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+o));c=c+o;const h=n.decode(t.slice(c,c+a));c=c+a;const m=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,x={type:this.BROADCAST,event:d,payload:f};return a>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Sb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fe||(fe={}));const _g=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=QR(a,e,t,s),o),{}):{}},QR=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,a=r[e];return o&&!n.includes(o)?Nb(o,a):eh(a)},Nb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ZR(t,r)}switch(e){case fe.bool:return JR(t);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return YR(t);case fe.json:case fe.jsonb:return XR(t);case fe.timestamp:return eA(t);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return eh(t);default:return eh(t)}},eh=e=>e,JR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},YR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},XR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ZR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const a=e.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>Nb(t,l))}return e},eA=e=>typeof e=="string"?e.replace(" ","T"):e,Eb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class wu{constructor(t,r,n={},s=Xd){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jg||(jg={}));class la{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=la.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=la.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=la.syncDiff(this.state,s,o,a),l())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=o[u];if(h){const m=d.map(y=>y.presence_ref),f=h.map(y=>y.presence_ref),x=d.filter(y=>f.indexOf(y.presence_ref)<0),p=h.filter(y=>m.indexOf(y.presence_ref)<0);x.length>0&&(l[u]=x),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(f=>f.presence_ref),m=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Sg||(Sg={}));var ca;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ca||(ca={}));var br;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(br||(br={}));class Uf{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wu(this,kt.join,this.params,this.timeout),this.rejoinTimer=new Sb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kt.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new la(this),this.broadcastEndpointURL=Eb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ca.PRESENCE]&&this.bindings[ca.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(br.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(br.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var x;if(this.socket.setAuth(),f===void 0){t==null||t(br.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(x=p==null?void 0:p.length)!==null&&x!==void 0?x:0,w=[];for(let g=0;g<y;g++){const b=p[g],{filter:{event:_,schema:N,table:j,filter:S}}=b,E=f&&f[g];if(E&&E.event===_&&E.schema===N&&E.table===j&&E.filter===S)w.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=Oe.errored,t==null||t(br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(br.SUBSCRIBED);return}}).receive("error",f=>{this.state=Oe.errored,t==null||t(br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Oe.joined&&t===ca.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new wu(this,kt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wu(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>WR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=kt;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var x,p,y;return((x=f.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(p=f.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(f=>f.callback(m,n)):(o=this.bindings[a])===null||o===void 0||o.filter(f=>{var x,p,y,w,g,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const _=f.id,N=(x=f.filter)===null||x===void 0?void 0:x.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(g=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:p,table:y,commit_timestamp:w,type:g,errors:b}=x;m=Object.assign(Object.assign({},{schema:p,table:y,commit_timestamp:w,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(x))}f.callback(m,n)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Uf.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kt.close,{},t)}_onError(t){this._on(kt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=_g(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=_g(t.columns,t.old_record)),r}}const bu=()=>{},Li={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tA=[1e3,2e3,5e3,1e4],rA=1e4,nA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xd,this.transport=null,this.heartbeatIntervalMs=Li.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bu,this.ref=0,this.reconnectTimer=null,this.vsn=bg,this.logger=bu,this.conn=null,this.sendBuffer=[],this.serializer=new KR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Zd.websocket}`,this.httpEndpoint=Eb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Un.connecting:return Fn.Connecting;case Un.open:return Fn.Open;case Un.closing:return Fn.Closing;default:return Fn.Closed}}isConnected(){return this.connectionState()===Fn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Uf(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(GR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Li.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:a}=r,l=a?`(${a})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Un.open||this.conn.readyState===Un.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(kt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([nA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:HR};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(kt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Sb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Li.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,a,l,c,u,d,h,m,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Xd,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Li.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:bu,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:bg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>tA[x-1]||rA,this.vsn){case jb:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,p)=>p(JSON.stringify(x)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(x,p)=>p(JSON.parse(x));break;case qR:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ff extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class oA extends Ff{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class th extends Ff{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const zf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aA=()=>Response,rh=e=>{if(Array.isArray(e))return e.map(r=>rh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=rh(n)}),t},iA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_u=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},lA=(e,t,r)=>H(void 0,void 0,void 0,function*(){const n=yield aA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const o=e.status||500,a=(s==null?void 0:s.statusCode)||o+"";t(new oA(_u(s),o,a))}).catch(s=>{t(new th(_u(s),s))}):t(new th(_u(e),e))}),cA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(iA(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function ei(e,t,r,n,s,o){return H(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,cA(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>lA(c,l,n))})})}function Ma(e,t,r,n){return H(this,void 0,void 0,function*(){return ei(e,"GET",t,r,n)})}function Gt(e,t,r,n,s){return H(this,void 0,void 0,function*(){return ei(e,"POST",t,n,s,r)})}function nh(e,t,r,n,s){return H(this,void 0,void 0,function*(){return ei(e,"PUT",t,n,s,r)})}function uA(e,t,r,n){return H(this,void 0,void 0,function*(){return ei(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Bf(e,t,r,n,s){return H(this,void 0,void 0,function*(){return ei(e,"DELETE",t,n,s,r)})}class dA{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return H(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_e(t))return{data:null,error:t};throw t}})}}var kb;class hA{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[kb]="BlobDownloadBuilder",this.promise=null}asStream(){return new dA(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return H(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_e(t))return{data:null,error:t};throw t}})}}kb=Symbol.toStringTag;const fA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ng={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mA{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=zf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return H(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Ng),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?nh:Gt)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(_e(o))return{data:null,error:o};throw o}})}upload(t,r,n){return H(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return H(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Ng.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield nh(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(_e(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return H(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Gt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new Ff("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}update(t,r,n){return H(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return H(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}copy(t,r,n){return H(this,void 0,void 0,function*(){try{return{data:{path:(yield Gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return H(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Gt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return H(this,void 0,void 0,function*(){try{const s=yield Gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?`?${o}`:"",l=this._getFinalPath(t),c=()=>Ma(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new hA(c,this.shouldThrowOnError)}info(t){return H(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ma(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:rh(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}exists(t){return H(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield uA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n)&&n instanceof th){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return H(this,void 0,void 0,function*(){try{return{data:yield Bf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}list(t,r,n){return H(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},fA),r),{prefix:t||""});return{data:yield Gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}listV2(t,r){return H(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Gt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Cb="2.83.0",Tb={"X-Client-Info":`storage-js/${Cb}`};class pA{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tb),r),this.fetch=zf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return H(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Ma(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}getBucket(t){return H(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}createBucket(t){return H(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Gt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_e(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return H(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return H(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return H(this,void 0,void 0,function*(){try{return{data:yield Bf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class gA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tb),r),this.fetch=zf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return H(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}listBuckets(t){return H(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ma(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return H(this,void 0,void 0,function*(){try{return{data:yield Bf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_e(r))return{data:null,error:r};throw r}})}}const Vf={"X-Client-Info":`storage-js/${Cb}`,"Content-Type":"application/json"};class Rb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function gt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ju extends Rb{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vA extends Rb{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Eg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Eg||(Eg={}));const Hf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xA=(e,t,r)=>H(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,o=e;if(typeof o.json=="function")o.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new ju(kg(a),s,l))}).catch(()=>{const a=s+"",l=o.statusText||`HTTP ${s} error`;t(new ju(l,s,a))});else{const a=s+"",l=o.statusText||`HTTP ${s} error`;t(new ju(l,s,a))}}else t(new vA(kg(e),e))}),wA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(yA(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function bA(e,t,r,n,s,o){return H(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,wA(t,n,s,o)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>xA(c,l,n))})})}function vt(e,t,r,n,s){return H(this,void 0,void 0,function*(){return bA(e,"POST",t,n,s,r)})}class _A{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vf),r),this.fetch=Hf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return H(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return H(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}listIndexes(t){return H(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return H(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}}class jA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vf),r),this.fetch=Hf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return H(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield vt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}getVectors(t){return H(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}listVectors(t){return H(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield vt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}queryVectors(t){return H(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return H(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield vt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}}class SA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vf),r),this.fetch=Hf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return H(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}getBucket(t){return H(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}listBuckets(){return H(this,arguments,void 0,function*(t={}){try{return{data:yield vt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return H(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}}class NA extends SA{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new EA(this.url,this.headers,t,this.fetch)}}class EA extends _A{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return H(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return H(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return H(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return H(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new kA(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class kA extends jA{constructor(t,r,n,s,o){super(t,r,o),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return H(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return H(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return H(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return H(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return H(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class CA extends pA{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new mA(this.url,this.headers,t,this.fetch)}get vectors(){return new NA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gA(this.url+"/iceberg",this.headers,this.fetch)}}const TA="2.83.0";let Jo="";typeof Deno<"u"?Jo="deno":typeof document<"u"?Jo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jo="react-native":Jo="node";const RA={"X-Client-Info":`supabase-js-${Jo}/${TA}`},AA={headers:RA},PA={schema:"public"},OA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IA={},DA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),LA=()=>Headers,$A=(e,t,r)=>{const n=DA(r),s=LA();return async(o,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},a),{headers:u}))}};function MA(e){return e.endsWith("/")?e:e+"/"}function UA(e,t){var r,n;const{db:s,auth:o,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function FA(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(MA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ab="2.83.0",Rs=30*1e3,sh=3,Su=sh*Rs,zA="http://localhost:9999",BA="supabase.auth.token",VA={"X-Client-Info":`gotrue-js/${Ab}`},oh="X-Supabase-Api-Version",Pb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qA=10*60*1e3;class Ua extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class GA extends Ua{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function WA(e){return q(e)&&e.name==="AuthApiError"}class zn extends Ua{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Rn extends Ua{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ft extends Rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function KA(e){return q(e)&&e.name==="AuthSessionMissingError"}class bs extends Rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $i extends Rn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mi extends Rn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QA(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Cg extends Rn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ah extends Rn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Nu(e){return q(e)&&e.name==="AuthRetryableFetchError"}class Tg extends Rn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ih extends Rn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rg=` 	
\r=`.split(""),JA=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Rg.length;t+=1)e[Rg[t].charCodeAt(0)]=-2;for(let t=0;t<zl.length;t+=1)e[zl[t].charCodeAt(0)]=t;return e})();function Ag(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(zl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(zl[n]),t.queuedBits-=6}}function Ob(e,t,r){const n=JA[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Pg(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{ZA(a,n,r)};for(let a=0;a<e.length;a+=1)Ob(e.charCodeAt(a),s,o);return t.join("")}function YA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function XA(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}YA(n,t)}}function ZA(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Zs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ob(e.charCodeAt(s),r,n);return new Uint8Array(t)}function eP(e){const t=[];return XA(e,r=>t.push(r)),new Uint8Array(t)}function qn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Ag(s,r,n)),Ag(null,r,n),t.join("")}function tP(e){return Math.round(Date.now()/1e3)+e}function rP(){return Symbol("auth-callback")}const Fe=()=>typeof window<"u"&&typeof document<"u",In={tested:!1,writable:!1},Ib=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(In.tested)return In.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),In.tested=!0,In.writable=!0}catch{In.tested=!0,In.writable=!1}return In.writable};function nP(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Db=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",As=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Dn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gr=async(e,t)=>{await e.removeItem(t)};class Nc{constructor(){this.promise=new Nc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Nc.promiseConstructor=Promise;function Eu(e){const t=e.split(".");if(t.length!==3)throw new ih("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!HA.test(t[n]))throw new ih("JWT not in base64url format");return{header:JSON.parse(Pg(t[0])),payload:JSON.parse(Pg(t[1])),signature:Zs(t[2]),raw:{header:t[0],payload:t[1]}}}async function oP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function aP(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){n(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function iP(e){return("0"+e.toString(16)).substr(-2)}function lP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,iP).join("")}async function cP(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function uP(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await cP(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _s(e,t,r=!1){const n=lP();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await As(e,`${t}-code-verifier`,s);const o=await uP(n);return[o,n===o?"plain":"s256"]}const dP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hP(e){const t=e.headers.get(oh);if(!t||!t.match(dP))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fP(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mP(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function js(e){if(!pP.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ku(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gP(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Og(e){return JSON.parse(JSON.stringify(e))}const Mn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vP=[502,503,504];async function Ig(e){var t;if(!sP(e))throw new ah(Mn(e),0);if(vP.includes(e.status))throw new ah(Mn(e),e.status);let r;try{r=await e.json()}catch(o){throw new zn(Mn(o),o)}let n;const s=hP(e);if(s&&s.getTime()>=Pb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Tg(Mn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ft}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Tg(Mn(r),e.status,r.weak_password.reasons);throw new GA(Mn(r),e.status||500,n)}const yP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function K(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[oh]||(o[oh]=Pb["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await xP(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function xP(e,t,r,n,s,o){const a=yP(t,n,s,o);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new ah(Mn(c),0)}if(l.ok||await Ig(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ig(c)}}function Vt(e){var t;let r=null;_P(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=tP(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Dg(e){const t=Vt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function en(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function wP(e){return{data:e,error:null}}function bP(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,a=Tn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Lg(e){return e}function _P(e){return e.access_token&&e.refresh_token&&e.expires_in}const Cu=["global","local","others"];class jP{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Db(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Cu[0]){if(Cu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cu.join(", ")}`);try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:en})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Tn(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bP,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:en})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Lg});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(x=>{const p=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){js(t);try{return await K(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:en})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){js(t);try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:en})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){js(t);try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:en})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){js(t.userId);try{const{data:r,error:n}=await K(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _deleteFactor(t){js(t.userId),js(t.id);try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await K(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Lg});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(x=>{const p=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(q(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await K(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await K(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await K(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await K(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await K(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}}function $g(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ss={debug:!!(globalThis&&Ib()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class SP extends Lb{}async function NP(e,t,r){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new SP(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ss.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function EP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $b(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function kP(e){return parseInt(e,16)}function CP(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function TP(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=$b(e.address),x=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",y=`${x} wants you to sign in with your Ethereum account:
${f}

${p}`;let w=`URI: ${h}
Version: ${m}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);g+=`
- ${b}`}w+=g}return`${y}
${w}`}class Ae extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Bl extends Ae{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function RP({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ae({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Mb(a)){if(o.rp.id!==a)return new Ae({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function AP({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ae({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Mb(n)){if(r.rpId!==n)return new Ae({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class PP{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const OP=new PP;function IP(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Tn(e,["challenge","user","excludeCredentials"]),o=Zs(t).buffer,a=Object.assign(Object.assign({},r),{id:Zs(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:o,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Zs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function DP(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Tn(e,["challenge","allowCredentials"]),s=Zs(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];o.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Zs(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function LP(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:qn(new Uint8Array(e.response.attestationObject)),clientDataJSON:qn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $P(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:qn(new Uint8Array(s.authenticatorData)),clientDataJSON:qn(new Uint8Array(s.clientDataJSON)),signature:qn(new Uint8Array(s.signature)),userHandle:s.userHandle?qn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Mb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Mg(){var e,t;return!!(Fe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function MP(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bl("Browser returned unexpected credential type",t)}:{data:null,error:new Bl("Empty credential response",t)}}catch(t){return{data:null,error:RP({error:t,options:e})}}}async function UP(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bl("Browser returned unexpected credential type",t)}:{data:null,error:new Bl("Empty credential response",t)}}catch(t){return{data:null,error:AP({error:t,options:e})}}}const FP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Vl(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const a=s[o];if(a!==void 0)if(Array.isArray(a))n[o]=a;else if(r(a))n[o]=a;else if(t(a)){const l=n[o];t(l)?n[o]=Vl(l,a):n[o]=Vl(a)}else n[o]=a}return n}function BP(e,t){return Vl(FP,e,t||{})}function VP(e,t){return Vl(zP,e,t||{})}class HP{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=s??OP.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=BP(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:h}=await MP({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=VP(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:h}=await UP(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return q(a)?{data:null,error:a}:{data:null,error:new zn("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Ua("rpId is required for WebAuthn authentication")};try{if(!Mg())return{data:null,error:new zn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return q(a)?{data:null,error:a}:{data:null,error:new zn("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Ua("rpId is required for WebAuthn registration")};try{if(!Mg())return{data:null,error:new zn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return q(a)?{data:null,error:a}:{data:null,error:new zn("Unexpected error in register",a)}}}}EP();const qP={url:zA,storageKey:BA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:VA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ug(e,t,r){return await r()}const Ns={};class Fa{get jwks(){var t,r;return(r=(t=Ns[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ns[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},qP),t);if(this.storageKey=o.storageKey,this.instanceID=(r=Fa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Fa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Fe()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new jP({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Db(o.fetch),this.lock=o.lock||Ug,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Fe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=NP:this.lock=Ug,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new HP(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Ib()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$g(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=$g(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ab}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Fe()&&(r=nP(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Fe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),QA(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return q(r)?this._returnResult({error:r}):this._returnResult({error:new zn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Vt}),{data:a,error:l}=o;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(q(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:h,options:m}=t;let f=null,x=null;this.flowType==="pkce"&&([f,x]=await _s(this.storage,this.storageKey)),o=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:x},xform:Vt})}else if("phone"in t){const{phone:d,password:h,options:m}=t;o=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Vt})}else throw new $i("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(q(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:a,options:l}=t;r=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dg})}else if("phone"in t){const{phone:o,password:a,options:l}=t;r=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dg})}else throw new $i("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new bs;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(q(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,a,l,c,u,d,h,m;let f,x;if("message"in t)f=t.message,x=t.signature;else{const{chain:p,wallet:y,statement:w,options:g}=t;let b;if(Fe())if(typeof y=="object")b=y;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")b=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),N=await b.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=$b(N[0]);let S=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const C=await b.request({method:"eth_chainId"});S=kP(C)}const E={domain:_.host,address:j,statement:w,uri:_.href,version:"1",chainId:S,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=TP(E),x=await b.request({method:"personal_sign",params:[CP(f),j]})}try{const{data:p,error:y}=await K(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Vt});if(y)throw y;if(!p||!p.session||!p.user){const w=new bs;return this._returnResult({data:{user:null,session:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:y})}catch(p){if(q(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,s,o,a,l,c,u,d,h,m,f;let x,p;if("message"in t)x=t.message,p=t.signature;else{const{chain:y,wallet:w,statement:g,options:b}=t;let _;if(Fe())if(typeof w=="object")_=w;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),g?{statement:g}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)x=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),p=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=j}}try{const{data:y,error:w}=await K(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:qn(p)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Vt});if(w)throw w;if(!y||!y.session||!y.user){const g=new bs;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(q(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await Dn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Vt});if(await Gr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const l=new bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(q(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:a}=t,l=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Vt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new bs;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(q(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,o,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await _s(this.storage,this.storageKey));const{error:h}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new $i("You must provide either an email or phone number.")}catch(l){if(q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Vt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,o,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await _s(this.storage,this.storageKey));const u=await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:wP});return!((o=u.data)===null||o===void 0)&&o.url&&Fe()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(q(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ft;const{error:s}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(q(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:a}=await K(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:a,error:l}=await K(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new $i("You must provide either an email or phone number and a type")}catch(r){if(q(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Dn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Su:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Dn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=ku()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=gP(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:en}):await this._useSession(async r=>{var n,s,o;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ft}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:en})})}catch(r){if(q(r))return KA(r)&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new ft;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await _s(this.storage,this.storageKey));const{data:u,error:d}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:en});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(q(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ft;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:a}=Eu(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(q(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ft;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(q(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Fe())throw new Mi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Cg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Cg("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new Mi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const f=m-d;f*1e3<=Rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const x=m-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:p,error:y}=await this._getUser(o);if(y)throw y;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:m,refresh_token:a,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(q(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Dn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(WA(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=rP(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await _s(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(q(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(q(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var a,l,c,u,d;const{data:h,error:m}=o;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Fe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(q(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Vt}),{data:m,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new bs}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:f}))}catch(s){if(q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)throw a;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(q(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await aP(async s=>(s>0&&await oP(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Vt})),(s,o)=>{const a=200*Math.pow(2,s);return o&&Nu(o)&&Date.now()+a-n<Rs})}catch(n){if(this._debug(r,"error",n),q(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Fe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Dn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Dn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await As(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:ku()}else if(s&&!s.user&&!s.user){const a=await Dn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Gr(this.storage,this.storageKey+"-user"),await As(this.storage,this.storageKey,s)):s.user=ku()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Su;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Su}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Nu(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Nc;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new ft;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),q(o)){const a={data:null,error:o};return Nu(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await As(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Og(s);await As(this.storage,this.storageKey,o)}else{const s=Og(r);await As(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Gr(this.storage,this.storageKey),await Gr(this.storage,this.storageKey+"-code-verifier"),await Gr(this.storage,this.storageKey+"-user"),this.userStorage&&await Gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rs}ms, refresh threshold is ${sh} ticks`),s<=sh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Lb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await _s(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await K(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await K(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(q(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?LP(t.webauthn.credential_response):$P(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(q(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:IP(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:DP(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(q(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Eu(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await K(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ft})})}catch(r){if(q(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ft});const a=await K(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Fe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(q(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ft});const a=await K(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Fe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(q(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await K(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ft})})}catch(t){if(q(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await K(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new ft})})}catch(r){if(q(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+qA>s)return n;const{data:o,error:a}=await K(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:x}=await this.getSession();if(x||!f.session)return this._returnResult({data:null,error:x});n=f.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=Eu(n);r!=null&&r.allowExpired||fP(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:o,header:s,signature:a},error:null}}const d=mP(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,eP(`${l}.${c}`)))throw new ih("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(n){if(q(n))return this._returnResult({data:null,error:n});throw n}}}Fa.nextInstanceID={};const GP=Fa;class WP extends GP{constructor(t){super(t)}}class KP{constructor(t,r,n){var s,o,a;this.supabaseUrl=t,this.supabaseKey=r;const l=FA(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:PA,realtime:IA,auth:Object.assign(Object.assign({},OA),{storageKey:c}),global:AA},d=UA(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=$A(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new zR(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new CA(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new MR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:a,flowType:l,lock:c,debug:u,throwOnError:d},h,m){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new WP({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:l,lock:c,debug:u,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new sA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const QP=(e,t,r)=>new KP(e,t,r);function JP(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}JP()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const YP="https://dvdvoyuwhazujyrcjtfs.supabase.co",XP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR2ZHZveXV3aGF6dWp5cmNqdGZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1NzY2MzMsImV4cCI6MjA3OTE1MjYzM30.zIVzro4VkgRmc9PtGfOJZS2tJxdePVpH8hYkzMyLlVE",Y=QP(YP,XP);async function ZP(e){const{data:t,error:r}=await Y.from("profiles").insert(e).select().single();return r?(console.error("Error creating profile:",r),null):t}async function Oo(e){const{data:t,error:r}=await Y.from("profiles").select("*").eq("email",e).single();return r?(console.error("Error fetching profile:",r),null):t}async function Ec(e,t){const{data:r,error:n}=await Y.from("profiles").update({...t,updated_at:new Date().toISOString()}).eq("email",e).select().single();return n?(console.error("Error updating profile:",n),null):r}async function eO(e){const t=await Oo(e);t&&await Ec(e,{glow_days:(t.glow_days||0)+1})}async function tO(e){const t=await Oo(e);t&&await Ec(e,{check_ins:(t.check_ins||0)+1})}async function rO(e){const t=await Oo(e);t&&await Ec(e,{looks_created:(t.looks_created||0)+1})}async function nO(e){const{data:t,error:r}=await Y.from("hair_check_ins").insert(e).select().single();return r?(console.error("Error saving hair check-in:",r),null):t}async function sO(e){const{error:t}=await Y.from("haircut_recommendations").insert({user_email:e.user_email,face_shape:e.face_shape,cut_name:e.cut_name,description:e.description,why_it_works:e.why_it_works,styling_tips:e.styling_tips,image_url:e.image_url,created_at:new Date().toISOString()});return t?(console.error("Error saving haircut recommendation:",t),!1):!0}async function oO(e,t=10){const{data:r,error:n}=await Y.from("haircut_recommendations").select("*").eq("user_email",e).order("created_at",{ascending:!1}).limit(t);return n?(console.error("Error fetching haircut recommendations:",n),[]):r||[]}async function aO(e){const{data:t,error:r}=await Y.from("outfits").insert(e).select().single();return r?(console.error("Error saving outfit:",r),null):t}async function iO(e){const{data:t,error:r}=await Y.from("closet_items").insert(e).select().single();return r?(console.error("Error saving closet item:",r),null):t}async function Ub(e){const{data:t,error:r}=await Y.from("profiles").select("id").eq("email",e).single();if(r||!t)return console.error("Error fetching profile:",r),[];const{data:n,error:s}=await Y.from("closet_items").select("*").eq("profile_id",t.id).order("created_at",{ascending:!1});return s?(console.error("Error fetching closet items:",s),[]):n||[]}async function lO(e,t){const{error:r}=await Y.from("outfits").update({is_favorite:t}).eq("id",e);return r?(console.error("Error toggling favorite:",r),!1):!0}async function cO(e,t,r=10){let n=Y.from("analysis_history").select("*").eq("profile_id",e).order("created_at",{ascending:!1}).limit(r);t&&(n=n.eq("analysis_type",t));const{data:s,error:o}=await n;return o?(console.error("Error fetching analysis history:",o),[]):s||[]}async function uO(e,t){const{error:r}=await Y.from("outfit_usage").insert({outfit_id:e,profile_id:t});return r?(console.error("Error recording outfit usage:",r),!1):!0}async function dO(e,t=5){const{data:r,error:n}=await Y.from("outfit_stats").select("*").eq("profile_id",e).order("usage_count",{ascending:!1}).limit(t);return n?(console.error("Error fetching most used outfits:",n),[]):r||[]}async function hO(e){const{error:t}=await Y.from("weekly_planner").upsert({profile_id:e.profile_id,outfit_id:e.outfit_id,date:e.date,day_of_week:e.day_of_week,notes:e.notes},{onConflict:"profile_id,date"});return t?(console.error("Error saving weekly planner:",t),!1):!0}async function fO(e,t,r){const{data:n,error:s}=await Y.from("weekly_planner").select(`
      *,
      outfits (*)
    `).eq("profile_id",e).gte("date",t).lte("date",r).order("date",{ascending:!0});return s?(console.error("Error fetching weekly planner:",s),[]):n||[]}async function mO(e){const{error:t}=await Y.from("weekly_planner").delete().eq("id",e);return t?(console.error("Error deleting planner entry:",t),!1):!0}async function pO(e){const{error:t}=await Y.from("reminders").insert(e);return t?(console.error("Error saving reminder:",t),!1):!0}async function gO(e,t=!0){let r=Y.from("reminders").select("*").eq("profile_id",e);t&&(r=r.eq("is_active",!0));const{data:n,error:s}=await r.order("created_at",{ascending:!1});return s?(console.error("Error fetching reminders:",s),[]):n||[]}async function vO(e,t){const{error:r}=await Y.from("reminders").update({is_active:t}).eq("id",e);return r?(console.error("Error toggling reminder:",r),!1):!0}async function yO(e){const{error:t}=await Y.from("reminders").delete().eq("id",e);return t?(console.error("Error deleting reminder:",t),!1):!0}const pe=CR()(AR((e,t)=>({profile:null,isLoading:!1,setProfile:async r=>{e({isLoading:!0});try{const n=await ZP({email:r.email,name:r.name,face_shape:r.faceShape||null,skin_tone:r.skinTone||null,photo_url:r.photoUrl||null,analysis_confidence:r.analysisConfidence||null,glow_days:r.stats.glowDays||0,check_ins:r.stats.checkIns||0,looks_created:r.stats.looksCreated||0});e(n?{profile:{...r,id:n.id,stats:{glowDays:n.glow_days,checkIns:n.check_ins,looksCreated:n.looks_created}}}:{profile:r})}catch(n){console.error("Error creating profile in Supabase:",n),e({profile:r})}finally{e({isLoading:!1})}},loadProfile:async r=>{e({isLoading:!0});try{const n=await Oo(r);n&&e({profile:{id:n.id,email:n.email,name:n.name,faceShape:n.face_shape,skinTone:n.skin_tone,photoUrl:n.photo_url||void 0,analysisConfidence:n.analysis_confidence||void 0,joinedDate:n.created_at,stats:{glowDays:n.glow_days,checkIns:n.check_ins,looksCreated:n.looks_created}}})}catch(n){console.error("Error loading profile from Supabase:",n)}finally{e({isLoading:!1})}},updateProfile:async r=>{const n=t().profile;if(n){e({isLoading:!0});try{const s={};r.name&&(s.name=r.name),r.faceShape&&(s.face_shape=r.faceShape),r.skinTone&&(s.skin_tone=r.skinTone),r.photoUrl&&(s.photo_url=r.photoUrl),r.analysisConfidence&&(s.analysis_confidence=r.analysisConfidence);const o=await Ec(n.email,s);e(o?{profile:{...n,...r}}:{profile:n?{...n,...r}:null})}catch(s){console.error("Error updating profile in Supabase:",s),e({profile:n?{...n,...r}:null})}finally{e({isLoading:!1})}}},updateStats:async r=>{const n=t().profile;if(!n)return;const s={...n.stats,...r};try{r.glowDays!==void 0&&r.glowDays>n.stats.glowDays&&await eO(n.email),r.checkIns!==void 0&&r.checkIns>n.stats.checkIns&&await tO(n.email),r.looksCreated!==void 0&&r.looksCreated>n.stats.looksCreated&&await rO(n.email),e({profile:{...n,stats:s}})}catch(o){console.error("Error updating stats in Supabase:",o),e({profile:{...n,stats:s}})}},clearProfile:()=>e({profile:null})}),{name:"glow-user-profile"})),xO=()=>{const e=Ue();return pe(t=>t.profile),i.jsxs("div",{className:"min-h-screen gradient-glow flex flex-col items-center justify-center p-6 overflow-hidden relative",children:[i.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-primary opacity-20 rounded-full blur-3xl animate-float"}),i.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-gradient-accent opacity-20 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),i.jsxs("div",{className:"max-w-md w-full space-y-8 relative z-10",children:[i.jsxs("div",{className:"text-center space-y-4 animate-fade-in",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-primary shadow-glow mb-4 animate-float",children:i.jsx(he,{className:"w-12 h-12 text-primary-foreground"})}),i.jsx("h1",{className:"text-5xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Glow UP"}),i.jsx("p",{className:"text-lg text-foreground/80 max-w-sm mx-auto",children:"Seu guia de beleza personalizado que une skincare, cabelo e estilo"})]}),i.jsxs("div",{className:"space-y-3 animate-fade-in",style:{animationDelay:"0.2s"},children:[i.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl bg-card/50 backdrop-blur-sm border border-primary/20 shadow-soft",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(mr,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Glow Skin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Rotina de skincare personalizada"})]})]}),i.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl bg-card/50 backdrop-blur-sm border border-secondary/20 shadow-soft",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary/10 flex items-center justify-center",children:i.jsx(yo,{className:"w-6 h-6 text-secondary-foreground"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Glow Hair"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Sugestes para valorizar seu cabelo"})]})]}),i.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl bg-card/50 backdrop-blur-sm border border-accent/20 shadow-soft",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center",children:i.jsx(xn,{className:"w-6 h-6 text-accent-foreground"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Glow Style"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looks que favorecem voc"})]})]})]}),i.jsxs("div",{className:"space-y-3 animate-fade-in",style:{animationDelay:"0.4s"},children:[i.jsxs(z,{onClick:()=>e("/register"),className:"w-full bg-gradient-primary hover:opacity-90 transition-opacity shadow-medium text-lg py-6",size:"lg",children:["Comear agora",i.jsx(Ra,{className:"ml-2 w-5 h-5"})]}),i.jsx(z,{onClick:()=>e("/login"),variant:"outline",className:"w-full border-primary/20 hover:bg-primary/5 text-lg py-6",size:"lg",children:"J tenho uma conta"}),i.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Descubra o que mais valoriza sua beleza natural "})]})]})]})},Or=v.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Or.displayName="Input";const D=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));D.displayName="Card";const wO=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));wO.displayName="CardHeader";const bO=v.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));bO.displayName="CardTitle";const _O=v.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));_O.displayName="CardDescription";const jO=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ee("p-6 pt-0",e),...t}));jO.displayName="CardContent";const SO=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ee("flex items-center p-6 pt-0",e),...t}));SO.displayName="CardFooter";const NO=()=>{const e=Ue(),{toast:t}=at(),r=pe(c=>c.setProfile),[n,s]=v.useState(""),[o,a]=v.useState(!1),l=async c=>{if(c.preventDefault(),!n.trim()){t({title:"Email obrigatrio",description:"Por favor, insira seu email para continuar.",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){t({title:"Email invlido",description:"Por favor, insira um email vlido.",variant:"destructive"});return}a(!0);try{const d=await Oo(n.toLowerCase().trim());d?(await r({name:d.name,email:d.email,gender:d.gender,faceShape:d.face_shape,skinTone:d.skin_tone,photoUrl:d.photo_url||void 0,analysisConfidence:d.analysis_confidence||void 0,joinedDate:d.created_at,stats:{glowDays:d.glow_days||0,checkIns:d.check_ins||0,looksCreated:d.looks_created||0}}),t({title:"Login realizado! ",description:`Bem-vindo${d.gender==="feminino"?"a":""} de volta, ${d.name}!`}),setTimeout(()=>{e("/dashboard")},200)):t({title:"Conta no encontrada",description:"Nenhuma conta encontrada com este email. Deseja criar uma conta?",variant:"destructive"})}catch(d){console.error("Erro ao fazer login:",d),t({title:"Erro ao fazer login",description:"Tente novamente em alguns instantes.",variant:"destructive"})}finally{a(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-glow flex items-center justify-center p-6",children:i.jsxs(D,{className:"w-full max-w-md p-8 shadow-glow border-primary/20 bg-card/95 backdrop-blur-sm",children:[i.jsxs("div",{className:"text-center space-y-4 mb-8",children:[i.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-primary flex items-center justify-center shadow-glow animate-glow-pulse",children:i.jsx(he,{className:"w-10 h-10 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Glow UP"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Entre para brilhar ainda mais! "})]})]}),i.jsxs("form",{onSubmit:l,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ex,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(Or,{id:"email",type:"email",placeholder:"seu@email.com",value:n,onChange:c=>s(c.target.value),className:"pl-10 h-12 border-primary/20 focus:border-primary",disabled:o})]})]}),i.jsx(z,{type:"submit",className:"w-full h-12 text-lg shadow-soft bg-gradient-primary hover:opacity-90",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Entrando..."]}):i.jsxs(i.Fragment,{children:["Entrar",i.jsx(Ra,{className:"w-5 h-5 ml-2"})]})})]}),i.jsxs("div",{className:"relative my-8",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-border"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"ou"})})]}),i.jsxs(z,{type:"button",variant:"outline",className:"w-full h-12 border-primary/20 hover:bg-primary/5",onClick:()=>e("/register"),children:[i.jsx(ek,{className:"w-5 h-5 mr-2"}),"Criar nova conta"]}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-6",children:"Ao entrar, voc concorda com nossos termos de uso e poltica de privacidade"})]})})},EO=()=>{const e=Ue(),{toast:t}=at(),[r,n]=v.useState(""),[s,o]=v.useState(""),[a,l]=v.useState(!1),c=async u=>{if(u.preventDefault(),!r.trim()||!s.trim()){t({title:"Campos obrigatrios",description:"Por favor, preencha nome e email.",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)){t({title:"Email invlido",description:"Por favor, insira um email vlido.",variant:"destructive"});return}l(!0);try{if(await Oo(s.toLowerCase().trim())){t({title:"Email j cadastrado",description:"Este email j possui uma conta. Faa login!",variant:"destructive"}),l(!1);return}e("/onboarding",{state:{name:r.trim(),email:s.toLowerCase().trim()}})}catch(h){console.error("Erro ao verificar email:",h),t({title:"Erro ao verificar email",description:"Tente novamente em alguns instantes.",variant:"destructive"}),l(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-glow flex items-center justify-center p-6",children:i.jsxs(D,{className:"w-full max-w-md p-8 shadow-glow border-primary/20 bg-card/95 backdrop-blur-sm",children:[i.jsxs("div",{className:"text-center space-y-4 mb-8",children:[i.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-primary flex items-center justify-center shadow-glow animate-glow-pulse",children:i.jsx(he,{className:"w-10 h-10 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Glow UP"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Crie sua conta e comece a brilhar! "})]})]}),i.jsxs("form",{onSubmit:c,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Nome completo"}),i.jsxs("div",{className:"relative",children:[i.jsx(hc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(Or,{id:"name",type:"text",placeholder:"Seu nome",value:r,onChange:u=>n(u.target.value),className:"pl-10 h-12 border-primary/20 focus:border-primary",disabled:a})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ex,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(Or,{id:"email",type:"email",placeholder:"seu@email.com",value:s,onChange:u=>o(u.target.value),className:"pl-10 h-12 border-primary/20 focus:border-primary",disabled:a})]})]}),i.jsx(z,{type:"submit",className:"w-full h-12 text-lg shadow-soft bg-gradient-primary hover:opacity-90",disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Verificando..."]}):i.jsxs(i.Fragment,{children:["Continuar",i.jsx(Ra,{className:"w-5 h-5 ml-2"})]})})]}),i.jsxs("div",{className:"relative my-8",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-border"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"ou"})})]}),i.jsxs(z,{type:"button",variant:"outline",className:"w-full h-12 border-primary/20 hover:bg-primary/5",onClick:()=>e("/login"),children:[i.jsx(qE,{className:"w-5 h-5 mr-2"}),"J tenho uma conta"]}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-6",children:"Ao criar uma conta, voc concorda com nossos termos de uso e poltica de privacidade"})]})})};var Fg;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Fg||(Fg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zg;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(zg||(zg={}));var Bg;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Bg||(Bg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=["user","model","function","system"];var Hg;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Hg||(Hg={}));var qg;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(qg||(qg={}));var Gg;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Gg||(Gg={}));var Wg;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Wg||(Wg={}));var ua;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(ua||(ua={}));var Kg;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Kg||(Kg={}));var Qg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Qg||(Qg={}));var Jg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Jg||(Jg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Es extends Je{constructor(t,r){super(t),this.response=r}}class Fb extends Je{constructor(t,r,n,s){super(t),this.status=r,this.statusText=n,this.errorDetails=s}}class wn extends Je{}class zb extends Je{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="https://generativelanguage.googleapis.com",CO="v1beta",TO="0.24.1",RO="genai-js";var ls;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ls||(ls={}));class AO{constructor(t,r,n,s,o){this.model=t,this.task=r,this.apiKey=n,this.stream=s,this.requestOptions=o}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||CO;let o=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||kO}/${n}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function PO(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${RO}/${TO}`),t.join(" ")}async function OO(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",PO(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(s){throw new wn(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${s.message}`)}for(const[s,o]of n.entries()){if(s==="x-goog-api-key")throw new wn(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new wn(`Header name ${s} can only be set using the apiClient field`);r.append(s,o)}}return r}async function IO(e,t,r,n,s,o){const a=new AO(e,t,r,n,o);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},MO(o)),{method:"POST",headers:await OO(a),body:s})}}async function ti(e,t,r,n,s,o={},a=fetch){const{url:l,fetchOptions:c}=await IO(e,t,r,n,s,o);return DO(l,c,a)}async function DO(e,t,r=fetch){let n;try{n=await r(e,t)}catch(s){LO(s,e)}return n.ok||await $O(n,e),n}function LO(e,t){let r=e;throw r.name==="AbortError"?(r=new zb(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof Fb||e instanceof wn||(r=new Je(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function $O(e,t){let r="",n;try{const s=await e.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,n=s.error.details)}catch{}throw new Fb(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function MO(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),sl(e.candidates[0]))throw new Es(`${Yr(e)}`,e);return UO(e)}else if(e.promptFeedback)throw new Es(`Text not available. ${Yr(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),sl(e.candidates[0]))throw new Es(`${Yr(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Yg(e)[0]}else if(e.promptFeedback)throw new Es(`Function call not available. ${Yr(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),sl(e.candidates[0]))throw new Es(`${Yr(e)}`,e);return Yg(e)}else if(e.promptFeedback)throw new Es(`Function call not available. ${Yr(e)}`,e)},e}function UO(e){var t,r,n,s;const o=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.text&&o.push(a.text),a.executableCode&&o.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&o.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function Yg(e){var t,r,n,s;const o=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.functionCall&&o.push(a.functionCall);if(o.length>0)return o}const FO=[ua.RECITATION,ua.SAFETY,ua.LANGUAGE];function sl(e){return!!e.finishReason&&FO.includes(e.finishReason)}function Yr(e){var t,r,n;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const o=e.candidates[0];sl(o)&&(s+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(s+=`: ${o.finishMessage}`))}return s}function za(e){return this instanceof za?(this.v=e,this):new za(e)}function zO(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(m){n[m]&&(s[m]=function(f){return new Promise(function(x,p){o.push([m,f,x,p])>1||l(m,f)})})}function l(m,f){try{c(n[m](f))}catch(x){h(o[0][3],x)}}function c(m){m.value instanceof za?Promise.resolve(m.value.v).then(u,d):h(o[0][2],m)}function u(m){l("next",m)}function d(m){l("throw",m)}function h(m,f){m(f),o.shift(),o.length&&l(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function BO(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=qO(t),[n,s]=r.tee();return{stream:HO(n),response:VO(s)}}async function VO(e){const t=[],r=e.getReader();for(;;){const{done:n,value:s}=await r.read();if(n)return qf(GO(t));t.push(s)}}function HO(e){return zO(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:s}=yield za(r.read());if(s)break;yield yield za(qf(n))}})}function qO(e){const t=e.getReader();return new ReadableStream({start(n){let s="";return o();function o(){return t.read().then(({value:a,done:l})=>{if(l){if(s.trim()){n.error(new Je("Failed to parse stream"));return}n.close();return}s+=a;let c=s.match(Xg),u;for(;c;){try{u=JSON.parse(c[1])}catch{n.error(new Je(`Error parsing JSON response: "${c[1]}"`));return}n.enqueue(u),s=s.substring(c[0].length),c=s.match(Xg)}return o()}).catch(a=>{let l=a;throw l.stack=a.stack,l.name==="AbortError"?l=new zb("Request aborted when reading from the stream"):l=new Je("Error reading from the stream"),l})}}})}function GO(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let s=0;for(const o of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:s}),r.candidates[s].citationMetadata=o.citationMetadata,r.candidates[s].groundingMetadata=o.groundingMetadata,r.candidates[s].finishReason=o.finishReason,r.candidates[s].finishMessage=o.finishMessage,r.candidates[s].safetyRatings=o.safetyRatings,o.content&&o.content.parts){r.candidates[s].content||(r.candidates[s].content={role:o.content.role||"user",parts:[]});const a={};for(const l of o.content.parts)l.text&&(a.text=l.text),l.functionCall&&(a.functionCall=l.functionCall),l.executableCode&&(a.executableCode=l.executableCode),l.codeExecutionResult&&(a.codeExecutionResult=l.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),r.candidates[s].content.parts.push(a)}s++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(e,t,r,n){const s=await ti(t,ls.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return BO(s)}async function Vb(e,t,r,n){const o=await(await ti(t,ls.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:qf(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Ba(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return WO(t)}function WO(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,s=!1;for(const o of e)"functionResponse"in o?(r.parts.push(o),s=!0):(t.parts.push(o),n=!0);if(n&&s)throw new Je("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!s)throw new Je("No content is provided for sending chat message.");return n?t:r}function KO(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new wn("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(s)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const o=Ba(e);n.contents=[o]}return{generateContentRequest:n}}function Zg(e){let t;return e.contents?t=e:t={contents:[Ba(e)]},e.systemInstruction&&(t.systemInstruction=Hb(e.systemInstruction)),t}function QO(e){return typeof e=="string"||Array.isArray(e)?{content:Ba(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],JO={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function YO(e){let t=!1;for(const r of e){const{role:n,parts:s}=r;if(!t&&n!=="user")throw new Je(`First content should be with role 'user', got ${n}`);if(!Vg.includes(n))throw new Je(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(Vg)}`);if(!Array.isArray(s))throw new Je("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Je("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of s)for(const c of ev)c in l&&(o[c]+=1);const a=JO[n];for(const l of ev)if(!a.includes(l)&&o[l]>0)throw new Je(`Content with role '${n}' can't contain '${l}' part`);t=!0}}function tv(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="SILENT_ERROR";class XO{constructor(t,r,n,s={}){this.model=r,this.params=n,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(YO(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,s,o,a,l,c;await this._sendPromise;const u=Ba(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),r);let m;return this._sendPromise=this._sendPromise.then(()=>Vb(this._apiKey,this.model,d,h)).then(f=>{var x;if(tv(f.response)){this._history.push(u);const p=Object.assign({parts:[],role:"model"},(x=f.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(p)}else{const p=Yr(f.response);p&&console.warn(`sendMessage() was unsuccessful. ${p}. Inspect response object for details.`)}m=f}).catch(f=>{throw this._sendPromise=Promise.resolve(),f}),await this._sendPromise,m}async sendMessageStream(t,r={}){var n,s,o,a,l,c;await this._sendPromise;const u=Ba(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),r),m=Bb(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>m).catch(f=>{throw new Error(rv)}).then(f=>f.response).then(f=>{if(tv(f)){this._history.push(u);const x=Object.assign({},f.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Yr(f);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(f=>{f.message!==rv&&console.error(f)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(e,t,r,n){return(await ti(t,ls.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(e,t,r,n){return(await ti(t,ls.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function tI(e,t,r,n){const s=r.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await ti(t,ls.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=Hb(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const s=Zg(t),o=Object.assign(Object.assign({},this._requestOptions),r);return Vb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),o)}async generateContentStream(t,r={}){var n;const s=Zg(t),o=Object.assign(Object.assign({},this._requestOptions),r);return Bb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),o)}startChat(t){var r;return new XO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=KO(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return ZO(this.apiKey,this.model,n,s)}async embedContent(t,r={}){const n=QO(t),s=Object.assign(Object.assign({},this._requestOptions),r);return eI(this.apiKey,this.model,n,s)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return tI(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new Je("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new nv(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new wn("Cached content must contain a `name` field.");if(!t.model)throw new wn("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const a of s)if(r!=null&&r[a]&&t[a]&&(r==null?void 0:r[a])!==t[a]){if(a==="model"){const l=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===c)continue}throw new wn(`Different value for "${a}" specified in modelParams (${r[a]}) and cachedContent (${t[a]})`)}const o=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new nv(this.apiKey,o,n)}}const da="AIzaSyCgZ70G1mn0EsiReEZENQ2JaUet8ir6LrU";console.log(" Verificando API Key do Gemini...");console.log("API Key existe?",!!da);console.log("API Key (primeiros 10 chars):",da==null?void 0:da.substring(0,10));console.log(" Google Gemini AI configurado e pronto!");const nt=new rI(da);console.log("genAI inicializado?",!!nt);async function qb(e){if(!nt)return console.warn(" Usando modo demo (API no configurada)"),sv();try{console.log(" Iniciando anlise com Google Gemini AI...");const t=nt.getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{temperature:.1,topP:.8,topK:20}}),r=`Voc  um especialista em anlise facial e colorimetria pessoal. Analise esta foto com MXIMA PRECISO usando critrios objetivos.

 FORMATO DO ROSTO - Analise propores e caractersticas:
Escolha APENAS UM entre:

 "oval"  Rosto equilibrado, comprimento 1.5x a largura, mandbula suave, testa levemente mais larga que o queixo
 "redondo"  Largura  comprimento, bochechas cheias, sem ngulos marcados, contornos arredondados
 "quadrado"  Testa, bochechas e mandbula com larguras similares, maxilar angular e definido, queixo reto
 "corao"  Testa ampla, mas do rosto proeminentes, queixo pontudo/fino, formato de V invertido
 "alongado"  Comprimento >> largura (2x), testa alta, queixo alongado, rosto estreito

 TOM DE PELE (Colorimetria) - Analise subtom e contraste:
Escolha APENAS UM entre:

 "primavera"  Subtom QUENTE/dourado + pele clara/mdia + veias esverdeadas + bronzeia com facilidade
 "vero"  Subtom FRIO/rosado + pele clara/mdia + veias azuladas + queima fcil ao sol
 "outono"  Subtom QUENTE/dourado + pele mdia/escura + tom acobreado/mbar + bronzeia bem
 "inverno"  Subtom FRIO + pele clara OU muito escura + alto contraste cabelo/pele + veias azuis

 INSTRUES:
1. Observe propores faciais com ateno matemtica
2. Analise o subtom da pele (quente vs frio) pela cor das veias e reao ao sol
3. Seja CONSISTENTE - mesma pessoa deve ter sempre o mesmo resultado
4. Confidence: 90-100 se a foto for clara, 70-89 se tiver dvidas, <70 se a foto for ruim

Responda APENAS com JSON vlido:
{
  "faceShape": "formato",
  "skinTone": "tom",
  "confidence": nmero,
  "analysis": "Justifique sua anlise citando caractersticas observadas (ex: 'Formato oval devido  mandbula suave e proporo 1.5:1. Tom primavera pelo subtom dourado visvel.')"
}`,n={inlineData:{data:e.split(",")[1],mimeType:"image/jpeg"}},a=(await(await t.generateContent([r,n])).response).text();console.log(" Resposta da IA recebida");const l=a.match(/\{[\s\S]*\}/);if(l){const c=JSON.parse(l[0]);return console.log(" Anlise realizada com sucesso via Gemini AI:",c),c}throw new Error("Formato de resposta invlido")}catch(t){return console.error(" Erro na anlise com Gemini, usando fallback:",t),sv()}}async function nI(e,t,r,n="casual",s,o,a){if(!nt)return ov(e,n);try{console.log(" Gerando look personalizado com IA..."),console.log(" Peas disponveis no closet:",(o==null?void 0:o.length)||0);const l=nt.getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{temperature:.1,topP:.5,topK:10}});console.log(" Usando modelo: gemini-2.5-flash");const c=r==="masculino"?"para homem, com peas masculinas (camisa, cala, sapato social/tnis/sapatos, acessrios masculinos)":"para mulher, com peas femininas (blusa, saia/cala, salto/sapatos/tnis, acessrios femininos)";let u="";if(o&&o.length>0){const x=o.map((k,T)=>`${T+1}. ${k.category} - ${k.color}`).join(`
`),p=o.some(k=>{const T=k.category.toLowerCase();return T.includes("vestido")||T.includes("macaco")||T.includes("macacao")}),y=o.find(k=>{const T=k.category.toLowerCase();return T.includes("vestido")||T.includes("macaco")||T.includes("macacao")}),w=o.find(k=>k.category.toLowerCase().includes("blusa")||k.category.toLowerCase().includes("camisa")||k.category.toLowerCase().includes("camiseta")||k.category.toLowerCase().includes("social")||k.category.toLowerCase().includes("top")),g=o.find(k=>k.category.toLowerCase().includes("cala")||k.category.toLowerCase().includes("saia")||k.category.toLowerCase().includes("short")||k.category.toLowerCase().includes("bermuda")),b=o.find(k=>k.category.toLowerCase().includes("sapato")||k.category.toLowerCase().includes("tnis")||k.category.toLowerCase().includes("sandlia")||k.category.toLowerCase().includes("bota")||k.category.toLowerCase().includes("chinelo")),_=y&&p&&n!=="casual"?`"${y.category} ${y.color}"`:w?`"${w.category} ${w.color}"`:'"PRECISA ADICIONAR: Blusa/Camisa"',N=y&&p&&n!=="casual"?'"no usar (pea nica substitui)"':g?`"${g.category} ${g.color}"`:'"PRECISA ADICIONAR: Cala/Saia"',j=b?`"${b.category} ${b.color}"`:'"PRECISA ADICIONAR: Sapatos"',S=r==="masculino"?'["relgio", "cinto"]':'["brincos", "bolsa"]',E=r==="masculino"?'"no aplicvel para homens"':'"make natural com batom nude"',C=r==="masculino"?'"cabelo penteado para o lado com pomada"':'"cabelo solto com ondas"',R=a&&a.length>0?`

 EVITE REPETIR: O cliente j usou recentemente estas combinaes (escolha peas DIFERENTES):
${a.map((k,T)=>`${T+1}. ${k.replace(/\|/g," + ")}`).join(`
`)}

 OBRIGATRIO: NO repita o TOP/CAMISA de nenhum look acima. Escolha uma PEA DIFERENTE para o top!`:"";u=`Voc  um personal stylist profissional especializado em colorimetria e harmonia de looks.

 PEAS DISPONVEIS NO CLOSET:
${x}

 PERFIL DO CLIENTE:
- Gnero: ${r}
- Tom de pele: ${e}
- Formato do rosto: ${t}
- Ocasio: ${n}
${R}

 DIRETRIZES DE STYLING:

1. COMBINAO DE CORES:
   - Considere o tom de pele ${e} do cliente
   - Use regras de harmonia: complementares, anlogas ou monocromticas
   - Cores neutras (preto, branco, bege, cinza) combinam com tudo
   - Evite mais de 3 cores no mesmo look
   
2. OCASIO ${n.toUpperCase()}:
   ${n==="casual"?`- Look confortvel e descontrado
   - Pode misturar texturas e estilos
   - Jeans, t-shirts, sneakers so bem-vindos`:""}${n==="formal"?`- Look elegante e sofisticado
   - Cores sbrias e peas estruturadas
   - Evite peas muito coloridas ou informais
   - Sapatos fechados obrigatrios`:""}${n==="festa"?`- Look impactante e estiloso
   - Pode ousar nas cores e acessrios
   - Tecidos com brilho ou textura especial
   - Sapatos elegantes obrigatrios`:""}

3. ESTILO E PROPORES:
   - Balance o look: se o top  largo, o bottom deve ser ajustado (e vice-versa)
   - Combine texturas e tecidos complementares
   - Considere a estao atual (Novembro - Primavera no BR)
   ${p?'- PEAS NICAS: Pode sugerir vestido/macaco SOZINHO (sem top+bottom). Neste caso, coloque a pea no campo "top" e escreva "no usar" no campo "bottom"':""}

4. REGRAS TCNICAS:
   - Use APENAS peas da lista acima
   - Se faltar categoria, escreva "PRECISA ADICIONAR: [tipo]"
   ${r==="masculino"?"- Cliente  HOMEM: no sugira maquiagem, batom, brincos ou bolsa":""}
   ${p?'- OPO VESTIDO/MACACO: Se sugerir pea nica completa, coloque no "top" e escreva "no usar" no "bottom"':""}
   ${a&&a.length>0?"-  CRTICO: NO repita tops/camisas dos looks recentes!":""}

Responda EXATAMENTE neste formato JSON (use as peas da lista):
{
  "occasion": "${n}",
  "outfit": {
    "top": ${_},
    "bottom": ${N},
    "shoes": ${j},
    "accessories": ${S}
  },
  "makeup": ${E},
  "hair": ${C},
  "reasoning": "Explique a HARMONIA DE CORES (ex: 'azul marinho + branco = contraste clssico e elegante'), ADEQUAO  OCASIO (ex: 'jeans + blazer = casual-chic perfeito para [ocasio]') e PROPORES (ex: 'cala slim + camisa ampla = balance de volumes')"
}`}else u=`Como personal stylist ${c}, sugira um look completo para comprar:

Gnero: ${r}
Tom de pele: ${e}
Formato do rosto: ${t}
Ocasio: ${n}
${r==="masculino"?`
IMPORTANTE: Cliente  HOMEM - no sugira maquiagem, batom, brincos ou bolsa!`:""}

Responda APENAS com JSON vlido:
{
  "occasion": "${n}",
  "outfit": {
    "top": "sugesto de compra especfica",
    "bottom": "sugesto de compra especfica",
    "shoes": "sugesto de compra especfica",
    "accessories": ${r==="masculino"?'["relgio", "cinto de couro"]':'["brincos delicados", "bolsa mdia"]'}
  },
  "makeup": ${r==="masculino"?'"no aplicvel"':'"make natural com batom nude"'},
  "hair": ${r==="masculino"?'"cabelo penteado ou undercut"':'"cabelo solto ou preso"'},
  "reasoning": "explicao do look"
}`;console.log(" Prompt completo enviado para IA:"),console.log(u),console.log("---");const m=(await(await l.generateContent(u)).response).text();console.log(" Resposta completa da IA:",m),console.log("---");const f=m.match(/\{[\s\S]*\}/);if(f){const x=JSON.parse(f[0]);return console.log(" Look gerado:",x),x}throw new Error("Formato de resposta invlido")}catch(l){return console.error("Erro na gerao de look:",l),console.log(" Usando fallback com peas do closet"),ov(e,n,r,o)}}function sv(){const e=["oval","redondo","quadrado","corao","alongado"],t=["primavera","vero","outono","inverno"],r=e[Math.floor(Math.random()*e.length)],n=t[Math.floor(Math.random()*t.length)];return{faceShape:r,skinTone:n,confidence:85+Math.floor(Math.random()*15),analysis:`Anlise detectou formato ${r} com tom de pele ${n}. Cores ${n==="primavera"||n==="outono"?"quentes":"frias"} so ideais para voc.`}}function ov(e,t,r="feminino",n){if(n&&n.length>0){console.log(" Buscando peas nas categorias:",n.map(p=>p.category));const d=n.find(p=>{const y=(p.category||"").toLowerCase();return y.includes("blusa")||y.includes("camisa")||y.includes("camiseta")||y.includes("top")||y.includes("regata")||y.includes("suter")}),h=n.find(p=>{const y=(p.category||"").toLowerCase();return y.includes("cala")||y.includes("saia")||y.includes("shorts")||y.includes("bermuda")||y.includes("legging")}),m=n.find(p=>{const y=(p.category||"").toLowerCase();return y.includes("sapato")||y.includes("tnis")||y.includes("sandlia")||y.includes("chinelo")||y.includes("bota")||y.includes("chinelo")});console.log(" Peas encontradas:"),console.log("  Top:",d?`${d.category} ${d.color}`:"no encontrado"),console.log("  Bottom:",h?`${h.category} ${h.color}`:"no encontrado"),console.log("  Shoes:",m?`${m.category} ${m.color}`:"no encontrado");const f=r==="masculino"?["Relgio","Cinto de couro"]:["Brincos delicados","Bolsa transversal"],x=r==="masculino"?"No aplicvel":`Base leve, blush ${e==="primavera"||e==="outono"?"pssego":"rosado"}, gloss nude`;return{occasion:t,outfit:{top:d?`${d.category} ${d.color}`:"ADICIONE: Blusa/Camisa",bottom:h?`${h.category} ${h.color}`:"ADICIONE: Cala/Saia",shoes:m?`${m.category} ${m.color}`:"ADICIONE: Sapatos",accessories:f},makeup:x,hair:"Ondas naturais soltas",reasoning:` Montei seu look com suas peas: ${d?d.category:"FALTA TOP"} + ${h?h.category:"FALTA BOTTOM"}. ${m?"":"Adicione sapatos ao closet!"}`}}const a=r==="masculino"?{casual:{top:"Camiseta bsica em cor neutra",bottom:"Cala jeans reta",shoes:"Tnis branco ou preto",accessories:["Relgio","Cinto de couro"]},formal:{top:"Camisa social lisa ou listrada",bottom:"Cala alfaiataria",shoes:"Sapato social marrom ou preto",accessories:["Relgio elegante","Gravata"]},festa:{top:"Camisa social premium",bottom:"Cala social slim fit",shoes:"Sapato social bico fino",accessories:["Relgio sofisticado","Cinto de couro"]}}:{casual:{top:"Blusa em tom que harmoniza com seu tom de pele",bottom:"Cala jeans de modelagem favorvel",shoes:"Tnis branco ou nude",accessories:["Brincos delicados","Bolsa transversal"]},formal:{top:"Blazer estruturado",bottom:"Cala alfaiataria ou saia midi",shoes:"Scarpin clssico",accessories:["Relgio elegante","Colar fino"]},festa:{top:"Vestido em cor que valoriza seu tom de pele",bottom:"Vestido midi ou longo",shoes:"Salto fino",accessories:["Clutch elegante","Brincos statement"]}},l=a[t]||a.casual;return{occasion:t,outfit:l,makeup:r==="masculino"?"No aplicvel":`Base leve, blush ${e==="primavera"||e==="outono"?"pssego":"rosado"}, gloss nude`,hair:r==="masculino"?"Cabelo penteado com gel ou pomada":"Ondas naturais soltas",reasoning:`Este look valoriza seu tom de pele ${e} e  perfeito para a ocasio.`}}async function sI(e){if(!nt)return{category:"Roupa",color:"A definir",description:"Pea adicionada ao closet"};try{console.log(" Analisando pea de roupa com IA...");const t=nt.getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{temperature:.2,topP:.8,topK:20}}),r=`Analise esta pea de roupa e identifique:

1. CATEGORIA: Escolha UMA das opes abaixo (use EXATAMENTE como est escrito):
   - Camisas (camisetas, camisas, regatas, moletons)
   - Camisas Sociais (camisas sociais, camisas de boto)
   - Blusas (blusas femininas, tops, bodies)
   - Calas (calas compridas, leggings)
   - Shorts/Bermudas (shorts, bermudas)
   - Sapatos (sapatos, tnis, sandlias, botas, chinelos, saltos)
   - Vestidos (vestidos apenas)
   - Macaces (macaces, jardineiras)
   - Casacos (casacos, jaquetas, blazers, suteres)
   - Acessrios (bolsas, cintos, chapus, culos, joias)

2. COR: Identifique a cor predominante (ex: azul, preto, branco, vermelho)

3. DESCRIO: Uma frase curta descrevendo o estilo da pea

IMPORTANTE: Use a categoria EXATAMENTE como est na lista (Camisas, Camisas Sociais, Blusas, Calas, Shorts/Bermudas, Sapatos, Vestidos, Macaces, Casacos, Acessrios).

Responda APENAS com JSON vlido:
{
  "category": "categoria exata da lista acima",
  "color": "cor predominante",
  "description": "descrio breve e objetiva"
}`,n={inlineData:{data:e.split(",")[1],mimeType:"image/jpeg"}},a=(await(await t.generateContent([r,n])).response).text();console.log(" Resposta da IA:",a);const l=a.match(/\{[\s\S]*\}/);if(l){const c=JSON.parse(l[0]);return console.log(" Pea identificada:",c),{category:c.category||"Roupa",color:c.color||"A definir",description:c.description||"Pea adicionada"}}throw new Error("Resposta invlida da IA")}catch(t){return console.error(" Erro ao analisar pea:",t),{category:"Roupa",color:"A definir",description:"Pea adicionada ao closet"}}}async function oI(e,t="feminino"){if(!nt)return av(e);try{console.log(" Buscando produtos de cabelo com IA...");const r=nt.getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{temperature:.4,topP:.9,topK:40}}),n={frizzy:"com frizz",oily:"oleoso",dry:"ressecado",perfect:"saudvel"},s=`Voc  um hair expert brasileiro especializado em cabelos ${t==="masculino"?"masculinos":"femininos"}.

 RECOMENDE 5-6 PRODUTOS REAIS para cabelo ${n[e]||e}:

 MARCAS DISPONVEIS NO BRASIL:
- Salon Line, L'Oral Professionnel, Elseve, TRESemm, Pantene, Seda, Dove
- Schwarzkopf, Kerastase, Wella, Aussie, OGX, Truss, Inoar, Skala, Novex

 PARA CADA PRODUTO INCLUA:
1. Nome EXATO e COMPLETO (ex: "Salon Line S.O.S Cachos Shampoo")
2. Marca
3. Descrio objetiva dos benefcios (mx 15 palavras)
4. Preo realista no mercado brasileiro

 DICAS DE USO (3-4 dicas):
- Como aplicar corretamente
- Frequncia de uso recomendada
- Combinaes eficazes entre produtos
- Erro comum a evitar

 IMPORTANTE:
- Produtos DEVEM existir e estar  venda no Brasil
- Use nomes OFICIAIS (no invente variaes)
- Adeque ao tipo de cabelo ${n[e]}
- Varie categorias: shampoo, condicionador, mscara, leave-in, finalizador

Responda APENAS com JSON vlido:
{
  "condition": "${n[e]}",
  "products": [
    {
      "name": "Nome completo oficial do produto",
      "brand": "Marca",
      "description": "Benefcio principal em 1 frase clara",
      "price": "R$ XX,XX"
    }
  ],
  "tips": ["Aplique shampoo apenas no couro cabeludo, massageando suavemente", "Use condicionador do meio s pontas, nunca na raiz", "Mscara 1-2x por semana para hidratao profunda", "Finalize com produto anti-frizz ainda com cabelo mido"]
}`,l=(await(await r.generateContent(s)).response).text();console.log(" Produtos recomendados:",l);const c=l.match(/\{[\s\S]*\}/);if(c){const u=JSON.parse(c[0]),d=await Promise.all(u.products.map(async h=>({...h,imageUrl:await aI(h.brand,h.name),buyUrl:`https://www.google.com/search?q=${encodeURIComponent(h.brand+" "+h.name+" comprar")}`})));return{condition:u.condition,products:d,tips:u.tips}}throw new Error("Formato invlido")}catch(r){return console.error(" Erro ao buscar produtos:",r),av(e)}}async function aI(e,t){const r={shampoo_gold:"https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=400&h=400&fit=crop",shampoo_blue:"https://images.unsplash.com/photo-1535585209827-a15fcdbc4c2d?w=400&h=400&fit=crop",shampoo_green:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=400&h=400&fit=crop",shampoo_white:"https://images.unsplash.com/photo-1571875257727-256c39da42af?w=400&h=400&fit=crop",conditioner:"https://images.unsplash.com/photo-1535585209827-a15fcdbc4c2d?w=400&h=400&fit=crop",mask:"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400&h=400&fit=crop",ampoule:"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=400&h=400&fit=crop",oil:"https://images.unsplash.com/photo-1608571423902-eed4a5ad8108?w=400&h=400&fit=crop",serum:"https://images.unsplash.com/photo-1570554886111-e80fcca6a029?w=400&h=400&fit=crop",spray:"https://images.unsplash.com/photo-1571781926291-c477ebfd024b?w=400&h=400&fit=crop",dry_shampoo:"https://images.unsplash.com/photo-1583241800698-fa9a5c169903?w=400&h=400&fit=crop",default:"https://images.unsplash.com/photo-1526947425960-945c6e72858f?w=400&h=400&fit=crop"},n=t.toLowerCase();return n.includes("shampoo")&&!n.includes("seco")?n.includes("detox")||n.includes("antifrizz")?r.shampoo_gold:n.includes("micelar")?r.shampoo_blue:r.shampoo_white:n.includes("condicionador")?r.conditioner:n.includes("mscara")?r.mask:n.includes("ampola")?r.ampoule:n.includes("leo")?r.oil:n.includes("srum")?r.serum:n.includes("leave-in")?r.spray:n.includes("seco")?r.dry_shampoo:r.default}function av(e,t){const r={frizzy:{condition:"com frizz",products:[{name:"Shampoo Antifrizz",brand:"L'Oral Elseve",description:"Controla o frizz e suaviza os fios",price:"R$ 18,90",imageUrl:"https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=400&h=400&fit=crop",buyUrl:"https://www.google.com/search?q=L%27Or%C3%A9al+Elseve+Antifrizz+comprar"},{name:"Condicionador Liso Intenso",brand:"Pantene",description:"Hidrata e disciplina cabelos rebeldes",price:"R$ 16,50",imageUrl:"https://images.unsplash.com/photo-1535585209827-a15fcdbc4c2d?w=400&h=400&fit=crop",buyUrl:"https://www.google.com/search?q=Pantene+Liso+Intenso+comprar"},{name:"Leave-in Antifrizz",brand:"TRESemm",description:"Proteo trmica e controle de frizz",price:"R$ 22,90",imageUrl:"https://images.unsplash.com/photo-1571781926291-c477ebfd024b?w=400&h=400&fit=crop",buyUrl:"https://www.google.com/search?q=TRESemm%C3%A9+Leave-in+Antifrizz+comprar"}],tips:["Aplique o leave-in com o cabelo mido","Evite gua muito quente no banho","Finalize com leo capilar nas pontas"]},oily:{condition:"oleoso",products:[{name:"Shampoo Detox",brand:"L'Oral Elseve",description:"Remove oleosidade e resduos",price:"R$ 19,90",imageUrl:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=400&h=400&fit=crop",buyUrl:"https://www.google.com/search?q=L%27Or%C3%A9al+Detox+comprar"},{name:"Shampoo Micelar",brand:"Pantene",description:"Limpa profundamente sem ressecar",price:"R$ 17,90",imageUrl:"https://images.unsplash.com/photo-1571875257727-256c39da42af?w=400&h=400&fit=crop",buyUrl:"https://www.google.com/search?q=Pantene+Micelar+comprar"},{name:"Shampoo a Seco",brand:"Batiste",description:"Absorve oleosidade entre lavagens",price:"R$ 29,90",imageUrl:"https://images.unsplash.com/photo-1583241800698-fa9a5c169903?w=400&h=400&fit=crop",buyUrl:"https://www.google.com/search?q=Batiste+Shampoo+Seco+comprar"}],tips:["Lave o cabelo dia sim, dia no","Aplique condicionador apenas no comprimento","Use shampoo a seco para emergncias"]},dry:{condition:"ressecado",products:[{name:"Mscara Reparao Total 5",brand:"L'Oral Elseve",description:"Hidratao profunda para cabelos danificados",price:"R$ 24,90",imageUrl:"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400&h=400&fit=crop",buyUrl:"https://www.google.com/search?q=L%27Or%C3%A9al+Repara%C3%A7%C3%A3o+Total+5+comprar"},{name:"Ampola Hidratao",brand:"Elseve",description:"Tratamento intensivo semanal",price:"R$ 8,90",imageUrl:"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=400&h=400&fit=crop",buyUrl:"https://www.google.com/search?q=Elseve+Ampola+Hidrata%C3%A7%C3%A3o+comprar"},{name:"leo de Argan",brand:"Salon Line",description:"Nutrio e brilho intenso",price:"R$ 15,90",imageUrl:"https://images.unsplash.com/photo-1608571423902-eed4a5ad8108?w=400&h=400&fit=crop",buyUrl:"https://www.google.com/search?q=Salon+Line+%C3%93leo+Argan+comprar"}],tips:["Faa hidratao profunda 1x por semana","Use ampola intensiva quinzenalmente","Finalize sempre com leo nas pontas"]},perfect:{condition:"saudvel",products:[{name:"Shampoo Manuteno",brand:"Pantene",description:"Mantm a sade dos fios",price:"R$ 16,90",imageUrl:"https://images.unsplash.com/photo-1571875257727-256c39da42af?w=400&h=400&fit=crop",buyUrl:"https://www.google.com/search?q=Pantene+comprar"},{name:"Mscara Nutritiva",brand:"L'Oral",description:"Nutrio semanal preventiva",price:"R$ 22,90",imageUrl:"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400&h=400&fit=crop",buyUrl:"https://www.google.com/search?q=L%27Or%C3%A9al+M%C3%A1scara+comprar"},{name:"Srum Protetor",brand:"TRESemm",description:"Proteo trmica diria",price:"R$ 19,90",imageUrl:"https://images.unsplash.com/photo-1570554886111-e80fcca6a029?w=400&h=400&fit=crop",buyUrl:"https://www.google.com/search?q=TRESemm%C3%A9+S%C3%A9rum+comprar"}],tips:["Continue com a rotina de cuidados","Hidratao leve 1x por semana","Corte as pontas a cada 3 meses"]}};return r[e]||r.perfect}async function iv(e,t,r="feminino"){if(!nt)return lv(e,t,r);try{console.log(" Buscando recomendao de corte com IA...");const n=nt.getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{temperature:.3,topP:.9,topK:40}}),s=r==="masculino"?"masculino":"feminino",a=`Voc  um hair stylist profissional. Recomende UM corte de cabelo ideal para:
- Formato de rosto: ${e}
- Condio do cabelo: ${{frizzy:"com frizz",oily:"oleoso",dry:"ressecado",perfect:"saudvel"}[t]||t}
- Gnero: ${s}

IMPORTANTE:
- Seja especfico com o nome do corte (ex: "Long Bob em Camadas", "Fade com Topete", "Pixie Texturizado")
- Explique POR QUE esse corte funciona para esse formato de rosto
- D dicas prticas de finalizao
- Use termos brasileiros e populares

Responda APENAS com JSON vlido:
{
  "cutName": "Nome do corte",
  "description": "Descrio de como  o corte em 1-2 frases",
  "whyItWorks": "Por que funciona para rosto ${e} em 1-2 frases",
  "stylingTips": ["dica 1", "dica 2", "dica 3"]
}`,u=(await(await n.generateContent(a)).response).text();console.log(" Corte recomendado:",u);const d=u.match(/\{[\s\S]*\}/);if(d){const h=JSON.parse(d[0]);return{...h,imageUrl:iI(h.cutName,r)}}throw new Error("Formato invlido")}catch(n){return console.error(" Erro ao buscar corte:",n),lv(e,t,r)}}function iI(e,t){const r=t==="masculino",n=e.toLowerCase();return r?n.includes("fade")||n.includes("degrad")?"https://images.unsplash.com/photo-1622286342621-4bd786c2447c?w=600&h=600&fit=crop":n.includes("pompadour")||n.includes("topete")?"https://images.unsplash.com/photo-1605497788044-5a32c7078486?w=600&h=600&fit=crop":n.includes("undercut")?"https://images.unsplash.com/photo-1503951914875-452162b0f3f1?w=600&h=600&fit=crop":"https://images.unsplash.com/photo-1621605815971-fbc98d665033?w=600&h=600&fit=crop":n.includes("bob")||n.includes("chanel")?"https://images.unsplash.com/photo-1580618672591-eb180b1a973f?w=600&h=600&fit=crop":n.includes("pixie")||n.includes("joozinho")?"https://images.unsplash.com/photo-1560264280-88b68371db39?w=600&h=600&fit=crop":n.includes("longo")||n.includes("camadas")?"https://images.unsplash.com/photo-1594744803329-e58b31de8bf5?w=600&h=600&fit=crop":n.includes("shag")||n.includes("repicado")?"https://images.unsplash.com/photo-1549236177-db20b8be05e8?w=600&h=600&fit=crop":"https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?w=600&h=600&fit=crop"}function lv(e,t,r){const a=r==="masculino"?{oval:{cutName:"Fade com Topete Texturizado",description:"Laterais bem degrad (fade) com volume e textura no topo, podendo variar o comprimento.",whyItWorks:"O rosto oval  verstil e permite diversos estilos. O contraste entre laterais curtas e topo volumoso valoriza suas propores.",imageUrl:"https://images.unsplash.com/photo-1622286342621-4bd786c2447c?w=600&h=600&fit=crop",stylingTips:["Use pomada ou cera modeladora para texturizar","Seque com secador apontando para cima","Apare as laterais a cada 2-3 semanas"]},redondo:{cutName:"Undercut com Franja Lateral",description:"Corte com laterais bem curtas e topo mais longo puxado para o lado, criando assimetria.",whyItWorks:"Alonga visualmente o rosto redondo atravs da altura no topo e da franja diagonal.",imageUrl:"https://images.unsplash.com/photo-1503951914875-452162b0f3f1?w=600&h=600&fit=crop",stylingTips:["Crie volume no topo com secador","Use pomada matte para efeito natural","Penteie para o lado, nunca para frente"]},quadrado:{cutName:"Pompadour Moderno",description:"Laterais curtas com topo volumoso penteado para trs ou para o lado, suavizando os ngulos.",whyItWorks:"O volume no topo suaviza a mandbula marcada e equilibra as propores do rosto quadrado.",imageUrl:"https://images.unsplash.com/photo-1605497788044-5a32c7078486?w=600&h=600&fit=crop",stylingTips:["Use pomada de fixao forte","Seque com escova para criar altura","Finalize com spray fixador"]},default:{cutName:"Corte Social Moderno",description:"Laterais e nuca curtas com topo mdio, verstil para diferentes finalizaes.",whyItWorks:" um corte clssico e verstil que funciona bem para a maioria dos formatos de rosto.",imageUrl:"https://images.unsplash.com/photo-1621605815971-fbc98d665033?w=600&h=600&fit=crop",stylingTips:["Adapte a finalizao ao seu estilo","Mantenha as laterais sempre aparadas","Use produtos leves no dia a dia"]}}:{oval:{cutName:"Long Bob em Camadas",description:"Corte na altura dos ombros com camadas suaves que criam movimento e leveza.",whyItWorks:"Valoriza o formato oval equilibrado, criando movimento sem esconder os contornos naturais.",imageUrl:"https://images.unsplash.com/photo-1580618672591-eb180b1a973f?w=600&h=600&fit=crop",stylingTips:["Finalize com escova ou babyliss para movimento","Use leave-in para proteger e dar brilho","Corte as pontas a cada 2-3 meses"]},redondo:{cutName:"Corte Longo com Franja Lateral",description:"Cabelo longo com corte em V e franja comprida diagonal, criando linhas verticais.",whyItWorks:"As linhas longas e a franja lateral alongam visualmente o rosto redondo.",imageUrl:"https://images.unsplash.com/photo-1594744803329-e58b31de8bf5?w=600&h=600&fit=crop",stylingTips:["Mantenha a franja sempre na diagonal","Evite volume nas laterais","Finalize com as pontas para dentro"]},quadrado:{cutName:"Shag com Camadas Repicadas",description:"Corte repicado com muito movimento e camadas em todo o comprimento, suavizando ngulos.",whyItWorks:"As camadas suaves quebram a rigidez da mandbula quadrada e adicionam feminilidade.",imageUrl:"https://images.unsplash.com/photo-1549236177-db20b8be05e8?w=600&h=600&fit=crop",stylingTips:["Finalize com difusor para textura natural","Use mousse para definir as camadas","Evite alisar completamente"]},default:{cutName:"Corte em Camadas Mdio",description:"Cabelo na altura dos ombros com camadas suaves que criam movimento.",whyItWorks:" um corte verstil e moderno que funciona bem para diversos formatos de rosto.",imageUrl:"https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?w=600&h=600&fit=crop",stylingTips:["Varie a finalizao conforme a ocasio","Hidrate regularmente para manter o brilho","Use protetor trmico sempre"]}};return a[e]||a.default}async function lI(e){if(!nt)return cv(e);try{console.log(" Analisando condio da pele com IA...");const t=nt.getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{temperature:.3,topP:.9,topK:40}}),r=`Baseado na seguinte descrio da pele: "${e}"

Analise e fornea em JSON:
{
  "skinType": "oleosa|seca|mista|normal|sensvel",
  "concerns": ["preocupao1", "preocupao2"],
  "recommendations": ["recomendao1", "recomendao2", "recomendao3"]
}

Seja especfico e objetivo nas recomendaes.`,o=(await(await t.generateContent(r)).response).text();console.log(" Resposta da anlise de pele:",o);const a=o.match(/\{[\s\S]*\}/);if(a){const l=JSON.parse(a[0]);return{skinType:l.skinType||"normal",concerns:l.concerns||[],recommendations:l.recommendations||[]}}throw new Error("Resposta invlida da IA")}catch(t){return console.error(" Erro ao analisar pele:",t),cv(e)}}function cv(e){const t=e.toLowerCase();return t.includes("oleosa")||t.includes("brilho")?{skinType:"oleosa",concerns:["Excesso de oleosidade","Poros dilatados","Tendncia a acne"],recommendations:["Use produtos oil-free e matificantes","Lave o rosto 2x ao dia com sabonete especfico","Use tnicos com cido saliclico"]}:t.includes("seca")||t.includes("ressecada")?{skinType:"seca",concerns:["Ressecamento","Descamao","Linhas finas"],recommendations:["Hidrate intensamente 2x ao dia","Use produtos com cido hialurnico","Evite gua muito quente no rosto"]}:{skinType:"normal",concerns:["Manuteno da sade da pele"],recommendations:["Mantenha rotina bsica de limpeza e hidratao","Use protetor solar diariamente","Hidrate bem e beba gua"]}}async function cI(e,t){if(!nt)return uv(e,t);try{console.log(" Buscando recomendaes de produtos para pele...");const r=nt.getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{temperature:.4,topP:.9,topK:40}}),n=`Para pele ${e} com as seguintes preocupaes: ${t.join(", ")}

Recomende 3-4 produtos de skincare disponveis no Brasil (marcas como Neutrogena, Cetaphil, La Roche-Posay, Vichy, The Ordinary, CeraVe).

Responda em JSON:
{
  "products": [
    {
      "name": "Nome do Produto",
      "brand": "Marca",
      "description": "Descrio curta do produto e benefcios",
      "buyUrl": "https://www.example.com",
      "price": "R$ XX,XX"
    }
  ],
  "tips": ["dica1", "dica2", "dica3"]
}`,a=(await(await r.generateContent(n)).response).text();console.log(" Resposta de produtos:",a);const l=a.match(/\{[\s\S]*\}/);if(l){const c=JSON.parse(l[0]);return{skinType:e,concerns:t,products:c.products||[],tips:c.tips||[]}}throw new Error("Resposta invlida da IA")}catch(r){return console.error(" Erro ao buscar produtos:",r),uv(e,t)}}function uv(e,t){const r=[];return e==="oleosa"?r.push({name:"Effaclar Gel de Limpeza",brand:"La Roche-Posay",description:"Gel de limpeza para pele oleosa que remove impurezas sem ressecar",buyUrl:"https://www.laroche-posay.com.br",price:"R$ 89,90"},{name:"Normaderm Phytosolution",brand:"Vichy",description:"Hidratante intensivo para pele oleosa com cido saliclico",buyUrl:"https://www.vichy.com.br",price:"R$ 119,90"},{name:"Niacinamide 10% + Zinc 1%",brand:"The Ordinary",description:"Srum que reduz oleosidade e minimiza poros",buyUrl:"https://www.sephora.com.br",price:"R$ 79,90"}):e==="seca"?r.push({name:"Toleriane Dermo-Limpador",brand:"La Roche-Posay",description:"Limpador suave que hidrata enquanto limpa",buyUrl:"https://www.laroche-posay.com.br",price:"R$ 94,90"},{name:"Hyalu B5 Srum",brand:"La Roche-Posay",description:"Srum com cido hialurnico para hidratao profunda",buyUrl:"https://www.laroche-posay.com.br",price:"R$ 189,90"},{name:"Natural Moisturizing Factors + HA",brand:"The Ordinary",description:"Creme hidratante com fatores naturais de hidratao",buyUrl:"https://www.sephora.com.br",price:"R$ 59,90"}):r.push({name:"Sabonete Facial Suave",brand:"Neutrogena",description:"Limpeza eficaz para todos os tipos de pele",buyUrl:"https://www.neutrogena.com.br",price:"R$ 34,90"},{name:"Hydra Genius Aloe Water",brand:"L'Oral Paris",description:"Hidratante leve com extrato de aloe vera",buyUrl:"https://www.lorealparis.com.br",price:"R$ 49,90"},{name:"Protetor Solar FPS 50",brand:"Cetaphil",description:"Proteo solar diria para todos os tipos de pele",buyUrl:"https://www.cetaphil.com.br",price:"R$ 79,90"}),{skinType:e,concerns:t,products:r,tips:["Mantenha uma rotina consistente de skincare","Use protetor solar todos os dias, mesmo em dias nublados","Beba pelo menos 2 litros de gua por dia","Durma bem - sua pele se regenera durante o sono"]}}const uI=()=>{const e=Ue(),t=Of(),{toast:r}=at(),n=pe(C=>C.setProfile),s=t.state,o=pe(C=>C.profile),[a,l]=v.useState(1),[c,u]=v.useState((s==null?void 0:s.name)||(o==null?void 0:o.name)||""),[d,h]=v.useState((s==null?void 0:s.email)||(o==null?void 0:o.email)||""),[m,f]=v.useState(""),[x,p]=v.useState(null),[y,w]=v.useState(!1),[g,b]=v.useState(null),[_,N]=v.useState(!1),j=C=>{var k;const R=(k=C.target.files)==null?void 0:k[0];if(R){const T=new FileReader;T.onloadend=()=>{p(T.result)},T.readAsDataURL(R)}},S=async(C=!1)=>{if(x){if(_&&g&&!C){l(2);return}w(!0);try{const R=await qb(x);b(R),N(!0),r({title:C?"Nova anlise concluda! ":"Anlise concluda! ",description:`Detectamos rosto ${R.faceShape} com tom ${R.skinTone}`}),setTimeout(()=>{l(2)},1500)}catch(R){console.error("Erro na anlise:",R),r({title:"Erro na anlise",description:"Vamos usar uma anlise padro. Voc pode refazer depois.",variant:"destructive"}),b({faceShape:"oval",skinTone:"primavera",confidence:75,analysis:"Anlise em modo demo"}),setTimeout(()=>{l(2)},1500)}finally{w(!1)}}},E=async()=>{if(a===1){if(!m){r({title:"Gnero obrigatrio",description:"Por favor, selecione seu gnero",variant:"destructive"});return}if(!x){r({title:"Foto obrigatria",description:"Por favor, tire uma selfie para anlise",variant:"destructive"});return}if(!g){S();return}l(2);return}a===2&&(g&&(await n({name:c.trim(),email:d.trim().toLowerCase(),gender:m,faceShape:g.faceShape,skinTone:g.skinTone,photoUrl:x||void 0,analysisConfidence:g.confidence,joinedDate:new Date().toISOString(),stats:{glowDays:1,checkIns:0,looksCreated:0}}),r({title:"Perfil criado com sucesso! ",description:`Bem-vindo${m==="feminino"?"a":""} ao Glow UP!`})),e("/dashboard",{replace:!0}))};return i.jsx("div",{className:"min-h-screen gradient-glow flex flex-col items-center justify-center p-6",children:i.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-primary shadow-glow mb-4 animate-float",children:i.jsx(he,{className:"w-8 h-8 text-primary-foreground"})}),i.jsx("h1",{className:"text-4xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Bem-vinda ao Glow UP"}),i.jsx("p",{className:"text-muted-foreground",children:"Vamos criar seu perfil de beleza personalizado"})]}),i.jsx("div",{className:"flex gap-2 justify-center",children:[1,2].map(C=>i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${C===a?"w-12 bg-gradient-primary":C<a?"w-8 bg-primary/50":"w-8 bg-border"}`},C))}),i.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Passo ",a," de 2"]}),i.jsxs(D,{className:"p-8 shadow-medium backdrop-blur-sm bg-card/80 border-primary/20",children:[a===1&&!m&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h2",{className:"text-2xl font-semibold",children:"Qual  o seu gnero?"}),i.jsx("p",{className:"text-muted-foreground",children:"Para recomendaes personalizadas"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("button",{type:"button",onClick:()=>f("masculino"),className:"p-6 rounded-2xl border-2 border-border bg-background hover:bg-primary/5 hover:border-primary transition-all text-center space-y-3",children:[i.jsx("div",{className:"text-5xl",children:""}),i.jsx("div",{className:"font-semibold",children:"Masculino"})]}),i.jsxs("button",{type:"button",onClick:()=>f("feminino"),className:"p-6 rounded-2xl border-2 border-border bg-background hover:bg-primary/5 hover:border-primary transition-all text-center space-y-3",children:[i.jsx("div",{className:"text-5xl",children:""}),i.jsx("div",{className:"font-semibold",children:"Feminino"})]})]})]}),a===1&&m&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h2",{className:"text-2xl font-semibold",children:"Tire uma selfie"}),i.jsx("p",{className:"text-muted-foreground",children:"Nossa IA vai analisar seu tom de pele e formato do rosto automaticamente"})]}),i.jsx("div",{className:"space-y-4",children:y?i.jsxs("div",{className:"flex flex-col items-center justify-center aspect-square rounded-2xl border-2 border-primary/30 bg-primary/5",children:[i.jsx(Js,{className:"w-16 h-16 text-primary animate-spin mb-4"}),i.jsx("p",{className:"text-sm font-medium",children:"Analisando sua foto..."}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Isso pode levar alguns segundos"})]}):x?i.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden shadow-medium",children:[i.jsx("img",{src:x,alt:"Preview",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),g?i.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:i.jsx(z,{onClick:C=>{C.preventDefault(),S(!0)},variant:"secondary",size:"sm",className:"w-full bg-white/90 hover:bg-white text-black",children:" Refazer anlise"})}):i.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:i.jsx("p",{className:"text-white text-sm text-center",children:"Foto pronta! Clique em continuar para analisar"})})]}):i.jsxs("label",{className:"flex flex-col items-center justify-center aspect-square rounded-2xl border-2 border-dashed border-primary/30 bg-primary/5 cursor-pointer hover:bg-primary/10 transition-colors",children:[i.jsx(yn,{className:"w-16 h-16 text-primary mb-4"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Toque para tirar foto"}),i.jsx("input",{type:"file",accept:"image/*",capture:"user",onChange:j,className:"hidden"})]})})]}),a===2&&g&&i.jsxs("div",{className:"space-y-6 text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-primary flex items-center justify-center shadow-glow animate-scale-in",children:i.jsx(he,{className:"w-10 h-10 text-primary-foreground"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{className:"text-2xl font-semibold",children:"Anlise concluda! "}),i.jsx("p",{className:"text-muted-foreground",children:g.analysis})]}),i.jsxs("div",{className:"space-y-3 text-left",children:[i.jsxs("div",{className:"p-4 rounded-lg bg-gradient-primary/10 border border-primary/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("p",{className:"font-medium",children:["Tom de pele: ",g.skinTone]}),i.jsxs("span",{className:"text-xs bg-primary/20 px-2 py-1 rounded-full",children:[g.confidence,"% confiana"]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:g.skinTone==="primavera"||g.skinTone==="outono"?"Cores quentes ficam perfeitas em voc":"Cores frias valorizam sua beleza"})]}),i.jsxs("div",{className:"p-4 rounded-lg bg-gradient-accent/10 border border-accent/20",children:[i.jsxs("p",{className:"font-medium",children:["Formato: ",g.faceShape]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.faceShape==="oval"&&"Verstil para diversos estilos",g.faceShape==="redondo"&&"Cortes alongados favorecem voc",g.faceShape==="quadrado"&&"Camadas suaves valorizam seu rosto",g.faceShape==="corao"&&"Volume inferior equilibra suas propores",g.faceShape==="alongado"&&"Volume lateral harmoniza seu rosto"]})]}),i.jsx(z,{onClick:()=>{l(1),r({title:"Voltando para refazer anlise",description:"Clique no boto 'Refazer anlise' na foto"})},variant:"outline",size:"sm",className:"w-full",children:" No gostei, quero refazer"})]})]}),i.jsx(z,{onClick:E,className:"w-full mt-6 bg-gradient-primary hover:opacity-90 transition-opacity shadow-medium",size:"lg",disabled:a===1&&(!c.trim()||!d.trim()||!m)||a===2&&!x||y,children:y?i.jsxs(i.Fragment,{children:[i.jsx(Js,{className:"mr-2 w-5 h-5 animate-spin"}),"Analisando com IA..."]}):a===3?i.jsxs(i.Fragment,{children:["Comear!",i.jsx(Ra,{className:"ml-2 w-5 h-5"})]}):i.jsxs(i.Fragment,{children:[a===2&&x?"Analisar com Gemini AI":"Continuar",i.jsx(Ra,{className:"ml-2 w-5 h-5"})]})})]})]})})},vr=({activeTab:e,onTabChange:t})=>{const r=Ue(),n=[{id:"home",icon:Nx,label:"Home",path:"/dashboard"},{id:"style",icon:xn,label:"Style",path:"/style"},{id:"skin",icon:he,label:"Skincare",path:"/skin"},{id:"hair",icon:yo,label:"Hair",path:"/hair"},{id:"saved",icon:jx,label:"Salvos",path:"/my-saved"},{id:"profile",icon:hc,label:"Perfil",path:"/profile"}],s=o=>{t(o.id),r(o.path)};return i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card/95 backdrop-blur-md border-t border-border shadow-medium z-50",children:i.jsx("div",{className:"max-w-md mx-auto px-4",children:i.jsx("div",{className:"flex items-center justify-around py-3",children:n.map(o=>{const a=o.icon,l=e===o.id;return i.jsxs("button",{onClick:()=>s(o),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all ${l?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[i.jsx("div",{className:`p-2 rounded-xl transition-all ${l?"bg-gradient-primary shadow-soft scale-110":"bg-transparent"}`,children:i.jsx(a,{className:`w-5 h-5 ${l?"text-primary-foreground":""}`})}),i.jsx("span",{className:"text-xs font-medium",children:o.label})]},o.id)})})})})},dI=({profileId:e})=>{const t=pe(u=>u.profile),[r,n]=v.useState([]),[s,o]=v.useState(null),[a,l]=v.useState(!0);v.useEffect(()=>{c()},[e]);const c=async()=>{const u=t==null?void 0:t.email;if(!(!u&&!e)){l(!0);try{let d=e;if(!d){const{data:m}=await Y.from("profiles").select("id").eq("email",u).single();if(!m)return;d=m.id}const h=await dO(d,5);n(h),h.length>0&&o(h[0])}catch(d){console.error("Erro ao carregar estatsticas:",d)}finally{l(!1)}}};return a?i.jsx(D,{className:"p-6 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm",children:i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Carregando estatsticas..."})}):r.length===0?i.jsx(D,{className:"p-6 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx(Pl,{className:"w-8 h-8 mx-auto text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ainda no h estatsticas. Use seus looks para ver as mtricas!"})]})}):i.jsxs("div",{className:"space-y-4",children:[s&&i.jsxs(D,{className:"p-6 shadow-glow border-primary/30 bg-gradient-to-br from-primary/10 to-secondary/10 backdrop-blur-sm overflow-hidden relative",children:[i.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-gradient-primary opacity-20 rounded-full blur-3xl"}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-primary flex items-center justify-center shadow-medium",children:i.jsx(Dd,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Look do Ms "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Seu look mais usado"})]})]}),i.jsxs("div",{className:"bg-card/50 rounded-lg p-4 space-y-2",children:[i.jsx("p",{className:"font-semibold",children:s.occasion}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx($d,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),s.usage_count," ",s.usage_count===1?"uso":"usos"]}),s.last_used&&i.jsxs("span",{className:"text-muted-foreground",children:["ltimo uso: ",new Date(s.last_used).toLocaleDateString("pt-BR")]})]})]})]})]}),i.jsxs(D,{className:"p-6 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(Pl,{className:"w-5 h-5 text-primary"}),"Top 5 Looks Mais Usados"]}),i.jsx("div",{className:"space-y-3",children:r.map((u,d)=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("span",{className:"text-2xl font-bold text-muted-foreground",children:["#",d+1]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:u.occasion}),u.last_used&&i.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(u.last_used).toLocaleDateString("pt-BR")})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-semibold text-primary",children:u.usage_count}),i.jsx("p",{className:"text-xs text-muted-foreground",children:u.usage_count===1?"uso":"usos"})]})]},u.id))})]})]})},hI=()=>{var d;const e=Ue();at();const[t,r]=v.useState("home"),[n,s]=v.useState(!0),[o,a]=v.useState(!1),[l,c]=v.useState(0),u=pe(h=>h.profile);return v.useEffect(()=>{(async()=>{if(u!=null&&u.email)try{const{data:m,error:f}=await Y.from("profiles").select("id").eq("email",u.email).single();if(f)throw f;const{count:x,error:p}=await Y.from("outfits").select("*",{count:"exact",head:!0}).eq("profile_id",m.id);if(p)throw p;c(x||0)}catch(m){console.error("Erro ao carregar contagem de looks:",m)}})()},[u==null?void 0:u.email]),v.useEffect(()=>{if(o)return;const h=setTimeout(()=>{a(!0),u?s(!1):e("/login",{replace:!0})},150);return()=>clearTimeout(h)},[u,e,o]),n||!u?i.jsx("div",{className:"min-h-screen bg-gradient-glow flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:"Carregando..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-glow pb-24",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:i.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold",children:["Ol, ",(u==null?void 0:u.name)||"Bella","! "]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Como voc est hoje?"})]}),i.jsx("div",{children:u!=null&&u.photoUrl?i.jsx("img",{src:u.photoUrl,alt:"Profile",className:"w-12 h-12 rounded-full object-cover shadow-soft border-2 border-primary/20"}):i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-primary shadow-soft flex items-center justify-center text-primary-foreground font-semibold",children:((d=u==null?void 0:u.name)==null?void 0:d.charAt(0).toUpperCase())||"B"})})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs(D,{className:"p-4 text-center shadow-soft border-primary/20 bg-card/50 backdrop-blur-sm",children:[i.jsx("div",{className:"text-2xl font-bold text-foreground",children:(u==null?void 0:u.stats.glowDays)||0}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Dias de Glow"})]}),i.jsxs(D,{className:"p-4 text-center shadow-soft border-secondary/20 bg-card/50 backdrop-blur-sm",children:[i.jsx("div",{className:"text-2xl font-bold text-foreground",children:(u==null?void 0:u.stats.checkIns)||0}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Anlises"})]}),i.jsxs(D,{className:"p-4 text-center shadow-soft border-accent/20 bg-card/50 backdrop-blur-sm",children:[i.jsx("div",{className:"text-2xl font-bold text-foreground",children:l}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Looks salvos"})]})]}),i.jsxs(D,{className:"p-6 shadow-glow border-primary/30 bg-gradient-primary/10 backdrop-blur-sm overflow-hidden relative",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-primary opacity-20 rounded-full blur-3xl"}),i.jsxs("div",{className:"relative space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-primary flex items-center justify-center shadow-medium animate-glow-pulse",children:i.jsx(he,{className:"w-6 h-6 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Look Perfeito"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Veja o que combina com voc hoje"})]})]}),i.jsx(z,{className:"w-full bg-gradient-primary hover:opacity-90 transition-opacity shadow-medium",onClick:()=>e("/look-perfeito"),children:"Descobrir meu look "})]})]}),i.jsx(D,{className:"p-5 shadow-soft hover:shadow-medium transition-all cursor-pointer border-secondary/20 bg-card/50 backdrop-blur-sm",onClick:()=>e("/my-saved"),children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-11 h-11 rounded-full bg-gradient-to-br from-secondary to-accent flex items-center justify-center shadow-soft",children:i.jsx(jx,{className:"w-5 h-5 text-secondary-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:"Meus Salvos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Veja seus looks e cortes favoritos"})]}),i.jsx(mr,{className:"w-5 h-5 text-muted-foreground"})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-lg font-semibold px-1",children:"Seus Cuidados"}),i.jsx(D,{className:"p-5 shadow-soft hover:shadow-medium transition-all cursor-pointer border-primary/20 bg-card/50 backdrop-blur-sm",onClick:()=>e("/skin"),children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-primary/10 flex items-center justify-center",children:i.jsx(mr,{className:"w-7 h-7 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:"Glow Skin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:u!=null&&u.skinTone?`Tom: ${u.skinTone}`:"Defina sua rotina"})]})]})}),i.jsx(D,{className:"p-5 shadow-soft hover:shadow-medium transition-all cursor-pointer border-secondary/20 bg-card/50 backdrop-blur-sm",onClick:()=>e("/hair"),children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-secondary/10 flex items-center justify-center",children:i.jsx(yo,{className:"w-7 h-7 text-secondary-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:"Glow Hair"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:u!=null&&u.faceShape?`Rosto: ${u.faceShape}`:"Faa seu check-in"})]})]})}),i.jsx(D,{className:"p-5 shadow-soft hover:shadow-medium transition-all cursor-pointer border-accent/20 bg-card/50 backdrop-blur-sm",onClick:()=>e("/style"),children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-accent/10 flex items-center justify-center",children:i.jsx(xn,{className:"w-7 h-7 text-accent-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:"Glow Style"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Organize seu closet"})]})]})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-lg font-semibold px-1",children:"Suas Estatsticas"}),i.jsx(dI,{})]}),i.jsx(D,{className:"p-6 text-center shadow-soft border-primary/20 bg-gradient-accent/5 backdrop-blur-sm",children:i.jsx("p",{className:"text-sm italic text-foreground/80",children:'"Sua beleza natural merece ser celebrada todos os dias. Voc  nica! "'})})]}),i.jsx(vr,{activeTab:t,onTabChange:r})]})};function Gf(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var kc="Checkbox",[fI,aL]=St(kc),[mI,Wf]=fI(kc);function pI(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:o,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[m,f]=fs({prop:r,defaultProp:s??!1,onChange:c,caller:kc}),[x,p]=v.useState(null),[y,w]=v.useState(null),g=v.useRef(!1),b=x?!!a||!!x.closest("form"):!0,_={checked:m,disabled:o,setChecked:f,control:x,setControl:p,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:bn(s)?!1:s,isFormControl:b,bubbleInput:y,setBubbleInput:w};return i.jsx(mI,{scope:t,..._,children:gI(h)?h(_):n})}var Gb="CheckboxTrigger",Wb=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:o,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:f,bubbleInput:x}=Wf(Gb,e),p=xe(s,d),y=v.useRef(c);return v.useEffect(()=>{const w=o==null?void 0:o.form;if(w){const g=()=>h(y.current);return w.addEventListener("reset",g),()=>w.removeEventListener("reset",g)}},[o,h]),i.jsx(se.button,{type:"button",role:"checkbox","aria-checked":bn(c)?"mixed":c,"aria-required":u,"data-state":Xb(c),"data-disabled":l?"":void 0,disabled:l,value:a,...n,ref:p,onKeyDown:ne(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:ne(r,w=>{h(g=>bn(g)?!0:!g),x&&f&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});Wb.displayName=Gb;var Kf=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return i.jsx(pI,{__scopeCheckbox:r,checked:s,defaultChecked:o,disabled:l,required:a,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>i.jsxs(i.Fragment,{children:[i.jsx(Wb,{...h,ref:t,__scopeCheckbox:r}),m&&i.jsx(Yb,{__scopeCheckbox:r})]})})});Kf.displayName=kc;var Kb="CheckboxIndicator",Qb=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=Wf(Kb,r);return i.jsx(Dr,{present:n||bn(o.checked)||o.checked===!0,children:i.jsx(se.span,{"data-state":Xb(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Qb.displayName=Kb;var Jb="CheckboxBubbleInput",Yb=v.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:m,setBubbleInput:f}=Wf(Jb,e),x=xe(r,f),p=Gf(o),y=gc(n);v.useEffect(()=>{const g=m;if(!g)return;const b=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(b,"checked").set,j=!s.current;if(p!==o&&N){const S=new Event("click",{bubbles:j});g.indeterminate=bn(o),N.call(g,bn(o)?!1:o),g.dispatchEvent(S)}},[m,p,o,s]);const w=v.useRef(bn(o)?!1:o);return i.jsx(se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??w.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Yb.displayName=Jb;function gI(e){return typeof e=="function"}function bn(e){return e==="indeterminate"}function Xb(e){return bn(e)?"indeterminate":e?"checked":"unchecked"}const Zb=v.forwardRef(({className:e,...t},r)=>i.jsx(Kf,{ref:r,className:ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(Qb,{className:ee("flex items-center justify-center text-current"),children:i.jsx(ME,{className:"h-4 w-4"})})}));Zb.displayName=Kf.displayName;const Qf=v.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Qf.displayName="Textarea";var vI=v.createContext(void 0);function Jf(e){const t=v.useContext(vI);return e||t||"ltr"}var Tu="rovingFocusGroup.onEntryFocus",yI={bubbles:!1,cancelable:!0},ri="RovingFocusGroup",[lh,e1,xI]=J0(ri),[wI,Cc]=St(ri,[xI]),[bI,_I]=wI(ri),t1=v.forwardRef((e,t)=>i.jsx(lh.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(lh.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(jI,{...e,ref:t})})}));t1.displayName=ri;var jI=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,m=v.useRef(null),f=xe(t,m),x=Jf(o),[p,y]=fs({prop:a,defaultProp:l??null,onChange:c,caller:ri}),[w,g]=v.useState(!1),b=Lt(u),_=e1(r),N=v.useRef(!1),[j,S]=v.useState(0);return v.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(Tu,b),()=>E.removeEventListener(Tu,b)},[b]),i.jsx(bI,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:p,onItemFocus:v.useCallback(E=>y(E),[y]),onItemShiftTab:v.useCallback(()=>g(!0),[]),onFocusableItemAdd:v.useCallback(()=>S(E=>E+1),[]),onFocusableItemRemove:v.useCallback(()=>S(E=>E-1),[]),children:i.jsx(se.div,{tabIndex:w||j===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:ne(e.onMouseDown,()=>{N.current=!0}),onFocus:ne(e.onFocus,E=>{const C=!N.current;if(E.target===E.currentTarget&&C&&!w){const R=new CustomEvent(Tu,yI);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=_().filter($=>$.focusable),T=k.find($=>$.active),U=k.find($=>$.id===p),J=[T,U,...k].filter(Boolean).map($=>$.ref.current);s1(J,d)}}N.current=!1}),onBlur:ne(e.onBlur,()=>g(!1))})})}),r1="RovingFocusGroupItem",n1=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:a,...l}=e,c=ia(),u=o||c,d=_I(r1,r),h=d.currentTabStopId===u,m=e1(r),{onFocusableItemAdd:f,onFocusableItemRemove:x,currentTabStopId:p}=d;return v.useEffect(()=>{if(n)return f(),()=>x()},[n,f,x]),i.jsx(lh.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:i.jsx(se.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ne(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:ne(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ne(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=EI(y,d.orientation,d.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=m().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const _=b.indexOf(y.currentTarget);b=d.loop?kI(b,_+1):b.slice(_+1)}setTimeout(()=>s1(b))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:p!=null}):a})})});n1.displayName=r1;var SI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function NI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function EI(e,t,r){const n=NI(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return SI[n]}function s1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function kI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var o1=t1,a1=n1,Tc="Tabs",[CI,iL]=St(Tc,[Cc]),i1=Cc(),[TI,Yf]=CI(Tc),l1=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Jf(l),[h,m]=fs({prop:n,onChange:s,defaultProp:o??"",caller:Tc});return i.jsx(TI,{scope:r,baseId:ia(),value:h,onValueChange:m,orientation:a,dir:d,activationMode:c,children:i.jsx(se.div,{dir:d,"data-orientation":a,...u,ref:t})})});l1.displayName=Tc;var c1="TabsList",u1=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=Yf(c1,r),a=i1(r);return i.jsx(o1,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:n,children:i.jsx(se.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});u1.displayName=c1;var d1="TabsTrigger",h1=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,a=Yf(d1,r),l=i1(r),c=p1(a.baseId,n),u=g1(a.baseId,n),d=n===a.value;return i.jsx(a1,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(se.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:ne(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:ne(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:ne(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(n)})})})});h1.displayName=d1;var f1="TabsContent",m1=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...a}=e,l=Yf(f1,r),c=p1(l.baseId,n),u=g1(l.baseId,n),d=n===l.value,h=v.useRef(d);return v.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),i.jsx(Dr,{present:s||d,children:({present:m})=>i.jsx(se.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});m1.displayName=f1;function p1(e,t){return`${e}-trigger-${t}`}function g1(e,t){return`${e}-content-${t}`}var RI=l1,v1=u1,y1=h1,x1=m1;const Rc=RI,ni=v.forwardRef(({className:e,...t},r)=>i.jsx(v1,{ref:r,className:ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ni.displayName=v1.displayName;const Yt=v.forwardRef(({className:e,...t},r)=>i.jsx(y1,{ref:r,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Yt.displayName=y1.displayName;const cs=v.forwardRef(({className:e,...t},r)=>i.jsx(x1,{ref:r,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));cs.displayName=x1.displayName;const AI=()=>{const{toast:e}=at(),t=pe(k=>k.profile),r=pe(k=>k.updateStats),[n,s]=v.useState("skin"),[o,a]=v.useState("routine"),[l,c]=v.useState({}),[u,d]=v.useState(""),[h,m]=v.useState(!1),[f,x]=v.useState(null),[p,y]=v.useState(null),[w,g]=v.useState(!1),b=(t==null?void 0:t.gender)==="masculino",_=v.useMemo(()=>[{category:"Limpeza",icon:Sx,color:"primary",items:b?["Lavar o rosto com sabonete suave"]:["Lavar o rosto com sabonete suave","Remover maquiagem completamente"]},{category:"Hidratao",icon:mr,color:"secondary",items:["Aplicar tnico facial","Passar hidratante especfico","Hidratante para rea dos olhos"]},{category:"Proteo",icon:Tx,color:"accent",items:["Protetor solar FPS 50+","Reaplicar protetor (se necessrio)"]}],[b]),N=k=>{c(T=>({...T,[k]:!T[k]}))},j=async()=>{if(!u.trim()){e({title:"Descreva sua pele",description:"Por favor, descreva como est sua pele atualmente",variant:"destructive"});return}m(!0);try{const k=await lI(u);x(k),e({title:"Anlise concluda! ",description:`Sua pele  ${k.skinType}`}),S(k.skinType,k.concerns)}catch(k){console.error("Erro ao analisar pele:",k),e({title:"Erro na anlise",description:"Tente novamente",variant:"destructive"})}finally{m(!1)}},S=async(k,T)=>{g(!0);try{const U=await cI(k,T);y(U),t!=null&&t.stats&&r({checkIns:(t.stats.checkIns||0)+1})}catch(U){console.error("Erro ao carregar produtos:",U)}finally{g(!1)}},E=_.reduce((k,T)=>k+T.items.length,0),C=Object.values(l).filter(Boolean).length,R=C/E*100;return i.jsxs("div",{className:"min-h-screen bg-gradient-glow pb-24",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:i.jsxs("div",{className:"max-w-md mx-auto px-6 py-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-primary flex items-center justify-center shadow-soft",children:i.jsx(mr,{className:"w-6 h-6 text-primary-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Glow Skin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Sua rotina de skincare"})]})]}),o==="routine"&&i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progresso de hoje"}),i.jsxs("span",{className:"font-semibold text-primary",children:[C,"/",E]})]}),i.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-primary transition-all duration-500 rounded-full",style:{width:`${R}%`}})})]})]})}),i.jsx("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:i.jsxs(Rc,{value:o,onValueChange:k=>a(k),className:"w-full",children:[i.jsxs(ni,{className:"grid w-full grid-cols-2",children:[i.jsx(Yt,{value:"routine",children:"Rotina"}),i.jsx(Yt,{value:"analysis",children:"Anlise IA"})]}),i.jsxs(cs,{value:"routine",className:"space-y-6 mt-6",children:[i.jsx(D,{className:"p-5 shadow-soft border-primary/20 bg-gradient-primary/5 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0",children:i.jsx(he,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"font-semibold",children:"Dica do dia"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Sua pele Primavera ama vitamina C! Experimente um srum pela manh para mais luminosidade."})]})]})}),_.map(k=>{const T=k.icon,U=k.items.filter(I=>l[I]).length;return i.jsxs(D,{className:"p-5 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-xl bg-${k.color}/10 flex items-center justify-center`,children:i.jsx(T,{className:`w-5 h-5 text-${k.color}-foreground`})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:k.category}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[U,"/",k.items.length," completos"]})]})]}),U===k.items.length&&i.jsx(FE,{className:"w-6 h-6 text-primary animate-scale-in"})]}),i.jsx("div",{className:"space-y-3",children:k.items.map(I=>i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-muted/50 cursor-pointer transition-colors group",children:[i.jsx(Zb,{checked:l[I]||!1,onCheckedChange:()=>N(I),className:"data-[state=checked]:bg-gradient-primary data-[state=checked]:border-primary"}),i.jsx("span",{className:`flex-1 text-sm transition-all ${l[I]?"line-through text-muted-foreground":"text-foreground"}`,children:I})]},I))})]},k.category)}),C===E&&i.jsxs(D,{className:"p-6 text-center shadow-glow border-primary/30 bg-gradient-primary/10 backdrop-blur-sm animate-scale-in",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-primary flex items-center justify-center shadow-medium",children:i.jsx(he,{className:"w-8 h-8 text-primary-foreground"})}),i.jsx("h3",{className:"text-xl font-bold mb-2",children:"Parabns! "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc completou sua rotina de skincare hoje. Sua pele agradece!"})]})]}),i.jsx(cs,{value:"analysis",className:"space-y-6 mt-6",children:f?i.jsxs(i.Fragment,{children:[i.jsxs(D,{className:"p-5 shadow-soft border-primary/20 bg-gradient-primary/5 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center",children:i.jsx(he,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:"Anlise Concluda"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tipo de pele: ",f.skinType]})]})]}),i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{x(null),y(null),d("")},children:"Nova anlise"})]}),i.jsxs("div",{className:"space-y-3",children:[f.concerns.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"Preocupaes identificadas:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:f.concerns.map((k,T)=>i.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full",children:k},T))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"Recomendaes:"}),i.jsx("ul",{className:"space-y-2",children:f.recommendations.map((k,T)=>i.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[i.jsx("span",{className:"text-primary mt-0.5",children:""}),i.jsx("span",{children:k})]},T))})]})]})]}),w?i.jsxs(D,{className:"p-8 text-center shadow-soft",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buscando produtos para voc..."})]}):p&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 px-1",children:[i.jsx(XE,{className:"w-5 h-5 text-primary"}),i.jsx("h3",{className:"text-lg font-semibold",children:"Produtos Recomendados"})]}),p.products.map((k,T)=>i.jsx(D,{className:"p-5 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-start justify-between mb-1",children:[i.jsx("h4",{className:"font-semibold",children:k.name}),k.price&&i.jsx("span",{className:"text-sm font-medium text-primary",children:k.price})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:k.brand})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:k.description}),i.jsx(z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>window.open(k.buyUrl,"_blank"),children:"Ver produto"})]})},T)),p.tips.length>0&&i.jsxs(D,{className:"p-5 shadow-soft border-accent/20 bg-accent/5 backdrop-blur-sm",children:[i.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[i.jsx(he,{className:"w-4 h-4 text-accent-foreground"}),"Dicas Extras"]}),i.jsx("ul",{className:"space-y-2",children:p.tips.map((k,T)=>i.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[i.jsx("span",{className:"text-accent mt-0.5",children:""}),i.jsx("span",{children:k})]},T))})]})]})]}):i.jsxs(D,{className:"p-6 shadow-soft border-primary/20 bg-card/50 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0",children:i.jsx(QE,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:"Anlise de Pele com IA"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Descreva como est sua pele atualmente para receber recomendaes personalizadas"})]})]}),i.jsx(Qf,{placeholder:"Ex: Minha pele est oleosa na zona T, com alguns poros dilatados...",value:u,onChange:k=>d(k.target.value),className:"min-h-[120px] mb-4"}),i.jsx(z,{onClick:j,disabled:h,className:"w-full bg-gradient-primary hover:opacity-90",children:h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Analisando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(he,{className:"w-4 h-4 mr-2"}),"Analisar Pele"]})})]})})]})}),i.jsx(vr,{activeTab:n,onTabChange:s})]})};var Xf="Radio",[PI,w1]=St(Xf),[OI,II]=PI(Xf),b1=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:a,value:l="on",onCheck:c,form:u,...d}=e,[h,m]=v.useState(null),f=xe(t,y=>m(y)),x=v.useRef(!1),p=h?u||!!h.closest("form"):!0;return i.jsxs(OI,{scope:r,checked:s,disabled:a,children:[i.jsx(se.button,{type:"button",role:"radio","aria-checked":s,"data-state":N1(s),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:f,onClick:ne(e.onClick,y=>{s||c==null||c(),p&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),p&&i.jsx(S1,{control:h,bubbles:!x.current,name:n,value:l,checked:s,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});b1.displayName=Xf;var _1="RadioIndicator",j1=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,o=II(_1,r);return i.jsx(Dr,{present:n||o.checked,children:i.jsx(se.span,{"data-state":N1(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});j1.displayName=_1;var DI="RadioBubbleInput",S1=v.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const a=v.useRef(null),l=xe(a,o),c=Gf(r),u=gc(t);return v.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const x=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(x)}},[c,r,n]),i.jsx(se.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});S1.displayName=DI;function N1(e){return e?"checked":"unchecked"}var LI=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ac="RadioGroup",[$I,lL]=St(Ac,[Cc,w1]),E1=Cc(),k1=w1(),[MI,UI]=$I(Ac),C1=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...m}=e,f=E1(r),x=Jf(u),[p,y]=fs({prop:o,defaultProp:s??null,onChange:h,caller:Ac});return i.jsx(MI,{scope:r,name:n,required:a,disabled:l,value:p,onValueChange:y,children:i.jsx(o1,{asChild:!0,...f,orientation:c,dir:x,loop:d,children:i.jsx(se.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...m,ref:t})})})});C1.displayName=Ac;var T1="RadioGroupItem",R1=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,o=UI(T1,r),a=o.disabled||n,l=E1(r),c=k1(r),u=v.useRef(null),d=xe(t,u),h=o.value===s.value,m=v.useRef(!1);return v.useEffect(()=>{const f=p=>{LI.includes(p.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",x)}},[]),i.jsx(a1,{asChild:!0,...l,focusable:!a,active:h,children:i.jsx(b1,{disabled:a,required:o.required,checked:h,...c,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:ne(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:ne(s.onFocus,()=>{var f;m.current&&((f=u.current)==null||f.click())})})})});R1.displayName=T1;var FI="RadioGroupIndicator",A1=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=k1(r);return i.jsx(j1,{...s,...n,ref:t})});A1.displayName=FI;var P1=C1,O1=R1,zI=A1;const I1=v.forwardRef(({className:e,...t},r)=>i.jsx(P1,{className:ee("grid gap-2",e),...t,ref:r}));I1.displayName=P1.displayName;const D1=v.forwardRef(({className:e,...t},r)=>i.jsx(O1,{ref:r,className:ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(zI,{className:"flex items-center justify-center",children:i.jsx(zE,{className:"h-2.5 w-2.5 fill-current text-current"})})}));D1.displayName=O1.displayName;var BI="Label",L1=v.forwardRef((e,t)=>i.jsx(se.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));L1.displayName=BI;var $1=L1;const VI=dc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pt=v.forwardRef(({className:e,...t},r)=>i.jsx($1,{ref:r,className:ee(VI(),e),...t}));Pt.displayName=$1.displayName;const HI=()=>{const{toast:e}=at(),t=pe($=>$.profile),r=pe($=>$.updateStats),n=pe($=>$.setProfile),s=v.useRef(null),[o,a]=v.useState("hair"),[l,c]=v.useState(""),[u,d]=v.useState(!1),[h,m]=v.useState(!1),[f,x]=v.useState(null),[p,y]=v.useState(null);v.useState(!1);const[w,g]=v.useState(null),[b,_]=v.useState(!1),[N,j]=v.useState(!1),[S,E]=v.useState(!1),C=(t==null?void 0:t.faceShape)||"oval",R=[{id:"frizzy",label:"Com frizz",icon:tk},{id:"oily",label:"Oleoso",icon:Sx},{id:"dry",label:"Ressecado",icon:Rx},{id:"perfect",label:"Perfeito!",icon:he}],k=async()=>{var $;if(!(!l||!(t!=null&&t.email))){m(!0);try{const V=await oI(l,(t==null?void 0:t.gender)||"feminino");x(V),d(!0);try{const A=await iv((t==null?void 0:t.faceShape)||"oval",l,(t==null?void 0:t.gender)||"feminino");y(A)}catch(A){console.error("Erro ao buscar corte:",A)}try{await nO({user_email:t.email,condition:l,recommendations:V.products.map(A=>A.name).join(", "),styling_tips:(($=V.tips)==null?void 0:$.join(", "))||null})}catch(A){console.error("Erro ao salvar check-in:",A)}r({checkIns:(t.stats.checkIns||0)+1}),e({title:"Recomendaes prontas! ",description:"Confira suas dicas personalizadas abaixo"})}catch(V){console.error("Erro ao obter recomendaes:",V),e({title:"Erro ao gerar recomendaes",description:"Vamos usar recomendaes padro.",variant:"destructive"}),d(!0)}finally{m(!1)}}},T=()=>{var $;($=s.current)==null||$.click()},U=async $=>{var A;const V=(A=$.target.files)==null?void 0:A[0];if(V){if(!V.type.startsWith("image/")){e({title:"Arquivo invlido",description:"Por favor, selecione uma imagem",variant:"destructive"});return}_(!0);try{const O=new FileReader;O.onloadend=async()=>{try{const F=O.result;g(F),console.log(" Foto capturada, iniciando anlise...");const W=await qb(F);if(console.log(" Anlise completa:",W),!(t!=null&&t.email))throw new Error("Email do perfil no encontrado");const{error:G}=await Y.from("profiles").update({faceShape:W.faceShape,skinTone:W.skinTone}).eq("email",t.email);G?console.error(" Erro Supabase:",G):console.log(" Perfil atualizado no Supabase"),await n({...t,faceShape:W.faceShape,skinTone:W.skinTone,photoUrl:F,analysisConfidence:W.confidence}),console.log(" Buscando recomendao de corte..."),console.log("Formato:",W.faceShape),console.log("Gnero:",(t==null?void 0:t.gender)||"feminino");const re=await iv(W.faceShape,"perfect",(t==null?void 0:t.gender)||"feminino");console.log(" Corte recomendado:",re),y(re),j(!0),_(!1),e({title:"Anlise completa! ",description:`Formato: ${W.faceShape}  Corte recomendado!`})}catch(F){console.error(" Erro na anlise:",F),_(!1),e({title:"Erro ao analisar foto",description:F instanceof Error?F.message:"Tente novamente",variant:"destructive"})}},O.onerror=()=>{_(!1),e({title:"Erro ao ler arquivo",description:"Tente novamente",variant:"destructive"})},O.readAsDataURL(V)}catch(O){console.error(" Erro geral:",O),e({title:"Erro ao processar foto",description:"Tente novamente com outra foto",variant:"destructive"}),_(!1)}}},I=()=>{g(null),j(!1),y(null)},J=async()=>{if(!(!p||!(t!=null&&t.email))){E(!0);try{if(await sO({user_email:t.email,face_shape:t.faceShape||"oval",cut_name:p.cutName,description:p.description,why_it_works:p.whyItWorks,styling_tips:p.stylingTips.join(`
`),image_url:p.imageUrl}))r({checkIns:(t.stats.checkIns||0)+1}),e({title:"Corte salvo! ",description:"Voc pode ver suas recomendaes salvas a qualquer momento"});else throw new Error("Falha ao salvar")}catch($){console.error("Erro ao salvar corte:",$),e({title:"Erro ao salvar",description:"Tente novamente",variant:"destructive"})}finally{E(!1)}}};return i.jsxs("div",{className:"min-h-screen bg-gradient-glow pb-24",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:i.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-secondary to-accent flex items-center justify-center shadow-soft",children:i.jsx(yo,{className:"w-6 h-6 text-secondary-foreground"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Glow Hair"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Cuidado com o cabelo"})]})]})})}),i.jsx("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:i.jsxs(Rc,{defaultValue:"checkin",className:"w-full",children:[i.jsxs(ni,{className:"grid w-full grid-cols-2 mb-6",children:[i.jsx(Yt,{value:"checkin",children:"Check-in Dirio"}),i.jsx(Yt,{value:"cortes",children:"Cortes para Voc"})]}),i.jsx(cs,{value:"checkin",className:"space-y-6",children:u?i.jsxs(i.Fragment,{children:[f&&i.jsxs(i.Fragment,{children:[i.jsx(D,{className:"p-6 shadow-glow border-secondary/30 bg-gradient-to-br from-secondary/10 to-accent/10 backdrop-blur-sm",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-secondary to-accent flex items-center justify-center shadow-medium",children:i.jsx(Ip,{className:"w-6 h-6 text-secondary-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"Produtos Recomendados"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[" Gemini AI  ",f.products.length," produtos ideais para voc"]})]})]}),i.jsx("div",{className:"space-y-4",children:f.products.map(($,V)=>i.jsx(D,{className:"overflow-hidden border-border/50 hover:border-secondary/50 transition-all",children:i.jsxs("div",{className:"p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-base",children:$.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:$.brand})]}),i.jsx("span",{className:"text-lg font-semibold text-secondary",children:$.price})]}),i.jsx("p",{className:"text-sm",children:$.description}),i.jsxs(z,{variant:"outline",className:"w-full gap-2",onClick:()=>window.open($.buyUrl,"_blank"),children:[i.jsx(Ip,{className:"w-4 h-4"}),"Onde comprar",i.jsx(VE,{className:"w-3 h-3"})]})]})},V))})]})}),p&&i.jsxs(D,{className:"overflow-hidden shadow-glow border-primary/30 bg-gradient-to-br from-primary/10 to-secondary/10",children:[i.jsxs("div",{className:"relative h-64 w-full",children:[i.jsx("img",{src:p.imageUrl,alt:p.cutName,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[i.jsx("h3",{className:"text-2xl font-bold mb-1",children:p.cutName}),i.jsx("p",{className:"text-sm opacity-90",children:" Recomendado pela IA para voc"})]})]}),i.jsxs("div",{className:"p-5 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-sm text-muted-foreground mb-1",children:"Como  o corte"}),i.jsx("p",{className:"text-sm",children:p.description})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-sm text-muted-foreground mb-1",children:"Por que funciona para voc"}),i.jsx("p",{className:"text-sm",children:p.whyItWorks})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Dicas de finalizao"}),i.jsx("div",{className:"space-y-1",children:p.stylingTips.map(($,V)=>i.jsxs("p",{className:"text-sm",children:[" ",$]},V))})]})]})]}),f.tips&&f.tips.length>0&&i.jsx(D,{className:"p-5 shadow-soft border-accent/20 bg-accent/5 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-accent/20 flex items-center justify-center flex-shrink-0",children:i.jsx(he,{className:"w-5 h-5 text-accent-foreground"})}),i.jsxs("div",{className:"space-y-2 flex-1",children:[i.jsx("h4",{className:"font-semibold",children:"Dicas de Cuidado"}),i.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["Recomendaes personalizadas para ",f.condition]}),f.tips.map(($,V)=>i.jsxs("p",{className:"text-sm",children:[" ",$]},V))]})]})})]}),i.jsx(z,{onClick:()=>{d(!1),x(null),y(null)},variant:"outline",className:"w-full",children:"Fazer novo check-in"})]}):i.jsx(D,{className:"p-6 shadow-medium border-secondary/20 bg-card/50 backdrop-blur-sm",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Como est seu cabelo hoje?"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nossa IA vai recomendar cuidados e cortes ideais para seu rosto ",i.jsx("strong",{children:C})," ",(t==null?void 0:t.gender)==="masculino"?"":""]})]}),i.jsx(I1,{value:l,onValueChange:c,children:i.jsx("div",{className:"space-y-3",children:R.map($=>{const V=$.icon;return i.jsxs(Pt,{htmlFor:$.id,className:`flex items-center gap-4 p-4 rounded-xl border-2 cursor-pointer transition-all ${l===$.id?"border-secondary bg-secondary/10 shadow-soft":"border-border hover:border-secondary/50 hover:bg-secondary/5"}`,children:[i.jsx(D1,{value:$.id,id:$.id}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center",children:i.jsx(V,{className:"w-5 h-5 text-secondary-foreground"})}),i.jsx("span",{className:"flex-1 font-medium",children:$.label})]},$.id)})})}),i.jsx(z,{onClick:k,disabled:!l||h,className:"w-full bg-gradient-to-r from-secondary to-accent hover:opacity-90 transition-opacity shadow-medium",size:"lg",children:h?i.jsxs(i.Fragment,{children:[i.jsx(Js,{className:"mr-2 w-5 h-5 animate-spin"}),"Gerando recomendaes..."]}):"Ver recomendaes"})]})})}),i.jsxs(cs,{value:"cortes",className:"space-y-6",children:[i.jsx("input",{ref:s,type:"file",accept:"image/*",capture:"user",className:"hidden",onChange:U}),N?i.jsx(i.Fragment,{children:p&&i.jsxs(D,{className:"overflow-hidden shadow-glow border-primary/30",children:[i.jsxs("div",{className:"relative h-80 w-full",children:[i.jsx("img",{src:p.imageUrl,alt:p.cutName,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(yo,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-medium",children:"Recomendado pela IA"})]}),i.jsx("h2",{className:"text-3xl font-bold mb-2",children:p.cutName}),i.jsxs("p",{className:"text-sm opacity-90",children:["Formato de rosto: ",(t==null?void 0:t.faceShape)||"oval"]})]})]}),i.jsxs("div",{className:"p-6 space-y-5",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[i.jsx(he,{className:"w-4 h-4 text-primary"}),"Como  o corte"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:p.description})]}),i.jsxs("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/20",children:[i.jsx("h4",{className:"font-semibold mb-2 text-primary",children:"Por que funciona para voc"}),i.jsx("p",{className:"text-sm",children:p.whyItWorks})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Dicas de finalizao"}),i.jsx("div",{className:"space-y-2",children:p.stylingTips.map(($,V)=>i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-xs font-semibold",children:V+1})}),i.jsx("p",{className:"text-sm",children:$})]},V))})]}),i.jsx(z,{onClick:J,disabled:S,className:"w-full gap-2",size:"lg",children:S?i.jsxs(i.Fragment,{children:[i.jsx(Js,{className:"w-5 h-5 animate-spin"}),"Salvando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(he,{className:"w-5 h-5"}),"Salvar esta recomendao"]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(z,{variant:"outline",onClick:()=>j(!1),className:"flex-1",children:"Tirar nova foto"}),i.jsxs(z,{onClick:T,variant:"secondary",className:"flex-1 gap-2",children:[i.jsx(yn,{className:"w-4 h-4"}),"Nova anlise"]})]})]})]})}):i.jsxs(i.Fragment,{children:[i.jsx(D,{className:"p-6 shadow-medium border-primary/20 bg-gradient-to-br from-primary/5 to-secondary/5 backdrop-blur-sm",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center mx-auto shadow-soft",children:i.jsx(yn,{className:"w-8 h-8 text-primary-foreground"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Tire uma foto do seu rosto"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"A IA vai analisar seu formato de rosto e recomendar o corte ideal"})]}),w&&i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:w,alt:"Sua foto",className:"w-full h-64 object-cover rounded-lg"}),i.jsx(z,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:I,children:i.jsx(as,{className:"w-4 h-4"})})]}),i.jsx(z,{onClick:T,disabled:b,className:"w-full gap-2",size:"lg",children:b?i.jsxs(i.Fragment,{children:[i.jsx(Js,{className:"w-5 h-5 animate-spin"}),"Analisando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(yn,{className:"w-5 h-5"}),w?"Tirar nova foto":"Tirar foto"]})}),i.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[i.jsx("p",{children:" A foto ser analisada por IA"}),i.jsx("p",{children:" A foto anterior ser substituda"}),i.jsx("p",{children:" Seus dados esto seguros"})]})]})}),(t==null?void 0:t.faceShape)&&i.jsx(D,{className:"p-5 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(he,{className:"w-10 h-10 text-primary"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:"ltima anlise"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Formato: ",t.faceShape,"  Tom: ",t.skinTone]}),t.analysisConfidence&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Preciso: ",t.analysisConfidence,"%"]})]})]})})]})]})]})}),i.jsx(vr,{activeTab:o,onTabChange:a})]})},qI=e=>({Camisas:"",Calas:"",Sapatos:"",Vestidos:"",Macaces:"",Casacos:"",Acessrios:"",Blusas:"","Shorts/Bermudas":"","Camisas Sociais":""})[e]||"",GI=()=>{const e=Ue(),{toast:t}=at(),r=pe(j=>j.profile),[n,s]=v.useState("style"),[o,a]=v.useState([]),[l,c]=v.useState(!0),[u,d]=v.useState(null),[h,m]=v.useState(null);v.useState(!1);const[f,x]=v.useState(!1),[p,y]=v.useState(""),g=(r==null?void 0:r.gender)==="masculino"?["Camisas","Camisas Sociais","Calas","Shorts/Bermudas","Sapatos","Macaces","Casacos","Acessrios"]:["Camisas","Camisas Sociais","Blusas","Calas","Shorts/Bermudas","Sapatos","Vestidos","Macaces","Casacos","Acessrios"],b=12,_=async j=>{try{const{error:S}=await Y.from("closet_items").delete().eq("id",j);if(S)throw S;a(o.filter(E=>E.id!==j)),t({title:"Pea excluda! ",description:"A pea foi removida do seu closet"})}catch(S){console.error("Erro ao deletar pea:",S),t({title:"Erro ao excluir",description:"Tente novamente",variant:"destructive"})}};v.useEffect(()=>{(async()=>{if(r!=null&&r.email){c(!0);try{const S=await Ub(r.email);a(S||[])}catch(S){console.error("Erro ao carregar peas:",S)}finally{c(!1)}}})()},[r==null?void 0:r.email]);const N=async j=>{var C;console.log(" handleImageUpload chamado"),console.log(" Categoria selecionada:",h);const S=(C=j.target.files)==null?void 0:C[0];if(console.log(" Arquivo selecionado:",S==null?void 0:S.name,S==null?void 0:S.type),!S){console.warn(" Nenhum arquivo selecionado");return}if(!h){console.error(" Nenhuma categoria selecionada!"),t({title:"Selecione uma categoria",description:"Clique em uma categoria antes de adicionar a pea",variant:"destructive"});return}if(!(r!=null&&r.email)){console.warn(" Email do perfil no encontrado"),t({title:"Erro",description:"Por favor, faa login novamente.",variant:"destructive"});return}t({title:"Processando imagem...",description:"Aguarde um momento"});const E=new FileReader;E.onloadend=async()=>{const R=E.result;console.log(" Imagem carregada, tamanho:",R.length);try{console.log(" Buscando profile_id para email:",r.email);const{data:k,error:T}=await Y.from("profiles").select("id").eq("email",r.email).single();if(T||!k)throw console.error(" Erro ao buscar perfil:",T),new Error("Perfil no encontrado");console.log(" Profile_id encontrado:",k.id),console.log(" Analisando pea com IA...");const U=await sI(R);console.log(" Resultado da anlise:",U);const I=h||U.category;console.log(" Categoria final a ser salva:",I),console.log(" Salvando item no closet...");const J=await iO({profile_id:k.id,image_url:R,category:I,color:U.color,description:U.description});if(console.log(" Item sendo salvo:",{category:I,color:U.color,description:U.description}),J)console.log(" Item salvo com sucesso:",J.id),a([...o,J]),m(null),t({title:"Pea adicionada! ",description:`${h} adicionada ao closet.`});else throw new Error("Falha ao salvar item")}catch(k){console.error(" Erro ao adicionar pea:",k),t({title:"Erro ao adicionar pea",description:k instanceof Error?k.message:"Tente novamente em alguns instantes.",variant:"destructive"})}},E.onerror=()=>{console.error(" Erro ao ler arquivo"),t({title:"Erro ao ler imagem",description:"Tente selecionar outra imagem.",variant:"destructive"})},E.readAsDataURL(S)};return i.jsxs("div",{className:"min-h-screen bg-gradient-glow pb-24",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:i.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-primary flex items-center justify-center shadow-soft",children:i.jsx(xn,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Glow Style"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Seu closet digital"})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Total: "}),i.jsxs("span",{className:"font-semibold",children:[o.length," ",o.length===1?"pea":"peas"]})]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Cx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Or,{placeholder:"Buscar por cor, categoria ou descrio...",value:p,onChange:j=>y(j.target.value),className:"pl-10"})]}),i.jsxs(D,{className:"p-6 shadow-glow border-primary/30 bg-gradient-to-br from-primary/10 to-secondary/10 backdrop-blur-sm overflow-hidden relative",children:[i.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-gradient-primary opacity-20 rounded-full blur-3xl"}),i.jsxs("div",{className:"relative space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-primary flex items-center justify-center shadow-medium animate-glow-pulse",children:i.jsx(he,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold",children:"Look Perfeito"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"IA vai montar o look ideal para voc"})]})]}),i.jsx(z,{className:"w-full bg-gradient-primary hover:opacity-90 transition-opacity shadow-medium text-white",size:"lg",onClick:()=>e("/look-perfeito"),children:"Criar look perfeito "})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between px-1",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Categorias"}),h&&i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>m(null),className:"text-xs",children:"Cancelar"})]}),h?i.jsxs(D,{className:"p-6 text-center shadow-soft border-accent bg-accent/20 backdrop-blur-sm",children:[i.jsx("p",{className:"text-sm font-medium mb-3",children:" Tire uma foto ou escolha da galeria:"}),i.jsx("h3",{className:"text-xl font-bold mb-4",children:h}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx("input",{id:"file-camera",type:"file",accept:"image/*",capture:"environment",onChange:N,className:"hidden"}),i.jsx("label",{htmlFor:"file-camera",className:"cursor-pointer",children:i.jsxs("div",{className:"bg-gradient-primary hover:opacity-90 text-white inline-flex items-center justify-center rounded-md text-sm font-medium px-4 py-3 shadow-medium transition-opacity w-full",children:[i.jsx(yn,{className:"w-4 h-4 mr-2"}),"Tirar foto"]})}),i.jsx("input",{id:"file-gallery",type:"file",accept:"image/*",onChange:N,className:"hidden"}),i.jsx("label",{htmlFor:"file-gallery",className:"cursor-pointer",children:i.jsxs("div",{className:"bg-gradient-accent hover:opacity-90 text-accent-foreground inline-flex items-center justify-center rounded-md text-sm font-medium px-4 py-3 shadow-medium transition-opacity w-full",children:[i.jsx(Al,{className:"w-4 h-4 mr-2"}),"Escolher da galeria"]})})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-xs text-muted-foreground px-1",children:"Clique para filtrar ou adicionar peas"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:g.map(j=>i.jsxs(D,{onClick:()=>{d(u===j?null:j)},className:`p-4 text-center shadow-soft backdrop-blur-sm hover:shadow-medium transition-all cursor-pointer ${u===j?"border-accent bg-accent/20 scale-105":"border-accent/20 bg-card/50"}`,children:[i.jsx("div",{className:"text-3xl mb-2",children:qI(j)}),i.jsx("p",{className:"text-xs font-medium",children:j}),i.jsxs(z,{size:"sm",className:"mt-2 w-full text-xs",onClick:S=>{S.stopPropagation(),m(j)},children:[i.jsx(Al,{className:"w-3 h-3 mr-1"}),"Adicionar"]})]},j))})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between px-1",children:[i.jsx("h3",{className:"text-lg font-semibold",children:u?`${u}`:"Suas peas"}),u&&i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>d(null),className:"text-xs",children:"Ver todas"})]}),l?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando seu closet..."})]}):o.length===0?i.jsxs(D,{className:"p-8 text-center shadow-soft border-accent/20 bg-card/50 backdrop-blur-sm",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-accent/10 flex items-center justify-center",children:i.jsx(xn,{className:"w-8 h-8 text-accent-foreground"})}),i.jsx("h3",{className:"font-semibold mb-2",children:"Seu closet est vazio"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:'Use os botes "Adicionar" nas categorias acima para comear!'})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-3 gap-3",children:o.filter(j=>{var S,E,C;if(u&&j.category!==u)return!1;if(p){const R=p.toLowerCase();return((S=j.category)==null?void 0:S.toLowerCase().includes(R))||((E=j.color)==null?void 0:E.toLowerCase().includes(R))||((C=j.description)==null?void 0:C.toLowerCase().includes(R))}return!0}).slice(0,f?void 0:b).map(j=>i.jsx(D,{className:"aspect-square p-0 overflow-hidden shadow-soft border-border/50 bg-card/50 backdrop-blur-sm hover:shadow-medium transition-all group relative",children:j.image_url?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:j.image_url,alt:j.category,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),i.jsx(z,{size:"icon",variant:"destructive",className:"absolute top-1 right-1 w-7 h-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:S=>{S.stopPropagation(),_(j.id)},children:i.jsx(as,{className:"w-4 h-4"})})]}):i.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-accent/20 to-primary/20 flex flex-col items-center justify-center p-3",children:[i.jsx(xn,{className:"w-8 h-8 text-accent-foreground mb-2"}),i.jsx("p",{className:"text-xs font-medium text-center",children:j.category}),i.jsx("p",{className:"text-xs text-muted-foreground",children:j.color}),i.jsx(z,{size:"icon",variant:"destructive",className:"absolute top-1 right-1 w-7 h-7",onClick:S=>{S.stopPropagation(),_(j.id)},children:i.jsx(as,{className:"w-4 h-4"})})]})},j.id))}),!f&&o.filter(j=>!u||j.category===u).length>b&&i.jsx("div",{className:"text-center pt-4",children:i.jsxs(z,{variant:"outline",onClick:()=>x(!0),className:"w-full",children:["Ver todas as ",o.filter(j=>!u||j.category===u).length," peas"]})}),f&&i.jsx("div",{className:"text-center pt-4",children:i.jsx(z,{variant:"outline",onClick:()=>{x(!1),window.scrollTo({top:0,behavior:"smooth"})},className:"w-full",children:"Mostrar menos"})})]})]}),(r==null?void 0:r.skinTone)&&i.jsx(D,{className:"p-5 shadow-soft border-accent/20 bg-accent/5 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-accent/20 flex items-center justify-center flex-shrink-0",children:i.jsx(he,{className:"w-5 h-5 text-accent-foreground"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h4",{className:"font-semibold",children:"Dica de hoje"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:r.skinTone==="primavera"||r.skinTone==="outono"?"Peas em tons quentes valorizam seu tom de pele! ":"Peas em tons frios realam sua beleza natural! "})]})]})})]}),i.jsx(vr,{activeTab:n,onTabChange:s})]})},WI=()=>{var w,g,b;const e=Ue(),{toast:t}=at(),r=pe(_=>_.profile),n=pe(_=>_.updateStats),[s,o]=v.useState(!1),[a,l]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState(0),[m,f]=v.useState([]),[x,p]=v.useState("casual");v.useEffect(()=>{(async()=>{if(!(!(r!=null&&r.email)||r!=null&&r.gender))try{const{data:N}=await Y.from("profiles").select("gender").eq("email",r.email).single();N!=null&&N.gender&&(console.log(" Atualizando gender no perfil:",N.gender),pe.getState().setProfile({...r,gender:N.gender}))}catch(N){console.error("Erro ao buscar gender:",N)}})()},[r==null?void 0:r.email]),v.useEffect(()=>{(async()=>{if(r!=null&&r.email)try{const N=await Ub(r.email);f(N),h(N.length),console.log(" Peas do closet carregadas:",N)}catch(N){console.error("Erro ao carregar closet:",N)}})()},[r==null?void 0:r.email]);const y=async()=>{if(r!=null&&r.email){if(m.length===0){t({title:"Closet vazio",description:"Adicione peas ao seu closet em Glow Style antes de criar looks!",variant:"destructive"}),e("/style");return}o(!0);try{const _=(r==null?void 0:r.skinTone)||"primavera",N=(r==null?void 0:r.faceShape)||"oval",j=(r==null?void 0:r.gender)||"feminino",{data:S}=await Y.from("profiles").select("id").eq("email",r.email).single();let E=[];if(S){const{data:R}=await Y.from("outfits").select("top, bottom, shoes").eq("profile_id",S.id).eq("occasion",x).order("created_at",{ascending:!1}).limit(5);R&&(E=R.map(k=>`${k.top}|${k.bottom}|${k.shoes}`))}console.log(""),console.log(" GERANDO OUTFIT"),console.log(""),console.log(" Dados do perfil:"),console.log("  - skinTone:",_),console.log("  - faceShape:",N),console.log("  - gender:",j),console.log("  - occasion:",x),console.log(""),console.log(" Peas do closet ("+m.length+"):"),m.forEach((R,k)=>{console.log(`  ${k+1}. ${R.category} - ${R.color}`)}),console.log(""),console.log(" Looks recentes a evitar:",E.length),console.log("");const C=await nI(_,N,j,x,void 0,m,E);console.log(""),console.log(" RESULTADO DA IA:"),console.log(""),console.log("Top:",C.outfit.top),console.log("Bottom:",C.outfit.bottom),console.log("Shoes:",C.outfit.shoes),console.log("Reasoning:",C.reasoning),console.log(""),u(C),l(!0);try{const{data:R}=await Y.from("profiles").select("id").eq("email",r.email).single();R&&(await aO({profile_id:R.id,occasion:C.occasion,top:C.outfit.top,bottom:C.outfit.bottom,shoes:C.outfit.shoes,accessories:C.outfit.accessories,makeup:C.makeup,hair:C.hair,reasoning:C.reasoning}),console.log(" Outfit salvo no banco de dados"))}catch(R){console.error("Erro ao salvar outfit:",R)}n({looksCreated:(r.stats.looksCreated||0)+1,checkIns:(r.stats.checkIns||0)+1}),t({title:"Look criado com sucesso! ",description:"Seu look personalizado est pronto!"})}catch(_){console.error("Erro ao gerar look:",_),t({title:"Erro ao gerar look",description:"Tente novamente em alguns instantes.",variant:"destructive"})}finally{o(!1)}}};return i.jsxs("div",{className:"min-h-screen bg-gradient-glow",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:i.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/dashboard"),className:"rounded-full",children:i.jsx(Xa,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-primary flex items-center justify-center shadow-glow animate-glow-pulse",children:i.jsx(he,{className:"w-6 h-6 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Look Perfeito"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Feito especialmente para voc"})]})]})]})})}),i.jsx("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:a?i.jsxs(i.Fragment,{children:[i.jsxs(D,{className:"p-6 shadow-glow border-primary/30 bg-gradient-to-br from-primary/10 to-secondary/10 backdrop-blur-sm overflow-hidden relative",children:[i.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-gradient-primary opacity-20 rounded-full blur-3xl animate-glow-pulse"}),i.jsxs("div",{className:"relative space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Seu look de hoje "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d>0?`Montado com suas ${d} ${d===1?"pea":"peas"} do closet`:"Combinao perfeita para voc brilhar!"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-card/50 border border-primary/20",children:[i.jsx("div",{className:"text-3xl",children:(w=c==null?void 0:c.outfit.top)!=null&&w.toLowerCase().includes("vestido")?"":(g=c==null?void 0:c.outfit.top)!=null&&g.toLowerCase().includes("macaco")||(b=c==null?void 0:c.outfit.top)!=null&&b.toLowerCase().includes("macacao")?"":""}),i.jsx("p",{className:"text-sm flex-1",children:c==null?void 0:c.outfit.top})]}),(c==null?void 0:c.outfit.bottom)&&!c.outfit.bottom.toLowerCase().includes("no usar")&&i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-card/50 border border-secondary/20",children:[i.jsx("div",{className:"text-3xl",children:""}),i.jsx("p",{className:"text-sm flex-1",children:c==null?void 0:c.outfit.bottom})]}),i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-card/50 border border-accent/20",children:[i.jsx("div",{className:"text-3xl",children:""}),i.jsx("p",{className:"text-sm flex-1",children:c==null?void 0:c.outfit.shoes})]}),i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-card/50 border border-primary/20",children:[i.jsx("div",{className:"text-3xl",children:""}),i.jsx("p",{className:"text-sm flex-1",children:Array.isArray(c==null?void 0:c.outfit.accessories)?c.outfit.accessories.join(", "):(c==null?void 0:c.outfit.accessories)||"Nenhum acessrio"})]})]}),i.jsxs("div",{className:"space-y-3",children:[(r==null?void 0:r.gender)!=="masculino"&&(c==null?void 0:c.makeup)&&c.makeup!=="No aplicvel"&&i.jsxs("div",{className:"p-4 rounded-lg bg-card/50 border border-primary/20",children:[i.jsx("p",{className:"font-medium mb-1",children:" Make sugerida"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.makeup})]}),i.jsxs("div",{className:"p-4 rounded-lg bg-card/50 border border-secondary/20",children:[i.jsx("p",{className:"font-medium mb-1",children:(r==null?void 0:r.gender)==="masculino"?" Cabelo":" Cabelo"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c==null?void 0:c.hair})]}),i.jsxs("div",{className:"p-4 rounded-lg bg-card/50 border border-accent/20",children:[i.jsx("p",{className:"font-medium mb-1",children:" Por que funciona?"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c==null?void 0:c.reasoning})]})]}),i.jsx(D,{className:"p-4 text-center bg-gradient-accent/10 border-accent/30",children:i.jsx("p",{className:"text-sm italic",children:(r==null?void 0:r.gender)==="masculino"?"Voc  nico e seu estilo tambm! Vista-se com confiana hoje ":"Voc  nica e seu estilo tambm! Arrase com confiana hoje "})})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(z,{onClick:y,variant:"outline",className:"flex-1",children:[i.jsx(Ld,{className:"mr-2 w-4 h-4"}),"Gerar novo"]}),i.jsx(z,{onClick:()=>e("/dashboard"),className:"flex-1 bg-gradient-primary hover:opacity-90 transition-opacity",children:"Voltar ao incio"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(D,{className:"p-6 shadow-medium border-primary/20 bg-card/50 backdrop-blur-sm text-center space-y-4",children:[i.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-primary flex items-center justify-center shadow-glow",children:i.jsx(he,{className:"w-10 h-10 text-primary-foreground"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Crie seu look perfeito!"}),i.jsx("p",{className:"text-muted-foreground",children:d>0?`Nossa IA vai combinar suas ${d} ${d===1?"pea":"peas"} do closet com base no seu tom de pele e formato de rosto`:"Adicione peas ao seu closet em Glow Style para criar looks personalizados!"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold px-1",children:"Para qual ocasio?"}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs(D,{className:`p-4 text-center cursor-pointer transition-all ${x==="casual"?"border-primary bg-primary/10 shadow-medium":"border-border/50 bg-card/50 hover:border-primary/50"}`,onClick:()=>p("casual"),children:[i.jsx("div",{className:"text-3xl mb-2",children:""}),i.jsx("p",{className:"text-sm font-medium",children:"Casual"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Dia a dia"})]}),i.jsxs(D,{className:`p-4 text-center cursor-pointer transition-all ${x==="formal"?"border-primary bg-primary/10 shadow-medium":"border-border/50 bg-card/50 hover:border-primary/50"}`,onClick:()=>p("formal"),children:[i.jsx("div",{className:"text-3xl mb-2",children:""}),i.jsx("p",{className:"text-sm font-medium",children:"Formal"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Trabalho"})]}),i.jsxs(D,{className:`p-4 text-center cursor-pointer transition-all ${x==="festa"?"border-primary bg-primary/10 shadow-medium":"border-border/50 bg-card/50 hover:border-primary/50"}`,onClick:()=>p("festa"),children:[i.jsx("div",{className:"text-3xl mb-2",children:""}),i.jsx("p",{className:"text-sm font-medium",children:"Festa"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Eventos"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold px-1",children:"O que ser analisado:"}),i.jsx(D,{className:"p-4 shadow-soft border-primary/20 bg-primary/5 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:i.jsx(kx,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:"Tom de pele"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[(r==null?void 0:r.skinTone)||"Primavera"," - cores ",(r==null?void 0:r.skinTone)==="primavera"||(r==null?void 0:r.skinTone)==="outono"?"quentes":"frias"]})]})]})}),i.jsx(D,{className:"p-4 shadow-soft border-secondary/20 bg-secondary/5 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/20 flex items-center justify-center",children:i.jsx(mr,{className:"w-5 h-5 text-secondary-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:"Formato do rosto"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[(r==null?void 0:r.faceShape)||"Oval"," - verstil"]})]})]})}),i.jsxs(D,{className:`p-4 shadow-soft border-accent/20 ${d===0?"bg-red-500/10":"bg-accent/5"} backdrop-blur-sm`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-accent/20 flex items-center justify-center",children:i.jsx(xn,{className:"w-5 h-5 text-accent-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:"Suas peas do closet"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d===0?" Adicione peas primeiro!":` ${d} ${d===1?"pea":"peas"} cadastrada${d===1?"":"s"}`})]})]}),d===0&&i.jsx(z,{onClick:()=>e("/style"),variant:"outline",size:"sm",className:"w-full mt-3",children:"Ir para Glow Style "})]})]}),i.jsx(z,{onClick:y,disabled:s||d===0,className:"w-full bg-gradient-primary hover:opacity-90 transition-opacity shadow-medium",size:"lg",children:s?i.jsxs(i.Fragment,{children:[i.jsx(Ld,{className:"mr-2 w-5 h-5 animate-spin"}),"IA montando seu look..."]}):d===0?i.jsxs(i.Fragment,{children:[i.jsx(xn,{className:"mr-2 w-5 h-5"}),"Adicione peas primeiro"]}):i.jsxs(i.Fragment,{children:[i.jsx(he,{className:"mr-2 w-5 h-5"}),"Montar look com minhas ",d," ",d===1?"pea":"peas"]})})]})})]})};var M1={exports:{}},U1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=v;function KI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QI=typeof Object.is=="function"?Object.is:KI,JI=_o.useState,YI=_o.useEffect,XI=_o.useLayoutEffect,ZI=_o.useDebugValue;function e5(e,t){var r=t(),n=JI({inst:{value:r,getSnapshot:t}}),s=n[0].inst,o=n[1];return XI(function(){s.value=r,s.getSnapshot=t,Ru(s)&&o({inst:s})},[e,r,t]),YI(function(){return Ru(s)&&o({inst:s}),e(function(){Ru(s)&&o({inst:s})})},[e]),ZI(r),r}function Ru(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!QI(e,r)}catch{return!0}}function t5(e,t){return t()}var r5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t5:e5;U1.useSyncExternalStore=_o.useSyncExternalStore!==void 0?_o.useSyncExternalStore:r5;M1.exports=U1;var n5=M1.exports;function s5(){return n5.useSyncExternalStore(o5,()=>!0,()=>!1)}function o5(){return()=>{}}var Zf="Avatar",[a5,cL]=St(Zf),[i5,F1]=a5(Zf),z1=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=v.useState("idle");return i.jsx(i5,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:i.jsx(se.span,{...n,ref:t})})});z1.displayName=Zf;var B1="AvatarImage",V1=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,a=F1(B1,r),l=l5(n,o),c=Lt(u=>{s(u),a.onImageLoadingStatusChange(u)});return $t(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(se.img,{...o,ref:t,src:n}):null});V1.displayName=B1;var H1="AvatarFallback",q1=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=F1(H1,r),[a,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&o.imageLoadingStatus!=="loaded"?i.jsx(se.span,{...s,ref:t}):null});q1.displayName=H1;function dv(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function l5(e,{referrerPolicy:t,crossOrigin:r}){const n=s5(),s=v.useRef(null),o=n?(s.current||(s.current=new window.Image),s.current):null,[a,l]=v.useState(()=>dv(o,e));return $t(()=>{l(dv(o,e))},[o,e]),$t(()=>{const c=h=>()=>{l(h)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,r,t]),a}var G1=z1,W1=V1,K1=q1;const Q1=v.forwardRef(({className:e,...t},r)=>i.jsx(G1,{ref:r,className:ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Q1.displayName=G1.displayName;const J1=v.forwardRef(({className:e,...t},r)=>i.jsx(W1,{ref:r,className:ee("aspect-square h-full w-full",e),...t}));J1.displayName=W1.displayName;const Y1=v.forwardRef(({className:e,...t},r)=>i.jsx(K1,{ref:r,className:ee("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Y1.displayName=K1.displayName;const c5=dc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function u5({className:e,variant:t,...r}){return i.jsx("div",{className:ee(c5({variant:t}),e),...r})}const d5=()=>{var l;const e=Ue(),[t,r]=v.useState("profile"),n=pe(c=>c.profile),s=[{label:"Dias de Glow",value:(n==null?void 0:n.stats.glowDays)||0,color:"primary"},{label:"Anlises",value:(n==null?void 0:n.stats.checkIns)||0,color:"secondary"},{label:"Looks criados",value:(n==null?void 0:n.stats.looksCreated)||0,color:"accent"}],o=[{icon:Dd,label:"7 dias seguidos",color:"primary",unlocked:((n==null?void 0:n.stats.glowDays)||0)>=7},{icon:he,label:"10 anlises",color:"secondary",unlocked:((n==null?void 0:n.stats.checkIns)||0)>=10},{icon:mr,label:"Primeira anlise",color:"accent",unlocked:!!(n!=null&&n.faceShape)}],a=n!=null&&n.joinedDate?new Date(n.joinedDate).toLocaleDateString("pt-BR",{month:"long",year:"numeric"}):"Novembro 2025";return i.jsxs("div",{className:"min-h-screen bg-gradient-glow pb-24",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border",children:i.jsx("div",{className:"max-w-md mx-auto px-6 py-6",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsxs(Q1,{className:"w-24 h-24 border-4 border-primary/20 shadow-glow",children:[n!=null&&n.photoUrl?i.jsx(J1,{src:n.photoUrl}):null,i.jsx(Y1,{className:"bg-gradient-primary text-2xl text-primary-foreground",children:((l=n==null?void 0:n.name)==null?void 0:l.charAt(0).toUpperCase())||"U"})]}),i.jsx("button",{onClick:()=>e("/edit-profile"),className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-gradient-primary shadow-medium flex items-center justify-center border-2 border-card hover:opacity-90 transition-opacity",children:i.jsx(ZE,{className:"w-4 h-4 text-primary-foreground"})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("h1",{className:"text-2xl font-bold",children:[(n==null?void 0:n.name)||"Usurio"," "]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(n==null?void 0:n.email)||"email@exemplo.com"})]}),i.jsxs(u5,{className:"bg-gradient-primary text-primary-foreground shadow-soft",children:[i.jsx(Dd,{className:"w-3 h-3 mr-1"}),"Glow Member"]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[i.jsx("div",{className:"grid grid-cols-3 gap-3",children:s.map((c,u)=>i.jsxs(D,{className:"p-4 text-center shadow-soft border-border/50 bg-card/50 backdrop-blur-sm",children:[i.jsx("div",{className:"text-2xl font-bold text-foreground",children:c.value}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c.label})]},u))}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-lg font-semibold px-1",children:"Conquistas"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:o.map((c,u)=>{const d=c.icon;return i.jsxs(D,{className:`p-4 text-center shadow-soft backdrop-blur-sm transition-all ${c.unlocked?`border-${c.color}/20 bg-${c.color}/10`:"border-border/50 bg-card/30 opacity-60"}`,children:[i.jsx("div",{className:`w-12 h-12 mx-auto mb-2 rounded-full flex items-center justify-center ${c.unlocked?`bg-${c.color}/20`:"bg-border/50"}`,children:i.jsx(d,{className:`w-6 h-6 ${c.unlocked?`text-${c.color}-foreground`:"text-muted-foreground"}`})}),i.jsx("p",{className:"text-xs font-medium",children:c.label})]},u)})}),i.jsxs(z,{variant:"outline",className:"w-full",onClick:()=>e("/my-progress"),children:[i.jsx(Pl,{className:"w-4 h-4 mr-2"}),"Ver Todas as Conquistas"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-lg font-semibold px-1",children:"Meu Perfil de Beleza"}),i.jsxs(D,{className:"p-5 shadow-soft border-primary/20 bg-card/50 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(kx,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:"Colorao Pessoal"}),i.jsxs("p",{className:"text-sm text-muted-foreground capitalize",children:["Tom de pele: ",(n==null?void 0:n.skinTone)||"No definido"]})]})]}),i.jsx("div",{className:"flex gap-2",children:["#F4A460","#FFD700","#FF6B6B","#98D8C8"].map((c,u)=>i.jsx("div",{className:"w-10 h-10 rounded-full shadow-soft border-2 border-card",style:{backgroundColor:c}},u))}),i.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"Cores quentes valorizam sua beleza natural "})]}),i.jsx(D,{className:"p-5 shadow-soft border-secondary/20 bg-card/50 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary/10 flex items-center justify-center",children:i.jsx(mr,{className:"w-6 h-6 text-secondary-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:"Formato do Rosto"}),i.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:(n==null?void 0:n.faceShape)||"No definido"})]})]})}),i.jsx(D,{className:"p-5 shadow-soft border-accent/20 bg-card/50 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center",children:i.jsx(Id,{className:"w-6 h-6 text-accent-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:"Membro desde"}),i.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:a})]})]})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-lg font-semibold px-1",children:"Configuraes"}),i.jsxs(D,{className:"divide-y divide-border/50 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm overflow-hidden",children:[i.jsxs("button",{onClick:()=>e("/weekly-planner"),className:"w-full p-4 flex items-center gap-3 hover:bg-muted/50 transition-colors text-left",children:[i.jsx(Id,{className:"w-5 h-5 text-primary"}),i.jsx("span",{className:"flex-1 font-medium",children:"Planejador Semanal"}),i.jsx("span",{className:"text-muted-foreground",children:""})]}),i.jsxs("button",{onClick:()=>e("/reminders"),className:"w-full p-4 flex items-center gap-3 hover:bg-muted/50 transition-colors text-left",children:[i.jsx(gf,{className:"w-5 h-5 text-secondary"}),i.jsx("span",{className:"flex-1 font-medium",children:"Lembretes"}),i.jsx("span",{className:"text-muted-foreground",children:""})]}),i.jsxs("button",{onClick:()=>e("/settings"),className:"w-full p-4 flex items-center gap-3 hover:bg-muted/50 transition-colors text-left",children:[i.jsx(JE,{className:"w-5 h-5 text-muted-foreground"}),i.jsx("span",{className:"flex-1 font-medium",children:"Configuraes gerais"}),i.jsx("span",{className:"text-muted-foreground",children:""})]}),i.jsxs("button",{onClick:()=>e("/edit-profile"),className:"w-full p-4 flex items-center gap-3 hover:bg-muted/50 transition-colors text-left",children:[i.jsx(hc,{className:"w-5 h-5 text-muted-foreground"}),i.jsx("span",{className:"flex-1 font-medium",children:"Editar perfil"}),i.jsx("span",{className:"text-muted-foreground",children:""})]}),i.jsxs("button",{onClick:()=>e("/onboarding"),className:"w-full p-4 flex items-center gap-3 hover:bg-muted/50 transition-colors text-left",children:[i.jsx(yn,{className:"w-5 h-5 text-muted-foreground"}),i.jsx("span",{className:"flex-1 font-medium",children:"Refazer anlise"}),i.jsx("span",{className:"text-muted-foreground",children:""})]})]})]}),i.jsxs(D,{className:"p-6 text-center shadow-soft border-primary/20 bg-gradient-primary/5 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(he,{className:"w-5 h-5 text-primary animate-glow-pulse"}),i.jsx("p",{className:"font-semibold",children:"Continue brilhando!"})]}),i.jsx("p",{className:"text-sm text-muted-foreground italic",children:'"Voc est em uma jornada incrvel de autodescoberta "'})]})]}),i.jsx(vr,{activeTab:t,onTabChange:r})]})};var Pc="Switch",[h5,uL]=St(Pc),[f5,m5]=h5(Pc),X1=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[m,f]=v.useState(null),x=xe(t,b=>f(b)),p=v.useRef(!1),y=m?d||!!m.closest("form"):!0,[w,g]=fs({prop:s,defaultProp:o??!1,onChange:u,caller:Pc});return i.jsxs(f5,{scope:r,checked:w,disabled:l,children:[i.jsx(se.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":r_(w),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:ne(e.onClick,b=>{g(_=>!_),y&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),y&&i.jsx(t_,{control:m,bubbles:!p.current,name:n,value:c,checked:w,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});X1.displayName=Pc;var Z1="SwitchThumb",e_=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=m5(Z1,r);return i.jsx(se.span,{"data-state":r_(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});e_.displayName=Z1;var p5="SwitchBubbleInput",t_=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const a=v.useRef(null),l=xe(a,o),c=Gf(r),u=gc(t);return v.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const x=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(x)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});t_.displayName=p5;function r_(e){return e?"checked":"unchecked"}var n_=X1,g5=e_;const Hl=v.forwardRef(({className:e,...t},r)=>i.jsx(n_,{className:ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:i.jsx(g5,{className:ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Hl.displayName=n_.displayName;var Au="focusScope.autoFocusOnMount",Pu="focusScope.autoFocusOnUnmount",hv={bubbles:!1,cancelable:!0},v5="FocusScope",s_=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[l,c]=v.useState(null),u=Lt(s),d=Lt(o),h=v.useRef(null),m=xe(t,p=>c(p)),f=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let p=function(b){if(f.paused||!l)return;const _=b.target;l.contains(_)?h.current=_:Kr(h.current,{select:!0})},y=function(b){if(f.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Kr(h.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Kr(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const g=new MutationObserver(w);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),g.disconnect()}}},[n,l,f.paused]),v.useEffect(()=>{if(l){mv.add(f);const p=document.activeElement;if(!l.contains(p)){const w=new CustomEvent(Au,hv);l.addEventListener(Au,u),l.dispatchEvent(w),w.defaultPrevented||(y5(j5(o_(l)),{select:!0}),document.activeElement===p&&Kr(l))}return()=>{l.removeEventListener(Au,u),setTimeout(()=>{const w=new CustomEvent(Pu,hv);l.addEventListener(Pu,d),l.dispatchEvent(w),w.defaultPrevented||Kr(p??document.body,{select:!0}),l.removeEventListener(Pu,d),mv.remove(f)},0)}}},[l,u,d,f]);const x=v.useCallback(p=>{if(!r&&!n||f.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,w=document.activeElement;if(y&&w){const g=p.currentTarget,[b,_]=x5(g);b&&_?!p.shiftKey&&w===_?(p.preventDefault(),r&&Kr(b,{select:!0})):p.shiftKey&&w===b&&(p.preventDefault(),r&&Kr(_,{select:!0})):w===g&&p.preventDefault()}},[r,n,f.paused]);return i.jsx(se.div,{tabIndex:-1,...a,ref:m,onKeyDown:x})});s_.displayName=v5;function y5(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Kr(n,{select:t}),document.activeElement!==r)return}function x5(e){const t=o_(e),r=fv(t,e),n=fv(t.reverse(),e);return[r,n]}function o_(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function fv(e,t){for(const r of e)if(!w5(r,{upTo:t}))return r}function w5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function b5(e){return e instanceof HTMLInputElement&&"select"in e}function Kr(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&b5(e)&&t&&e.select()}}var mv=_5();function _5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=pv(e,t),e.unshift(t)},remove(t){var r;e=pv(e,t),(r=e[0])==null||r.resume()}}}function pv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function j5(e){return e.filter(t=>t.tagName!=="A")}var Ou=0;function S5(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??gv()),document.body.insertAdjacentElement("beforeend",e[1]??gv()),Ou++,()=>{Ou===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ou--}},[])}function gv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ol="right-scroll-bar-position",al="width-before-scroll-bar",N5="with-scroll-bars-hidden",E5="--removed-body-scroll-bar-size";function Iu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function k5(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var C5=typeof window<"u"?v.useLayoutEffect:v.useEffect,vv=new WeakMap;function T5(e,t){var r=k5(null,function(n){return e.forEach(function(s){return Iu(s,n)})});return C5(function(){var n=vv.get(r);if(n){var s=new Set(n),o=new Set(e),a=r.current;s.forEach(function(l){o.has(l)||Iu(l,null)}),o.forEach(function(l){s.has(l)||Iu(l,a)})}vv.set(r,e)},[e]),r}function R5(e){return e}function A5(e,t){t===void 0&&(t=R5);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var a=t(o,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(o),a=r}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function P5(e){e===void 0&&(e={});var t=A5(null);return t.options=Rt({async:!0,ssr:!1},e),t}var a_=function(e){var t=e.sideCar,r=Tn(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Rt({},r))};a_.isSideCarExport=!0;function O5(e,t){return e.useMedium(t),a_}var i_=P5(),Du=function(){},Oc=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Du,onWheelCapture:Du,onTouchMoveCapture:Du}),s=n[0],o=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,f=e.noRelative,x=e.noIsolation,p=e.inert,y=e.allowPinchZoom,w=e.as,g=w===void 0?"div":w,b=e.gapMode,_=Tn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,j=T5([r,t]),S=Rt(Rt({},_),s);return v.createElement(v.Fragment,null,d&&v.createElement(N,{sideCar:i_,removeScrollBar:u,shards:h,noRelative:f,noIsolation:x,inert:p,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:b}),a?v.cloneElement(v.Children.only(l),Rt(Rt({},S),{ref:j})):v.createElement(g,Rt({},S,{className:c,ref:j}),l))});Oc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Oc.classNames={fullWidth:al,zeroRight:ol};var I5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=I5();return t&&e.setAttribute("nonce",t),e}function L5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var M5=function(){var e=0,t=null;return{add:function(r){e==0&&(t=D5())&&(L5(t,r),$5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},U5=function(){var e=M5();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},l_=function(){var e=U5(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},F5={left:0,top:0,right:0,gap:0},Lu=function(e){return parseInt(e||"",10)||0},z5=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Lu(r),Lu(n),Lu(s)]},B5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return F5;var t=z5(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},V5=l_(),eo="data-scroll-locked",H5=function(e,t,r,n){var s=e.left,o=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(N5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(eo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ol,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(al,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ol," .").concat(ol,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(al," .").concat(al,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(eo,`] {
    `).concat(E5,": ").concat(l,`px;
  }
`)},yv=function(){var e=parseInt(document.body.getAttribute(eo)||"0",10);return isFinite(e)?e:0},q5=function(){v.useEffect(function(){return document.body.setAttribute(eo,(yv()+1).toString()),function(){var e=yv()-1;e<=0?document.body.removeAttribute(eo):document.body.setAttribute(eo,e.toString())}},[])},G5=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;q5();var o=v.useMemo(function(){return B5(s)},[s]);return v.createElement(V5,{styles:H5(o,!t,s,r?"":"!important")})},ch=!1;if(typeof window<"u")try{var Ui=Object.defineProperty({},"passive",{get:function(){return ch=!0,!0}});window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{ch=!1}var ks=ch?{passive:!1}:!1,W5=function(e){return e.tagName==="TEXTAREA"},c_=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!W5(e)&&r[t]==="visible")},K5=function(e){return c_(e,"overflowY")},Q5=function(e){return c_(e,"overflowX")},xv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=u_(e,n);if(s){var o=d_(e,n),a=o[1],l=o[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},J5=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Y5=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},u_=function(e,t){return e==="v"?K5(t):Q5(t)},d_=function(e,t){return e==="v"?J5(t):Y5(t)},X5=function(e,t){return e==="h"&&t==="rtl"?-1:1},Z5=function(e,t,r,n,s){var o=X5(e,window.getComputedStyle(t).direction),a=o*n,l=r.target,c=t.contains(l),u=!1,d=a>0,h=0,m=0;do{if(!l)break;var f=d_(e,l),x=f[0],p=f[1],y=f[2],w=p-y-o*x;(x||w)&&u_(e,l)&&(h+=w,m+=x);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},Fi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wv=function(e){return[e.deltaX,e.deltaY]},bv=function(e){return e&&"current"in e?e.current:e},eD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rD=0,Cs=[];function nD(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(rD++)[0],o=v.useState(l_)[0],a=v.useRef(e);v.useEffect(function(){a.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Lf([e.lockRef.current],(e.shards||[]).map(bv),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!a.current.allowPinchZoom;var w=Fi(p),g=r.current,b="deltaX"in p?p.deltaX:g[0]-w[0],_="deltaY"in p?p.deltaY:g[1]-w[1],N,j=p.target,S=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&S==="h"&&j.type==="range")return!1;var E=xv(S,j);if(!E)return!0;if(E?N=S:(N=S==="v"?"h":"v",E=xv(S,j)),!E)return!1;if(!n.current&&"changedTouches"in p&&(b||_)&&(n.current=N),!N)return!0;var C=n.current||N;return Z5(C,y,p,C==="h"?b:_,!0)},[]),c=v.useCallback(function(p){var y=p;if(!(!Cs.length||Cs[Cs.length-1]!==o)){var w="deltaY"in y?wv(y):Fi(y),g=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&eD(N.delta,w)})[0];if(g&&g.should){y.cancelable&&y.preventDefault();return}if(!g){var b=(a.current.shards||[]).map(bv).filter(Boolean).filter(function(N){return N.contains(y.target)}),_=b.length>0?l(y,b[0]):!a.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=v.useCallback(function(p,y,w,g){var b={name:p,delta:y,target:w,should:g,shadowParent:sD(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=v.useCallback(function(p){r.current=Fi(p),n.current=void 0},[]),h=v.useCallback(function(p){u(p.type,wv(p),p.target,l(p,e.lockRef.current))},[]),m=v.useCallback(function(p){u(p.type,Fi(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Cs.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ks),document.addEventListener("touchmove",c,ks),document.addEventListener("touchstart",d,ks),function(){Cs=Cs.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,ks),document.removeEventListener("touchmove",c,ks),document.removeEventListener("touchstart",d,ks)}},[]);var f=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(o,{styles:tD(s)}):null,f?v.createElement(G5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function sD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const oD=O5(i_,nD);var h_=v.forwardRef(function(e,t){return v.createElement(Oc,Rt({},e,{ref:t,sideCar:oD}))});h_.classNames=Oc.classNames;var aD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ts=new WeakMap,zi=new WeakMap,Bi={},$u=0,f_=function(e){return e&&(e.host||f_(e.parentNode))},iD=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=f_(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},lD=function(e,t,r,n){var s=iD(t,Array.isArray(e)?e:[e]);Bi[r]||(Bi[r]=new WeakMap);var o=Bi[r],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var f=m.getAttribute(n),x=f!==null&&f!=="false",p=(Ts.get(m)||0)+1,y=(o.get(m)||0)+1;Ts.set(m,p),o.set(m,y),a.push(m),p===1&&x&&zi.set(m,!0),y===1&&m.setAttribute(r,"true"),x||m.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),l.clear(),$u++,function(){a.forEach(function(h){var m=Ts.get(h)-1,f=o.get(h)-1;Ts.set(h,m),o.set(h,f),m||(zi.has(h)||h.removeAttribute(n),zi.delete(h)),f||h.removeAttribute(r)}),$u--,$u||(Ts=new WeakMap,Ts=new WeakMap,zi=new WeakMap,Bi={})}},cD=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=aD(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),lD(n,s,r,"aria-hidden")):function(){return null}},Ic="Dialog",[m_,p_]=St(Ic),[uD,nr]=m_(Ic),g_=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,d]=fs({prop:n,defaultProp:s??!1,onChange:o,caller:Ic});return i.jsx(uD,{scope:t,triggerRef:l,contentRef:c,contentId:ia(),titleId:ia(),descriptionId:ia(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};g_.displayName=Ic;var v_="DialogTrigger",y_=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=nr(v_,r),o=xe(t,s.triggerRef);return i.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rm(s.open),...n,ref:o,onClick:ne(e.onClick,s.onOpenToggle)})});y_.displayName=v_;var em="DialogPortal",[dD,x_]=m_(em,{forceMount:void 0}),w_=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=nr(em,t);return i.jsx(dD,{scope:t,forceMount:r,children:v.Children.map(n,a=>i.jsx(Dr,{present:r||o.open,children:i.jsx(hf,{asChild:!0,container:s,children:a})}))})};w_.displayName=em;var ql="DialogOverlay",b_=v.forwardRef((e,t)=>{const r=x_(ql,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=nr(ql,e.__scopeDialog);return o.modal?i.jsx(Dr,{present:n||o.open,children:i.jsx(fD,{...s,ref:t})}):null});b_.displayName=ql;var hD=Ta("DialogOverlay.RemoveScroll"),fD=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=nr(ql,r);return i.jsx(h_,{as:hD,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(se.div,{"data-state":rm(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),us="DialogContent",__=v.forwardRef((e,t)=>{const r=x_(us,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=nr(us,e.__scopeDialog);return i.jsx(Dr,{present:n||o.open,children:o.modal?i.jsx(mD,{...s,ref:t}):i.jsx(pD,{...s,ref:t})})});__.displayName=us;var mD=v.forwardRef((e,t)=>{const r=nr(us,e.__scopeDialog),n=v.useRef(null),s=xe(t,r.contentRef,n);return v.useEffect(()=>{const o=n.current;if(o)return cD(o)},[]),i.jsx(j_,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ne(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:ne(e.onFocusOutside,o=>o.preventDefault())})}),pD=v.forwardRef((e,t)=>{const r=nr(us,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return i.jsx(j_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),j_=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,l=nr(us,r),c=v.useRef(null),u=xe(t,c);return S5(),i.jsxs(i.Fragment,{children:[i.jsx(s_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(lc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":rm(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(vD,{titleId:l.titleId}),i.jsx(xD,{contentRef:c,descriptionId:l.descriptionId})]})]})}),tm="DialogTitle",S_=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=nr(tm,r);return i.jsx(se.h2,{id:s.titleId,...n,ref:t})});S_.displayName=tm;var N_="DialogDescription",E_=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=nr(N_,r);return i.jsx(se.p,{id:s.descriptionId,...n,ref:t})});E_.displayName=N_;var k_="DialogClose",C_=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=nr(k_,r);return i.jsx(se.button,{type:"button",...n,ref:t,onClick:ne(e.onClick,()=>s.onOpenChange(!1))})});C_.displayName=k_;function rm(e){return e?"open":"closed"}var T_="DialogTitleWarning",[gD,R_]=VN(T_,{contentName:us,titleName:tm,docsSlug:"dialog"}),vD=({titleId:e})=>{const t=R_(T_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},yD="DialogDescriptionWarning",xD=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${R_(yD).contentName}}.`;return v.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},A_=g_,P_=y_,O_=w_,nm=b_,sm=__,om=S_,am=E_,im=C_,I_="AlertDialog",[wD,dL]=St(I_,[p_]),Lr=p_(),D_=e=>{const{__scopeAlertDialog:t,...r}=e,n=Lr(t);return i.jsx(A_,{...n,...r,modal:!0})};D_.displayName=I_;var bD="AlertDialogTrigger",L_=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Lr(r);return i.jsx(P_,{...s,...n,ref:t})});L_.displayName=bD;var _D="AlertDialogPortal",$_=e=>{const{__scopeAlertDialog:t,...r}=e,n=Lr(t);return i.jsx(O_,{...n,...r})};$_.displayName=_D;var jD="AlertDialogOverlay",M_=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Lr(r);return i.jsx(nm,{...s,...n,ref:t})});M_.displayName=jD;var to="AlertDialogContent",[SD,ND]=wD(to),ED=Q0("AlertDialogContent"),U_=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=Lr(r),a=v.useRef(null),l=xe(t,a),c=v.useRef(null);return i.jsx(gD,{contentName:to,titleName:F_,docsSlug:"alert-dialog",children:i.jsx(SD,{scope:r,cancelRef:c,children:i.jsxs(sm,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:ne(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(ED,{children:n}),i.jsx(CD,{contentRef:a})]})})})});U_.displayName=to;var F_="AlertDialogTitle",z_=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Lr(r);return i.jsx(om,{...s,...n,ref:t})});z_.displayName=F_;var B_="AlertDialogDescription",V_=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Lr(r);return i.jsx(am,{...s,...n,ref:t})});V_.displayName=B_;var kD="AlertDialogAction",H_=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Lr(r);return i.jsx(im,{...s,...n,ref:t})});H_.displayName=kD;var q_="AlertDialogCancel",G_=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=ND(q_,r),o=Lr(r),a=xe(t,s);return i.jsx(im,{...o,...n,ref:a})});G_.displayName=q_;var CD=({contentRef:e})=>{const t=`\`${to}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${to}\` by passing a \`${B_}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${to}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},TD=D_,RD=L_,AD=$_,W_=M_,K_=U_,Q_=H_,J_=G_,Y_=z_,X_=V_;const _v=TD,PD=RD,OD=AD,Z_=v.forwardRef(({className:e,...t},r)=>i.jsx(W_,{className:ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Z_.displayName=W_.displayName;const uh=v.forwardRef(({className:e,...t},r)=>i.jsxs(OD,{children:[i.jsx(Z_,{}),i.jsx(K_,{ref:r,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));uh.displayName=K_.displayName;const dh=({className:e,...t})=>i.jsx("div",{className:ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});dh.displayName="AlertDialogHeader";const hh=({className:e,...t})=>i.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});hh.displayName="AlertDialogFooter";const fh=v.forwardRef(({className:e,...t},r)=>i.jsx(Y_,{ref:r,className:ee("text-lg font-semibold",e),...t}));fh.displayName=Y_.displayName;const mh=v.forwardRef(({className:e,...t},r)=>i.jsx(X_,{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));mh.displayName=X_.displayName;const ej=v.forwardRef(({className:e,...t},r)=>i.jsx(Q_,{ref:r,className:ee(If(),e),...t}));ej.displayName=Q_.displayName;const ph=v.forwardRef(({className:e,...t},r)=>i.jsx(J_,{ref:r,className:ee(If({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ph.displayName=J_.displayName;const ID=()=>{var x;const e=Ue(),{toast:t}=at(),r=pe(p=>p.profile),n=pe(p=>p.setProfile),s=pe(p=>p.clearProfile),{theme:o,setTheme:a}=Bx(),[l,c]=v.useState(!0),[u,d]=v.useState(!1),h=async p=>{if(r!=null&&r.email)try{const{error:y}=await Y.from("profiles").update({gender:p}).eq("email",r.email);if(y)throw y;n({...r,gender:p}),d(!1),t({title:"Gnero atualizado! ",description:`Perfil atualizado para ${p}`})}catch(y){console.error("Erro ao atualizar gnero:",y),t({title:"Erro",description:"No foi possvel atualizar o gnero",variant:"destructive"})}},m=()=>{s(),t({title:"Logout realizado",description:"At logo! Volte sempre! "}),e("/")},f=()=>{s(),t({title:"Conta excluda",description:"Seus dados foram removidos com sucesso.",variant:"destructive"}),e("/")};return i.jsxs("div",{className:"min-h-screen bg-gradient-glow pb-24",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:i.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/dashboard"),className:"rounded-full",children:i.jsx(Xa,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-2xl font-bold",children:"Configuraes"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-lg font-semibold px-1",children:"Perfil"}),i.jsxs(D,{className:"p-5 shadow-soft border-primary/20 bg-card/50 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r!=null&&r.photoUrl?i.jsx("img",{src:r.photoUrl,alt:"Profile",className:"w-16 h-16 rounded-full object-cover border-2 border-primary/20"}):i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-primary flex items-center justify-center text-primary-foreground font-bold text-2xl",children:((x=r==null?void 0:r.name)==null?void 0:x.charAt(0).toUpperCase())||"U"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-lg",children:(r==null?void 0:r.name)||"Usurio"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(r==null?void 0:r.email)||"email@exemplo.com"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(z,{variant:"outline",className:"w-full justify-start",onClick:()=>e("/edit-profile"),children:[i.jsx(hc,{className:"w-4 h-4 mr-2"}),"Editar Perfil"]}),i.jsxs(z,{variant:"outline",className:"w-full justify-start",onClick:()=>e("/onboarding"),children:[i.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Refazer Anlise Facial"]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-lg font-semibold px-1",children:"Preferncias"}),i.jsxs(D,{className:"p-5 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ax,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx(Pt,{className:"text-base font-medium",children:"Gnero"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(r==null?void 0:r.gender)==="masculino"?"Masculino":(r==null?void 0:r.gender)==="feminino"?"Feminino":"No definido"})]})]}),i.jsx(z,{variant:"outline",size:"sm",onClick:()=>d(!0),children:"Alterar"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(gf,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx(Pt,{htmlFor:"notifications",className:"text-base font-medium",children:"Notificaes"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receber lembretes dirios"})]})]}),i.jsx(Hl,{id:"notifications",checked:l,onCheckedChange:c})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[o==="dark"?i.jsx(WE,{className:"w-5 h-5 text-muted-foreground"}):i.jsx(Rx,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx(Pt,{htmlFor:"darkMode",className:"text-base font-medium",children:"Modo Escuro"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tema escuro para o app"})]})]}),i.jsx(Hl,{id:"darkMode",checked:o==="dark",onCheckedChange:p=>a(p?"dark":"light")})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-lg font-semibold px-1",children:"Sobre"}),i.jsxs(D,{className:"p-5 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm space-y-2",children:[i.jsx(z,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-foreground",onClick:()=>e("/about"),children:"Sobre o Glow UP"}),i.jsx(z,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-foreground",onClick:()=>e("/privacy"),children:"Poltica de Privacidade"}),i.jsx(z,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-foreground",onClick:()=>e("/terms"),children:"Termos de Uso"}),i.jsx("div",{className:"pt-2 border-t border-border/50",children:i.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Verso 1.0.0"})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-lg font-semibold px-1 text-destructive",children:"Zona de Perigo"}),i.jsxs(D,{className:"p-5 shadow-soft border-destructive/20 bg-card/50 backdrop-blur-sm space-y-2",children:[i.jsxs(z,{variant:"outline",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",onClick:m,children:[i.jsx(GE,{className:"w-4 h-4 mr-2"}),"Sair da Conta"]}),i.jsxs(_v,{children:[i.jsx(PD,{asChild:!0,children:i.jsxs(z,{variant:"outline",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",children:[i.jsx(as,{className:"w-4 h-4 mr-2"}),"Excluir Conta"]})}),i.jsxs(uh,{children:[i.jsxs(dh,{children:[i.jsx(fh,{children:"Tem certeza?"}),i.jsx(mh,{children:"Esta ao no pode ser desfeita. Todos os seus dados sero permanentemente excludos de nossos servidores."})]}),i.jsxs(hh,{children:[i.jsx(ph,{children:"Cancelar"}),i.jsx(ej,{onClick:f,className:"bg-destructive hover:bg-destructive/90",children:"Sim, excluir minha conta"})]})]})]})]})]})]}),i.jsx(_v,{open:u,onOpenChange:d,children:i.jsxs(uh,{children:[i.jsxs(dh,{children:[i.jsx(fh,{children:"Atualizar Gnero"}),i.jsx(mh,{children:"Selecione seu gnero para recomendaes personalizadas"})]}),i.jsxs("div",{className:"space-y-2 py-4",children:[i.jsx(z,{onClick:()=>h("masculino"),variant:(r==null?void 0:r.gender)==="masculino"?"default":"outline",className:"w-full",children:"Masculino"}),i.jsx(z,{onClick:()=>h("feminino"),variant:(r==null?void 0:r.gender)==="feminino"?"default":"outline",className:"w-full",children:"Feminino"})]}),i.jsx(hh,{children:i.jsx(ph,{children:"Cancelar"})})]})})]})},DD=()=>{const e=Ue(),{toast:t}=at(),r=pe(x=>x.profile),n=pe(x=>x.updateProfile),[s,o]=v.useState((r==null?void 0:r.name)||""),[a,l]=v.useState((r==null?void 0:r.email)||""),[c,u]=v.useState((r==null?void 0:r.photoUrl)||""),[d,h]=v.useState(!1),m=x=>{var y;const p=(y=x.target.files)==null?void 0:y[0];if(p){const w=new FileReader;w.onloadend=()=>{u(w.result)},w.readAsDataURL(p)}},f=async()=>{if(!s.trim()){t({title:"Nome obrigatrio",description:"Por favor, preencha seu nome",variant:"destructive"});return}if(!a.trim()||!a.includes("@")){t({title:"Email invlido",description:"Por favor, digite um email vlido",variant:"destructive"});return}h(!0);try{await n({name:s.trim(),email:a.trim().toLowerCase(),photoUrl:c||void 0}),t({title:"Perfil atualizado! ",description:"Suas informaes foram salvas com sucesso"}),e("/settings")}catch(x){console.error("Erro ao atualizar perfil:",x),t({title:"Erro ao salvar",description:"No foi possvel atualizar seu perfil",variant:"destructive"})}finally{h(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-glow pb-24",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:i.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/settings"),className:"rounded-full",children:i.jsx(Xa,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-2xl font-bold",children:"Editar Perfil"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[i.jsx(D,{className:"p-6 shadow-soft border-primary/20 bg-card/50 backdrop-blur-sm",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(Pt,{children:"Foto do Perfil"}),i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c?i.jsx("img",{src:c,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-primary/20 shadow-medium"}):i.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-primary flex items-center justify-center text-primary-foreground font-bold text-5xl shadow-medium",children:(s==null?void 0:s.charAt(0).toUpperCase())||"U"}),i.jsxs("label",{className:"cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-primary bg-primary/10 hover:bg-primary/20 transition-colors",children:[i.jsx(yn,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:c?"Trocar Foto":"Adicionar Foto"})]}),i.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"hidden"})]}),c&&i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>u(""),className:"text-destructive hover:text-destructive",children:"Remover Foto"})]})]})}),i.jsxs(D,{className:"p-6 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Pt,{htmlFor:"name",children:"Nome completo"}),i.jsx(Or,{id:"name",type:"text",placeholder:"Seu nome",value:s,onChange:x=>o(x.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Pt,{htmlFor:"email",children:"Email"}),i.jsx(Or,{id:"email",type:"email",placeholder:"seu@email.com",value:a,onChange:x=>l(x.target.value)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Usado para login e recuperao de conta"})]})]}),i.jsxs(D,{className:"p-6 shadow-soft border-primary/20 bg-gradient-primary/5 backdrop-blur-sm space-y-3",children:[i.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[i.jsx("span",{children:"Anlise Facial"}),i.jsxs("span",{className:"text-xs bg-primary/20 px-2 py-1 rounded-full",children:[r==null?void 0:r.analysisConfidence,"% confiana"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"p-3 rounded-lg bg-card/50 border border-border/50",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tom de pele"}),i.jsx("p",{className:"font-medium capitalize",children:(r==null?void 0:r.skinTone)||"No analisado"})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-card/50 border border-border/50",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Formato do rosto"}),i.jsx("p",{className:"font-medium capitalize",children:(r==null?void 0:r.faceShape)||"No analisado"})]})]}),i.jsx(z,{variant:"outline",className:"w-full",onClick:()=>e("/onboarding"),children:"Refazer Anlise"})]}),i.jsx(z,{onClick:f,className:"w-full bg-gradient-primary hover:opacity-90 shadow-medium",size:"lg",disabled:d||!s.trim()||!a.trim(),children:d?i.jsxs(i.Fragment,{children:[i.jsx(Js,{className:"mr-2 w-5 h-5 animate-spin"}),"Salvando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(KE,{className:"mr-2 w-5 h-5"}),"Salvar Alteraes"]})})]})]})},LD=()=>{const e=Ue(),t=pe(a=>a.profile),[r,n]=v.useState("profile"),s=t!=null&&t.joinedDate?new Date(t.joinedDate).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"}):"Data no disponvel",o=[{id:1,title:"Primeira Anlise",description:"Completou a anlise facial",icon:"",unlocked:!0},{id:2,title:"Glow Starter",description:"1 dia de glow",icon:"",unlocked:((t==null?void 0:t.stats.glowDays)||0)>=1},{id:3,title:"Glow Warrior",description:"7 dias de glow",icon:"",unlocked:((t==null?void 0:t.stats.glowDays)||0)>=7},{id:4,title:"Check-in Master",description:"10 anlises realizadas",icon:"",unlocked:((t==null?void 0:t.stats.checkIns)||0)>=10},{id:5,title:"Style Creator",description:"5 looks criados",icon:"",unlocked:((t==null?void 0:t.stats.looksCreated)||0)>=5},{id:6,title:"Glow Legend",description:"30 dias de glow",icon:"",unlocked:((t==null?void 0:t.stats.glowDays)||0)>=30}];return i.jsxs("div",{className:"min-h-screen bg-gradient-glow pb-24",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:i.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/dashboard"),className:"rounded-full",children:i.jsx(Xa,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Meu Progresso"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Acompanhe sua jornada"})]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs(D,{className:"p-4 text-center shadow-soft border-primary/20 bg-gradient-primary/10 backdrop-blur-sm",children:[i.jsx(Pl,{className:"w-6 h-6 mx-auto mb-2 text-primary"}),i.jsx("div",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:(t==null?void 0:t.stats.glowDays)||0}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Dias de Glow"})]}),i.jsxs(D,{className:"p-4 text-center shadow-soft border-secondary/20 bg-gradient-to-br from-secondary/10 to-accent/10 backdrop-blur-sm",children:[i.jsx(HE,{className:"w-6 h-6 mx-auto mb-2 text-secondary-foreground"}),i.jsx("div",{className:"text-3xl font-bold text-secondary-foreground",children:(t==null?void 0:t.stats.checkIns)||0}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Anlises"})]}),i.jsxs(D,{className:"p-4 text-center shadow-soft border-accent/20 bg-accent/10 backdrop-blur-sm",children:[i.jsx($E,{className:"w-6 h-6 mx-auto mb-2 text-accent-foreground"}),i.jsx("div",{className:"text-3xl font-bold text-accent-foreground",children:(t==null?void 0:t.stats.looksCreated)||0}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Looks"})]})]}),i.jsx(D,{className:"p-5 shadow-soft border-primary/20 bg-card/50 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(Id,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Membro desde"}),i.jsx("p",{className:"font-semibold",children:s})]})]})}),i.jsxs(D,{className:"p-5 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm space-y-3",children:[i.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Seu Perfil"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"p-3 rounded-lg bg-primary/5 border border-primary/10",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tom de pele"}),i.jsx("p",{className:"font-medium capitalize",children:(t==null?void 0:t.skinTone)||"No definido"})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-secondary/5 border border-secondary/10",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Formato do rosto"}),i.jsx("p",{className:"font-medium capitalize",children:(t==null?void 0:t.faceShape)||"No definido"})]})]}),(t==null?void 0:t.analysisConfidence)&&i.jsxs("div",{className:"p-3 rounded-lg bg-accent/5 border border-accent/10",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Confiana da anlise"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 h-2 bg-border rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-primary",style:{width:`${t.analysisConfidence}%`}})}),i.jsxs("span",{className:"text-sm font-medium",children:[t.analysisConfidence,"%"]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold px-1",children:"Conquistas "}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(a=>i.jsx(D,{className:`p-4 shadow-soft backdrop-blur-sm transition-all ${a.unlocked?"border-primary/20 bg-gradient-primary/10":"border-border/50 bg-card/30 opacity-60"}`,children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"text-4xl",children:a.icon}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-sm",children:a.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:a.description})]}),a.unlocked&&i.jsx("div",{className:"text-xs bg-primary/20 text-primary px-2 py-1 rounded-full inline-block",children:"Desbloqueada"})]})},a.id))})]}),i.jsx(D,{className:"p-6 text-center shadow-soft border-primary/20 bg-gradient-accent/5 backdrop-blur-sm",children:i.jsx("p",{className:"text-sm italic text-foreground/80",children:'"Continue brilhando! Cada dia  uma oportunidade para valorizar sua beleza natural. "'})})]}),i.jsx(vr,{activeTab:r,onTabChange:n})]})},$D=()=>{const{toast:e}=at(),t=Ue(),r=pe(j=>j.profile);v.useState("saved");const[n,s]=v.useState("looks"),[o,a]=v.useState([]),[l,c]=v.useState([]),[u,d]=v.useState(!0),[h,m]=v.useState([]),[f,x]=v.useState(!1);v.useEffect(()=>{y()},[]);const p=j=>{if(!j||typeof j!="string"||!h.length)return null;const S=h.find(E=>{if(!E.description||typeof E.description!="string")return!1;const C=j.toLowerCase(),R=E.description.toLowerCase();return C.includes(R)||R.includes(C)});return(S==null?void 0:S.image_url)||null},y=async()=>{if(r!=null&&r.email){d(!0);try{const{data:j,error:S}=await Y.from("profiles").select("id").eq("email",r.email).single();if(S)throw S;const{data:E,error:C}=await Y.from("outfits").select("*").eq("profile_id",j.id).order("created_at",{ascending:!1});if(C)throw C;const R=(E||[]).map(I=>({...I,is_favorite:I.is_favorite??!1}));a(R);const k=await oO(r.email);c(k||[]);const{data:T,error:U}=await Y.from("closet_items").select("*").eq("profile_id",j.id);!U&&T&&m(T)}catch(j){console.error("Erro ao carregar salvos:",j),e({title:"Erro ao carregar",description:"No foi possvel carregar seus itens salvos",variant:"destructive"})}finally{d(!1)}}},w=async(j,S)=>{try{await lO(j,!S),a(o.map(E=>E.id===j?{...E,is_favorite:!S}:E)),e({title:S?"Removido dos favoritos":"Adicionado aos favoritos ",description:S?"Look desmarcado":"Look marcado como favorito"})}catch{e({title:"Erro",description:"No foi possvel atualizar favorito",variant:"destructive"})}},g=async j=>{const S=` Meu Look Perfeito 

 Ocasio: ${j.occasion}
 Top: ${j.top}
 Bottom: ${j.bottom}
 Calado: ${j.shoes}

Criado com Radiant You `;try{navigator.share?(await navigator.share({title:`Look: ${j.occasion}`,text:S}),e({title:"Compartilhado com sucesso! "})):(await navigator.clipboard.writeText(S),e({title:"Copiado! ",description:"Link copiado para a rea de transferncia"}))}catch(E){console.error("Erro ao compartilhar:",E)}},b=async(j,S)=>{try{await uO(j,S),e({title:"Look registrado! ",description:"Uso do look foi contabilizado nas estatsticas"})}catch(E){console.error("Erro ao registrar uso:",E)}},_=async j=>{console.log("Tentando deletar outfit com id:",j);try{const{data:S,error:E}=await Y.from("outfits").delete().eq("id",j).select();if(console.log("Resultado do delete outfit:",{data:S,error:E}),E)throw console.error("Erro Supabase ao deletar outfit:",E),E;a(o.filter(C=>C.id!==j)),e({title:"Look excludo! ",description:"O look foi removido dos seus salvos"})}catch(S){console.error("Erro ao deletar look:",S),e({title:"Erro ao excluir",description:S instanceof Error?S.message:"Tente novamente",variant:"destructive"})}},N=async j=>{console.log("Tentando deletar haircut com id:",j);try{const{data:S,error:E}=await Y.from("haircut_recommendations").delete().eq("id",j).select();if(console.log("Resultado do delete haircut:",{data:S,error:E}),E)throw console.error("Erro Supabase ao deletar haircut:",E),E;c(l.filter(C=>C.id!==j)),e({title:"Corte excludo! ",description:"O corte foi removido dos seus salvos"})}catch(S){console.error("Erro ao deletar corte:",S),e({title:"Erro ao excluir",description:S instanceof Error?S.message:"Tente novamente",variant:"destructive"})}};return i.jsxs("div",{className:"min-h-screen bg-gradient-glow pb-24",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:i.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:i.jsx(Aa,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Meus Salvos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looks e cortes salvos"})]})]})})}),i.jsx("div",{className:"max-w-md mx-auto px-6 py-6",children:i.jsxs(Rc,{defaultValue:"looks",className:"w-full",onValueChange:s,children:[i.jsxs(ni,{className:"grid w-full grid-cols-2 mb-6",children:[i.jsxs(Yt,{value:"looks",children:["Looks (",o.length,")"]}),i.jsxs(Yt,{value:"haircuts",children:["Cortes (",l.length,")"]})]}),i.jsxs(cs,{value:"looks",className:"space-y-4",children:[!u&&o.length>0&&i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx(z,{variant:f?"outline":"default",size:"sm",onClick:()=>x(!1),children:"Todos"}),i.jsxs(z,{variant:f?"default":"outline",size:"sm",onClick:()=>x(!0),children:[i.jsx($d,{className:"w-4 h-4 mr-1"}),"Favoritos"]})]}),u?i.jsx(D,{className:"p-8 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})}):o.length===0?i.jsxs(D,{className:"p-8 text-center space-y-3",children:[i.jsx(he,{className:"w-12 h-12 mx-auto text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhum look salvo ainda"}),i.jsx(z,{onClick:()=>t("/look-perfeito"),children:"Criar look"})]}):o.filter(j=>!f||j.is_favorite).map(j=>i.jsxs(D,{className:"overflow-hidden",children:[i.jsxs("div",{className:"flex items-start justify-between p-5 pb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-lg mb-1",children:j.occasion}),i.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(j.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>w(j.id,j.is_favorite),children:i.jsx($d,{className:`w-5 h-5 ${j.is_favorite?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`})}),i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>g(j),className:"text-primary hover:text-primary",children:i.jsx(YE,{className:"w-4 h-4"})}),i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>_(j.id),className:"text-destructive hover:text-destructive",children:i.jsx(as,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"px-5 pb-4 space-y-3",children:[(()=>{const S=p(j.top);return i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[S?i.jsx("img",{src:S,alt:j.top,className:"w-16 h-16 rounded-lg object-cover"}):i.jsx("div",{className:"w-16 h-16 rounded-lg bg-primary/10 flex items-center justify-center text-2xl flex-shrink-0",children:""}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-sm font-medium truncate",children:j.top})})]})})(),(()=>{const S=p(j.bottom);return i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[S?i.jsx("img",{src:S,alt:j.bottom,className:"w-16 h-16 rounded-lg object-cover"}):i.jsx("div",{className:"w-16 h-16 rounded-lg bg-secondary/10 flex items-center justify-center text-2xl flex-shrink-0",children:""}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-sm font-medium truncate",children:j.bottom})})]})})(),(()=>{const S=p(j.shoes);return i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[S?i.jsx("img",{src:S,alt:j.shoes,className:"w-16 h-16 rounded-lg object-cover"}):i.jsx("div",{className:"w-16 h-16 rounded-lg bg-accent/10 flex items-center justify-center text-2xl flex-shrink-0",children:""}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-sm font-medium truncate",children:j.shoes})})]})})(),j.accessories&&(()=>{const S=p(j.accessories);return i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[S?i.jsx("img",{src:S,alt:j.accessories,className:"w-16 h-16 rounded-lg object-cover"}):i.jsx("div",{className:"w-16 h-16 rounded-lg bg-primary/10 flex items-center justify-center text-2xl flex-shrink-0",children:""}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-sm font-medium truncate",children:j.accessories})})]})})()]}),j.reasoning&&i.jsxs("div",{className:"px-5 pb-3 pt-3 border-t",children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:" Por que funciona:"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:j.reasoning})]}),i.jsx("div",{className:"px-5 pb-5",children:i.jsx(z,{className:"w-full bg-gradient-primary hover:opacity-90 transition-opacity text-white",onClick:async()=>{const{data:S}=await Y.from("profiles").select("id").eq("email",r==null?void 0:r.email).single();S&&await b(j.id,S.id)},children:" Usei este look hoje"})})]},j.id))]}),i.jsx(cs,{value:"haircuts",className:"space-y-4",children:u?i.jsx(D,{className:"p-8 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})}):l.length===0?i.jsxs(D,{className:"p-8 text-center space-y-3",children:[i.jsx(yo,{className:"w-12 h-12 mx-auto text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhum corte salvo ainda"}),i.jsx(z,{onClick:()=>t("/glow-hair"),children:"Ver recomendaes"})]}):l.map(j=>i.jsxs(D,{className:"overflow-hidden",children:[i.jsxs("div",{className:"relative h-48 w-full",children:[i.jsx("img",{src:j.image_url,alt:j.cut_name,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[i.jsx("h3",{className:"text-xl font-bold",children:j.cut_name}),i.jsxs("p",{className:"text-xs opacity-90",children:["Rosto: ",j.face_shape]})]})]}),i.jsxs("div",{className:"p-5 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:new Date(j.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})}),i.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>N(j.id),className:"text-destructive hover:text-destructive h-8",children:[i.jsx(as,{className:"w-4 h-4 mr-1"}),"Excluir"]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Descrio"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:j.description})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-primary/5 border border-primary/20",children:[i.jsx("h4",{className:"font-semibold text-sm mb-1 text-primary",children:"Por que funciona"}),i.jsx("p",{className:"text-sm",children:j.why_it_works})]}),j.styling_tips&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Dicas de finalizao"}),i.jsx("div",{className:"space-y-1",children:j.styling_tips.split(`
`).map((S,E)=>i.jsxs("p",{className:"text-sm",children:[" ",S]},E))})]})]})]},j.id))})]})}),i.jsx(vr,{activeTab:"saved",onTabChange:j=>t(`/${j}`)})]})},MD=()=>{const e=Ue();return i.jsxs("div",{className:"min-h-screen bg-gradient-glow pb-24",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:i.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/settings"),className:"rounded-full",children:i.jsx(Xa,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-2xl font-bold",children:"Sobre o Glow UP"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[i.jsxs(D,{className:"p-8 text-center shadow-soft border-primary/20 bg-card/50 backdrop-blur-sm space-y-4",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-primary shadow-glow mx-auto animate-float",children:i.jsx(he,{className:"w-10 h-10 text-primary-foreground"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Glow UP"}),i.jsx("p",{className:"text-muted-foreground",children:"Seu guia de beleza personalizado com inteligncia artificial"})]})]}),i.jsxs(D,{className:"p-6 shadow-soft border-primary/20 bg-card/50 backdrop-blur-sm space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(mr,{className:"w-6 h-6 text-primary"})}),i.jsx("h3",{className:"text-xl font-semibold",children:"Nossa Misso"})]}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Ajudar voc a descobrir e valorizar sua beleza natural atravs de recomendaes personalizadas baseadas em suas caractersticas nicas."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold px-1",children:"O que oferecemos"}),i.jsx(D,{className:"p-5 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(he,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-1",children:"Anlise com IA"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Usamos Google Gemini AI para analisar seu tom de pele e formato do rosto"})]})]})}),i.jsx(D,{className:"p-5 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(mr,{className:"w-5 h-5 text-secondary-foreground"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-1",children:"Recomendaes Personalizadas"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Sugestes de skincare, cabelo e estilo especficas para voc"})]})]})}),i.jsx(D,{className:"p-5 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent/10 flex items-center justify-center flex-shrink-0",children:i.jsx(Tx,{className:"w-5 h-5 text-accent-foreground"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-1",children:"Privacidade"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Seus dados so protegidos e nunca compartilhados com terceiros"})]})]})})]}),i.jsxs(D,{className:"p-6 shadow-soft border-primary/20 bg-gradient-primary/5 backdrop-blur-sm space-y-3",children:[i.jsx("h3",{className:"font-semibold",children:"Tecnologia"}),i.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsxs("p",{children:[" ",i.jsx("span",{className:"font-medium text-foreground",children:"Google Gemini AI"})," - Anlise facial avanada"]}),i.jsxs("p",{children:[" ",i.jsx("span",{className:"font-medium text-foreground",children:"Supabase"})," - Database seguro na nuvem"]}),i.jsxs("p",{children:[" ",i.jsx("span",{className:"font-medium text-foreground",children:"React + TypeScript"})," - Interface moderna"]}),i.jsxs("p",{children:[" ",i.jsx("span",{className:"font-medium text-foreground",children:"Tailwind CSS"})," - Design responsivo"]})]})]}),i.jsxs(D,{className:"p-6 shadow-soft border-border/50 bg-card/50 backdrop-blur-sm text-center space-y-3",children:[i.jsx(Ax,{className:"w-12 h-12 mx-auto text-primary"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:"Entre em Contato"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Dvidas ou sugestes? Envie para:"}),i.jsx("p",{className:"text-sm font-medium text-primary mt-2",children:"contato@glowup.com"})]})]}),i.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[i.jsx("p",{children:"Verso 1.0.0"}),i.jsx("p",{className:"mt-1",children:" 2025 Glow UP. Todos os direitos reservados."})]})]})]})},UD=()=>{const e=Ue();return i.jsxs("div",{className:"min-h-screen gradient-glow flex flex-col items-center justify-center p-6",children:[i.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-primary opacity-20 rounded-full blur-3xl animate-float"}),i.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-gradient-accent opacity-20 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),i.jsxs("div",{className:"max-w-md w-full space-y-8 relative z-10 animate-fade-in",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-primary shadow-glow mb-4",children:i.jsx(Cx,{className:"w-12 h-12 text-primary-foreground"})}),i.jsx("h1",{className:"text-6xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"404"}),i.jsx("h2",{className:"text-2xl font-semibold",children:"Pgina no encontrada"}),i.jsx("p",{className:"text-lg text-muted-foreground max-w-sm mx-auto",children:"Ops! Parece que esta pgina no existe ou foi movida."})]}),i.jsxs(D,{className:"p-6 shadow-medium backdrop-blur-sm bg-card/80 border-primary/20 space-y-4",children:[i.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Que tal explorar essas pginas?"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(z,{onClick:()=>e("/dashboard"),className:"w-full bg-gradient-primary hover:opacity-90 transition-opacity shadow-medium",size:"lg",children:[i.jsx(Nx,{className:"mr-2 w-5 h-5"}),"Ir para o Dashboard"]}),i.jsx(z,{onClick:()=>e("/"),variant:"outline",className:"w-full",size:"lg",children:"Voltar ao incio"})]})]}),i.jsxs(D,{className:"p-6 text-center shadow-soft border-primary/20 bg-gradient-accent/5 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(he,{className:"w-5 h-5 text-primary"}),i.jsx("p",{className:"font-semibold",children:"Continue sua jornada!"})]}),i.jsx("p",{className:"text-sm text-muted-foreground italic",children:'"Sua beleza natural merece ser celebrada todos os dias "'})]})]})]})},tj=A_,FD=P_,zD=O_,rj=v.forwardRef(({className:e,...t},r)=>i.jsx(nm,{ref:r,className:ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));rj.displayName=nm.displayName;const lm=v.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(zD,{children:[i.jsx(rj,{}),i.jsxs(sm,{ref:n,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(im,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(vf,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lm.displayName=sm.displayName;const cm=({className:e,...t})=>i.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});cm.displayName="DialogHeader";const um=v.forwardRef(({className:e,...t},r)=>i.jsx(om,{ref:r,className:ee("text-lg font-semibold leading-none tracking-tight",e),...t}));um.displayName=om.displayName;const BD=v.forwardRef(({className:e,...t},r)=>i.jsx(am,{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));BD.displayName=am.displayName;const VD=()=>{const{toast:e}=at(),t=Ue(),r=pe(k=>k.profile),[n,s]=v.useState("home"),[o,a]=v.useState(g(new Date)),[l,c]=v.useState([]),[u,d]=v.useState([]),[h,m]=v.useState(!0),[f,x]=v.useState(!1),[p,y]=v.useState(null),w=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];function g(k){const T=new Date(k),U=T.getDay(),I=T.getDate()-U;return new Date(T.setDate(I))}function b(k){return k.toISOString().split("T")[0]}function _(){const k=[];for(let T=0;T<7;T++){const U=new Date(o);U.setDate(o.getDate()+T),k.push(U)}return k}v.useEffect(()=>{N(),j()},[o,r==null?void 0:r.email]);const N=async()=>{if(r!=null&&r.email){m(!0);try{const{data:k}=await Y.from("profiles").select("id").eq("email",r.email).single();if(!k)return;const T=_(),U=b(T[0]),I=b(T[6]),J=await fO(k.id,U,I);c(J)}catch(k){console.error("Erro ao carregar planejamento:",k)}finally{m(!1)}}},j=async()=>{if(r!=null&&r.email)try{const{data:k}=await Y.from("profiles").select("id").eq("email",r.email).single();if(!k)return;const{data:T}=await Y.from("outfits").select("*").eq("profile_id",k.id).order("created_at",{ascending:!1});d(T||[])}catch(k){console.error("Erro ao carregar looks:",k)}},S=async k=>{if(!(!(r!=null&&r.email)||!p))try{const{data:T}=await Y.from("profiles").select("id").eq("email",r.email).single();if(!T)return;const U=new Date(p);await hO({profile_id:T.id,outfit_id:k,date:p,day_of_week:U.getDay()})&&(e({title:"Look agendado! ",description:"Seu look foi adicionado ao planejamento semanal"}),N(),x(!1),y(null))}catch(T){console.error("Erro ao agendar look:",T),e({title:"Erro",description:"No foi possvel agendar o look",variant:"destructive"})}},E=async k=>{await mO(k)&&(e({title:"Look removido",description:"O look foi removido do planejamento"}),N())},C=k=>{const T=b(k);return l.find(U=>U.date===T)},R=k=>{const T=new Date(o);T.setDate(T.getDate()+(k==="next"?7:-7)),a(g(T))};return i.jsxs("div",{className:"min-h-screen bg-gradient-glow pb-24",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:i.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),children:i.jsx(Aa,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Planejador Semanal"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Organize seus looks da semana"})]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[i.jsx(D,{className:"p-4 shadow-soft",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>R("prev"),children:i.jsx(Aa,{className:"w-5 h-5"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-semibold",children:o.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[b(_()[0])," - ",b(_()[6])]})]}),i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>R("next"),children:i.jsx(UE,{className:"w-5 h-5"})})]})}),i.jsx("div",{className:"space-y-3",children:_().map((k,T)=>{const U=C(k),I=b(k)===b(new Date);return i.jsxs(D,{className:`p-4 shadow-soft ${I?"border-primary":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[w[k.getDay()],I&&i.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-0.5 rounded-full",children:"Hoje"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:k.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})})]}),!U&&i.jsxs(z,{size:"sm",variant:"outline",onClick:()=>{y(b(k)),x(!0)},children:[i.jsx(Al,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]}),U&&U.outfits?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 space-y-1",children:[i.jsxs("p",{className:"text-sm font-medium",children:[" ",U.outfits.top]}),i.jsxs("p",{className:"text-sm font-medium",children:[" ",U.outfits.bottom]}),i.jsxs("p",{className:"text-sm font-medium",children:[" ",U.outfits.shoes]})]}),i.jsxs(z,{size:"sm",variant:"ghost",className:"w-full text-destructive",onClick:()=>E(U.id),children:[i.jsx(vf,{className:"w-4 h-4 mr-1"}),"Remover"]})]}):i.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhum look planejado"})]},T)})})]}),i.jsx(tj,{open:f,onOpenChange:x,children:i.jsxs(lm,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[i.jsx(cm,{children:i.jsx(um,{children:"Escolha um Look"})}),i.jsx("div",{className:"space-y-3",children:u.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Voc ainda no tem looks salvos"}):u.map(k=>i.jsxs(D,{className:"p-4 cursor-pointer hover:border-primary transition-colors",onClick:()=>S(k.id),children:[i.jsx("p",{className:"font-semibold mb-2",children:k.occasion}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("p",{children:[" ",k.top]}),i.jsxs("p",{children:[" ",k.bottom]}),i.jsxs("p",{children:[" ",k.shoes]})]})]},k.id))})]})}),i.jsx(vr,{activeTab:n,onTabChange:s})]})},HD=()=>{at();const e=Ue(),t=pe(m=>m.profile),[r,n]=v.useState("profile"),[s,o]=v.useState([]),[a,l]=v.useState(!0),[c,u]=v.useState(null);v.useEffect(()=>{d()},[c]);const d=async()=>{if(t!=null&&t.email){l(!0);try{const{data:m}=await Y.from("profiles").select("id").eq("email",t.email).single();if(!m)return;const f=await cO(m.id,c||void 0);o(f)}catch(m){console.error("Erro ao carregar histrico:",m)}finally{l(!1)}}},h=m=>({face:" Rosto",skin:" Pele",hair:" Cabelo"})[m]||m;return i.jsxs("div",{className:"min-h-screen bg-gradient-glow pb-24",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:i.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/profile"),children:i.jsx(Aa,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Histrico de Anlises"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Suas anlises anteriores"})]})]})})}),i.jsx("div",{className:"max-w-md mx-auto px-6 py-6",children:i.jsxs(Rc,{defaultValue:"all",onValueChange:m=>u(m==="all"?null:m),children:[i.jsxs(ni,{className:"grid w-full grid-cols-4 mb-6",children:[i.jsx(Yt,{value:"all",children:"Todas"}),i.jsx(Yt,{value:"face",children:"Rosto"}),i.jsx(Yt,{value:"skin",children:"Pele"}),i.jsx(Yt,{value:"hair",children:"Cabelo"})]}),i.jsx("div",{className:"space-y-4",children:a?i.jsx(D,{className:"p-8 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})}):s.length===0?i.jsxs(D,{className:"p-8 text-center space-y-3",children:[i.jsx(yn,{className:"w-12 h-12 mx-auto text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma anlise encontrada"})]}):s.map(m=>i.jsxs(D,{className:"overflow-hidden",children:[m.photo_url&&i.jsx("div",{className:"h-48 w-full",children:i.jsx("img",{src:m.photo_url,alt:"Anlise",className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-5 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-lg font-semibold",children:h(m.analysis_type)}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(m.created_at).toLocaleDateString("pt-BR")})]}),i.jsx("div",{className:"text-sm space-y-2",children:Object.entries(m.result_data).map(([f,x])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-muted-foreground capitalize",children:[f,":"]}),i.jsx("span",{className:"font-medium",children:String(x)})]},f))})]})]},m.id))})]})}),i.jsx(vr,{activeTab:r,onTabChange:n})]})},qD=()=>{const{toast:e}=at(),t=Ue(),r=pe(g=>g.profile),[n,s]=v.useState("profile"),[o,a]=v.useState([]),[l,c]=v.useState(!0),[u,d]=v.useState(!1),[h,m]=v.useState({type:"skincare",title:"",message:"",time:"09:00"});v.useEffect(()=>{f()},[]);const f=async()=>{if(!(r!=null&&r.email)){console.log("Sem email no profile");return}c(!0);try{const{data:g}=await Y.from("profiles").select("id").eq("email",r.email).single();if(console.log("Profile data:",g),!g){console.log("Profile no encontrado");return}const b=await gO(g.id,!1);console.log("Lembretes carregados:",b),a(b)}catch(g){console.error("Erro ao carregar lembretes:",g)}finally{c(!1)}},x=async()=>{if(!(r!=null&&r.email)||!h.title){console.log("Faltam dados:",{email:r==null?void 0:r.email,title:h.title});return}try{const{data:g}=await Y.from("profiles").select("id").eq("email",r.email).single();if(console.log("Profile para criar lembrete:",g),!g)return;const b={profile_id:g.id,reminder_type:h.type,title:h.title,message:h.message||"",scheduled_time:h.time+":00"};console.log("Dados do lembrete a ser salvo:",b);const _=await pO(b);console.log("Resultado do save:",_),e({title:"Lembrete criado",description:"Seu lembrete foi salvo com sucesso"}),d(!1),m({type:"skincare",title:"",message:"",time:"09:00"}),await f()}catch(g){console.error("Erro completo ao criar lembrete:",g),e({title:"Erro",description:"No foi possvel criar o lembrete",variant:"destructive"})}},p=async(g,b)=>{try{await vO(g,!b),f()}catch{e({title:"Erro",description:"No foi possvel atualizar o lembrete",variant:"destructive"})}},y=async g=>{try{await yO(g),e({title:"Lembrete excludo"}),f()}catch{e({title:"Erro",description:"No foi possvel excluir o lembrete",variant:"destructive"})}},w=g=>({skincare:"",outfit:"",hair:"",general:""})[g]||"";return i.jsxs("div",{className:"min-h-screen bg-gradient-glow pb-24",children:[i.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:i.jsx("div",{className:"max-w-md mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t("/profile"),children:i.jsx(Aa,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Lembretes"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificaes e alertas"})]})]}),i.jsxs(tj,{open:u,onOpenChange:d,children:[i.jsx(FD,{asChild:!0,children:i.jsx(z,{size:"icon",children:i.jsx(Al,{className:"w-5 h-5"})})}),i.jsxs(lm,{children:[i.jsx(cm,{children:i.jsx(um,{children:"Novo Lembrete"})}),i.jsxs("div",{className:"space-y-4 pt-4",children:[i.jsxs("div",{children:[i.jsx(Pt,{children:"Tipo"}),i.jsxs("select",{className:"w-full mt-1 p-2 rounded-md border bg-background",value:h.type,onChange:g=>m({...h,type:g.target.value}),children:[i.jsx("option",{value:"skincare",children:"Skincare"}),i.jsx("option",{value:"outfit",children:"Look"}),i.jsx("option",{value:"hair",children:"Cabelo"}),i.jsx("option",{value:"general",children:"Geral"})]})]}),i.jsxs("div",{children:[i.jsx(Pt,{children:"Ttulo"}),i.jsx(Or,{value:h.title,onChange:g=>m({...h,title:g.target.value}),placeholder:"Ex: Lavar o cabelo"})]}),i.jsxs("div",{children:[i.jsx(Pt,{children:"Mensagem"}),i.jsx(Qf,{value:h.message,onChange:g=>m({...h,message:g.target.value}),placeholder:"Detalhes do lembrete..."})]}),i.jsxs("div",{children:[i.jsx(Pt,{children:"Horrio"}),i.jsx(Or,{type:"time",value:h.time,onChange:g=>m({...h,time:g.target.value})})]}),i.jsx(z,{onClick:x,className:"w-full",children:"Criar Lembrete"})]})]})]})]})})}),i.jsx("div",{className:"max-w-md mx-auto px-6 py-6 space-y-4",children:l?i.jsx(D,{className:"p-8 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})}):o.length===0?i.jsxs(D,{className:"p-8 text-center space-y-3",children:[i.jsx(gf,{className:"w-12 h-12 mx-auto text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhum lembrete criado"})]}):o.map(g=>i.jsx(D,{className:"p-5",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("span",{className:"text-3xl",children:w(g.reminder_type)}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:g.title}),g.message&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.message})]}),i.jsx(Hl,{checked:g.is_active,onCheckedChange:()=>p(g.id,g.is_active)})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[i.jsx(BE,{className:"w-4 h-4"}),new Date(g.scheduled_time).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>y(g.id),children:i.jsx(as,{className:"w-4 h-4 text-destructive"})})]})]})]})},g.id))}),i.jsx(vr,{activeTab:n,onTabChange:s})]})},GD=new CT,WD=()=>i.jsx(RT,{client:GD,children:i.jsxs(sT,{children:[i.jsx($k,{}),i.jsx(yC,{}),i.jsx(jR,{children:i.jsxs(wR,{children:[i.jsx(Re,{path:"/",element:i.jsx(xO,{})}),i.jsx(Re,{path:"/login",element:i.jsx(NO,{})}),i.jsx(Re,{path:"/register",element:i.jsx(EO,{})}),i.jsx(Re,{path:"/onboarding",element:i.jsx(uI,{})}),i.jsx(Re,{path:"/dashboard",element:i.jsx(hI,{})}),i.jsx(Re,{path:"/skin",element:i.jsx(AI,{})}),i.jsx(Re,{path:"/hair",element:i.jsx(HI,{})}),i.jsx(Re,{path:"/style",element:i.jsx(GI,{})}),i.jsx(Re,{path:"/look-perfeito",element:i.jsx(WI,{})}),i.jsx(Re,{path:"/profile",element:i.jsx(d5,{})}),i.jsx(Re,{path:"/settings",element:i.jsx(ID,{})}),i.jsx(Re,{path:"/edit-profile",element:i.jsx(DD,{})}),i.jsx(Re,{path:"/my-progress",element:i.jsx(LD,{})}),i.jsx(Re,{path:"/my-saved",element:i.jsx($D,{})}),i.jsx(Re,{path:"/about",element:i.jsx(MD,{})}),i.jsx(Re,{path:"/weekly-planner",element:i.jsx(VD,{})}),i.jsx(Re,{path:"/analysis-history",element:i.jsx(HD,{})}),i.jsx(Re,{path:"/reminders",element:i.jsx(qD,{})}),i.jsx(Re,{path:"*",element:i.jsx(UD,{})})]})})]})});function KD({children:e,defaultTheme:t="system",storageKey:r="radiant-you-theme",...n}){return i.jsx(Fk,{attribute:"class",defaultTheme:t,enableSystem:!0,storageKey:r,...n,children:e})}G0(document.getElementById("root")).render(i.jsx(KD,{children:i.jsx(WD,{})}));
